(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return c}));var i=n("30Go"),r=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),o="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=o);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new r.a;this.instancesDeferred.set(e,n);try{var i=this.getOrInitializeService(e);i&&n.resolve(i)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(i.a)({identifier:o,optional:!1},t),n=e.optional,r=this.normalizeInstanceIdentifier(e.identifier);try{var s=this.getOrInitializeService(r);if(!s){if(n)return null;throw Error("Service "+this.name+" is not available")}return s}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(o)}catch(h){}try{for(var r=Object(i.h)(this.instancesDeferred.entries()),s=r.next();!s.done;s=r.next()){var a=Object(i.e)(s.value,2),c=a[1],u=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService(u);c.resolve(l)}catch(h){}}}catch(d){e={error:d}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(i.b)(this,void 0,void 0,(function(){var t;return Object(i.d)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(i.f)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===o?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:o:t},t}(),c=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));const i=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));let i=!1;const r={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}}},"30Go":function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return o})),n.d(e,"d",(function(){return a})),n.d(e,"h",(function(){return c})),n.d(e,"e",(function(){return u})),n.d(e,"f",(function(){return l})),n.d(e,"g",(function(){return h}));var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function r(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function o(t,e,n,i){return new(n||(n=Promise))((function(r,s){function o(t){try{c(i.next(t))}catch(e){s(e)}}function a(t){try{c(i.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}c((i=i.apply(t,e||[])).next())}))}function a(t,e){var n,i,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function c(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(i=s.next()).done;)o.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(u(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,r++)i[r]=s[o];return i}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("quSY");class r extends i.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends r{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,i=void 0;try{this.work(t)}catch(r){n=!0,i=!!r&&r||new Error(r)}if(n)return this.unsubscribe(),i}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("lJxs"),r=n("Cfvw"),s=n("zx2A");function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>Object(r.a)(t(n,s)).pipe(Object(i.a)((t,i)=>e(n,t,s,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new c(t,this.project,this.concurrent))}}class c extends s.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.a(this),n=this.destination;n.add(e);const i=Object(s.c)(t,e);i!==e&&n.add(i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7Hc7":function(t,e,n){"use strict";n.d(e,"b",(function(){return d})),n.d(e,"a",(function(){return f}));let i=1;const r=(()=>Promise.resolve())(),s={};function o(t){return t in s&&(delete s[t],!0)}const a={setImmediate(t){const e=i++;return s[e]=!0,r.then(()=>o(e)&&t()),e},clearImmediate(t){o(t)}};var c=n("3N8a");class u extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var l=n("IjjT");class h extends l.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,i=-1,r=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++i<r&&(t=e.shift()));if(this.active=!1,n){for(;++i<r&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new h(u),f=d},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i=n("n6bG"),r=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),c=n("NJ4a");class u extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=r.a;break;case 1:if(!t){this.destination=r.a;break}if("object"==typeof t){t instanceof u?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const i=new u(t,e,n);return i.syncErrorThrowable=!1,i}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends u{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(i.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==r.a&&(a=Object.create(e),Object(i.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(c.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(c.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(c.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(i){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=i,t.syncErrorThrown=!0,!0):(Object(c.a)(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));const i=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var i=n("HDdC"),r=n("SeVD"),s=n("quSY"),o=n("kJWO"),a=n("jZKg"),c=n("Lhse"),u=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new i.a(n=>{const i=new s.a;return i.add(e.schedule(()=>{const r=t[o.a]();i.add(r.subscribe({next(t){i.add(e.schedule(()=>n.next(t)))},error(t){i.add(e.schedule(()=>n.error(t)))},complete(){i.add(e.schedule(()=>n.complete()))}}))})),i})}(t,e);if(Object(u.a)(t))return function(t,e){return new i.a(n=>{const i=new s.a;return i.add(e.schedule(()=>t.then(t=>{i.add(e.schedule(()=>{n.next(t),i.add(e.schedule(()=>n.complete()))}))},t=>{i.add(e.schedule(()=>n.error(t)))}))),i})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[c.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new i.a(n=>{const i=new s.a;let r;return i.add(()=>{r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(()=>{r=t[c.a](),i.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=r.next();t=n.value,e=n.done}catch(i){return void n.error(i)}e?n.complete():(n.next(t),this.schedule())})))})),i})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof i.a?t:new i.a(Object(r.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return s}));var i=n("3N8a");const r=new(n("IjjT").a)(i.a),s=r},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));const i=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return s}));var i=n("HDdC");const r=new i.a(t=>t.complete());function s(t){return t?function(t){return new i.a(e=>t.schedule(()=>e.complete()))}(t):r}},HDdC:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i=n("7o/Q"),r=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("SpAZ"),c=n("2fFW");let u=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof i.a)return t;if(t[r.a])return t[r.a]()}return t||e||n?new i.a(t,e,n):new i.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof i.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let i;i=this.subscribe(e=>{try{t(e)}catch(r){n(r),i&&i.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));const i=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));let i=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class r extends i{constructor(t,e=i.now){super(t,()=>r.delegate&&r.delegate!==this?r.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return r.delegate&&r.delegate!==this?r.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var i=n("zIRd");n.d(e,"a",(function(){return i.a})),i.a.registerVersion("firebase","8.2.3","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("z+Ro"),r=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(i.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(r.a)(t)}},Lhse:function(t,e,n){"use strict";function i(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",(function(){return r}));const r=i()},NJ4a:function(t,e,n){"use strict";function i(t){setTimeout(()=>{throw t},0)}n.d(e,"a",(function(){return i}))},SeVD:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n("ngJS"),r=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),c=n("c2HN"),u=n("XoHu");const l=t=>{if(t&&"function"==typeof t[o.a])return l=t,t=>{const e=l[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(i.a)(t);if(Object(c.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,r.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){let e;try{e=n.next()}catch(i){return t.error(i),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(u.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function i(t){return t}n.d(e,"a",(function(){return i}))},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("HDdC"),r=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(r.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof i.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},WMd4:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("EY2u"),r=n("LRne"),s=n("z6cu");let o=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(r.a)(this.value);case"E":return Object(s.a)(this.error);case"C":return Object(i.b)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return l}));var i=n("HDdC"),r=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),c=n("2QA8");class u extends r.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends i.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[c.a](){return new u(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,i=e.slice();for(let r=0;r<n;r++)i[r].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,i=e.slice();for(let r=0;r<n;r++)i[r].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let i=0;i<e;i++)n[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new i.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function i(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return i}))},Y7HM:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("DH7j");function r(t){return!Object(i.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("quSY");class r extends i.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("5+tZ"),r=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(i.a)(r.a,t)}},c2HN:function(t,e,n){"use strict";function i(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return i}))},fXoL:function(t,e,n){"use strict";n.d(e,"a",(function(){return Sc})),n.d(e,"b",(function(){return Cc})),n.d(e,"c",(function(){return xc})),n.d(e,"d",(function(){return bu})),n.d(e,"e",(function(){return lu})),n.d(e,"f",(function(){return us})),n.d(e,"g",(function(){return ua})),n.d(e,"h",(function(){return jc})),n.d(e,"i",(function(){return la})),n.d(e,"j",(function(){return fu})),n.d(e,"k",(function(){return jn})),n.d(e,"l",(function(){return tc})),n.d(e,"m",(function(){return W})),n.d(e,"n",(function(){return m})),n.d(e,"o",(function(){return Q})),n.d(e,"p",(function(){return Os})),n.d(e,"q",(function(){return ka})),n.d(e,"r",(function(){return Aa})),n.d(e,"s",(function(){return Pc})),n.d(e,"t",(function(){return ct})),n.d(e,"u",(function(){return su})),n.d(e,"v",(function(){return qc})),n.d(e,"w",(function(){return d})),n.d(e,"x",(function(){return kc})),n.d(e,"y",(function(){return Tc})),n.d(e,"z",(function(){return nc})),n.d(e,"A",(function(){return pa})),n.d(e,"B",(function(){return da})),n.d(e,"C",(function(){return fa})),n.d(e,"D",(function(){return ga})),n.d(e,"E",(function(){return wi})),n.d(e,"F",(function(){return p})),n.d(e,"G",(function(){return Na})),n.d(e,"H",(function(){return Zc})),n.d(e,"I",(function(){return hs})),n.d(e,"J",(function(){return ya})),n.d(e,"K",(function(){return ba})),n.d(e,"L",(function(){return La})),n.d(e,"M",(function(){return bt})),n.d(e,"N",(function(){return ou})),n.d(e,"O",(function(){return Yn})),n.d(e,"P",(function(){return D})),n.d(e,"Q",(function(){return rt})),n.d(e,"R",(function(){return Xn})),n.d(e,"S",(function(){return mu})),n.d(e,"T",(function(){return eu})),n.d(e,"U",(function(){return Dc})),n.d(e,"V",(function(){return ds})),n.d(e,"W",(function(){return $o})),n.d(e,"X",(function(){return _i})),n.d(e,"Y",(function(){return ni})),n.d(e,"Z",(function(){return Hn})),n.d(e,"ab",(function(){return Un})),n.d(e,"bb",(function(){return Wn})),n.d(e,"cb",(function(){return Gn})),n.d(e,"db",(function(){return qn})),n.d(e,"eb",(function(){return Qn})),n.d(e,"fb",(function(){return Go})),n.d(e,"gb",(function(){return pu})),n.d(e,"hb",(function(){return Qo})),n.d(e,"ib",(function(){return Wo})),n.d(e,"jb",(function(){return zn})),n.d(e,"kb",(function(){return F})),n.d(e,"lb",(function(){return Ms})),n.d(e,"mb",(function(){return ro})),n.d(e,"nb",(function(){return io})),n.d(e,"ob",(function(){return qo})),n.d(e,"pb",(function(){return ne})),n.d(e,"qb",(function(){return T})),n.d(e,"rb",(function(){return Bn})),n.d(e,"sb",(function(){return ks})),n.d(e,"tb",(function(){return $t})),n.d(e,"ub",(function(){return oa})),n.d(e,"vb",(function(){return Hi})),n.d(e,"wb",(function(){return zs})),n.d(e,"xb",(function(){return Fo})),n.d(e,"yb",(function(){return Co})),n.d(e,"zb",(function(){return mc})),n.d(e,"Ab",(function(){return wt})),n.d(e,"Bb",(function(){return Tt})),n.d(e,"Cb",(function(){return y})),n.d(e,"Db",(function(){return _})),n.d(e,"Eb",(function(){return St})),n.d(e,"Fb",(function(){return kt})),n.d(e,"Gb",(function(){return Qs})),n.d(e,"Hb",(function(){return Zs})),n.d(e,"Ib",(function(){return eo})),n.d(e,"Jb",(function(){return to})),n.d(e,"Kb",(function(){return Js})),n.d(e,"Lb",(function(){return Ys})),n.d(e,"Mb",(function(){return Xs})),n.d(e,"Nb",(function(){return no})),n.d(e,"Ob",(function(){return kn})),n.d(e,"Pb",(function(){return Vo})),n.d(e,"Qb",(function(){return it})),n.d(e,"Rb",(function(){return Ws})),n.d(e,"Sb",(function(){return Ec})),n.d(e,"Tb",(function(){return so})),n.d(e,"Ub",(function(){return yc})),n.d(e,"Vb",(function(){return Ke})),n.d(e,"Wb",(function(){return We})),n.d(e,"Xb",(function(){return lo})),n.d(e,"Yb",(function(){return Za})),n.d(e,"Zb",(function(){return Ja})),n.d(e,"ac",(function(){return po})),n.d(e,"bc",(function(){return fo})),n.d(e,"cc",(function(){return Ks})),n.d(e,"dc",(function(){return Wa})),n.d(e,"ec",(function(){return Ka})),n.d(e,"fc",(function(){return $a})),n.d(e,"gc",(function(){return hc})),n.d(e,"hc",(function(){return Gs})),n.d(e,"ic",(function(){return Gt})),n.d(e,"jc",(function(){return we})),n.d(e,"kc",(function(){return Ei})),n.d(e,"lc",(function(){return Ot})),n.d(e,"mc",(function(){return gc})),n.d(e,"nc",(function(){return dc})),n.d(e,"oc",(function(){return Eo})),n.d(e,"pc",(function(){return oo})),n.d(e,"qc",(function(){return Bo})),n.d(e,"rc",(function(){return qs})),n.d(e,"sc",(function(){return No})),n.d(e,"tc",(function(){return Ro})),n.d(e,"uc",(function(){return Lo})),n.d(e,"vc",(function(){return Mo})),n.d(e,"wc",(function(){return fc}));var i=n("XNiG"),r=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("w1tV");function c(t){return{toString:t}.toString()}const u="__parameters__";function l(t,e,n){return c(()=>{const i=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function r(...t){if(this instanceof r)return i.apply(this,t),this;const e=new r(...t);return n.annotation=e,n;function n(t,n,i){const r=t.hasOwnProperty(u)?t[u]:Object.defineProperty(t,u,{value:[]})[u];for(;r.length<=i;)r.push(null);return(r[i]=r[i]||[]).push(e),t}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}const h=l("Inject",t=>({token:t})),d=l("Optional"),f=l("Self"),p=l("SkipSelf");var m=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function g(t){for(let e in t)if(t[e]===g)return e;throw Error("Could not find renamed property on target object.")}function b(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function y(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function _(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function v(t){return w(t,t[C])||w(t,t[O])}function w(t,e){return e&&e.token===t?e:null}function E(t){return t&&(t.hasOwnProperty(x)||t.hasOwnProperty(I))?t[x]:null}const C=g({"\u0275prov":g}),x=g({"\u0275inj":g}),S=g({"\u0275provFallback":g}),O=g({ngInjectableDef:g}),I=g({ngInjectorDef:g});function T(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(T).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function k(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const A=g({__forward_ref__:g});function D(t){return t.__forward_ref__=D,t.toString=function(){return T(this())},t}function P(t){return j(t)?t():t}function j(t){return"function"==typeof t&&t.hasOwnProperty(A)&&t.__forward_ref__===D}const N="undefined"!=typeof globalThis&&globalThis,R="undefined"!=typeof window&&window,L="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,M="undefined"!=typeof global&&global,F=N||M||R||L,V=g({"\u0275cmp":g}),B=g({"\u0275dir":g}),H=g({"\u0275pipe":g}),z=g({"\u0275mod":g}),U=g({"\u0275loc":g}),q=g({"\u0275fac":g}),G=g({__NG_ELEMENT_ID__:g});class Q{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=y({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const W=new Q("INJECTOR",-1),K={},$=/\n/gm,X="__source",Y=g({provide:String,useValue:g});let Z,J=void 0;function tt(t){const e=J;return J=t,e}function et(t){const e=Z;return Z=t,e}function nt(t,e=m.Default){if(void 0===J)throw new Error("inject() must be called from an injection context");return null===J?st(t,void 0,e):J.get(t,e&m.Optional?null:void 0,e)}function it(t,e=m.Default){return(Z||nt)(P(t),e)}const rt=it;function st(t,e,n){const i=v(t);if(i&&"root"==i.providedIn)return void 0===i.value?i.value=i.factory():i.value;if(n&m.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${T(t)}]`)}function ot(t){const e=[];for(let n=0;n<t.length;n++){const i=P(t[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=m.Default;for(let e=0;e<i.length;e++){const r=i[e];r instanceof d||"Optional"===r.ngMetadataName||r===d?n|=m.Optional:r instanceof p||"SkipSelf"===r.ngMetadataName||r===p?n|=m.SkipSelf:r instanceof f||"Self"===r.ngMetadataName||r===f?n|=m.Self:t=r instanceof h||r===h?r.token:r}e.push(it(t,n))}else e.push(it(i))}return e}class at{get(t,e=K){if(e===K){const e=new Error(`NullInjectorError: No provider for ${T(t)}!`);throw e.name="NullInjectorError",e}return e}}class ct{}function ut(t,e){t.forEach(t=>Array.isArray(t)?ut(t,e):e(t))}function lt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ht(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function dt(t,e){const n=[];for(let i=0;i<t;i++)n.push(e);return n}function ft(t,e,n){let i=mt(t,e);return i>=0?t[1|i]=n:(i=~i,function(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(1===r)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;)t[r]=t[r-2],r--;t[e]=n,t[e+1]=i}}(t,i,e,n)),i}function pt(t,e){const n=mt(t,e);if(n>=0)return t[1|n]}function mt(t,e){return function(t,e,n){let i=0,r=t.length>>1;for(;r!==i;){const n=i+(r-i>>1),s=t[n<<1];if(e===s)return n<<1;s>e?r=n:i=n+1}return~(r<<1)}(t,e)}var gt=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),bt=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const yt={},_t=[];let vt=0;function wt(t){return c(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===gt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||_t,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||bt.Emulated,id:"c",styles:t.styles||_t,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,r=t.features,s=t.pipes;return n.id+=vt++,n.inputs=It(t.inputs,e),n.outputs=It(t.outputs),r&&r.forEach(t=>t(n)),n.directiveDefs=i?()=>("function"==typeof i?i():i).map(Et):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(Ct):null,n})}function Et(t){return At(t)||function(t){return t[B]||null}(t)}function Ct(t){return function(t){return t[H]||null}(t)}const xt={};function St(t){const e={type:t.type,bootstrap:t.bootstrap||_t,declarations:t.declarations||_t,imports:t.imports||_t,exports:t.exports||_t,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&c(()=>{xt[t.id]=t.type}),e}function Ot(t,e){return c(()=>{const n=Pt(t,!0);n.declarations=e.declarations||_t,n.imports=e.imports||_t,n.exports=e.exports||_t})}function It(t,e){if(null==t)return yt;const n={};for(const i in t)if(t.hasOwnProperty(i)){let r=t[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),n[r]=i,e&&(e[r]=s)}return n}const Tt=wt;function kt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function At(t){return t[V]||null}function Dt(t,e){return t.hasOwnProperty(q)?t[q]:null}function Pt(t,e){const n=t[z]||null;if(!n&&!0===e)throw new Error(`Type ${T(t)} does not have '\u0275mod' property.`);return n}const jt=20,Nt=10;function Rt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Lt(t){return Array.isArray(t)&&!0===t[1]}function Mt(t){return 0!=(8&t.flags)}function Ft(t){return 2==(2&t.flags)}function Vt(t){return 1==(1&t.flags)}function Bt(t){return null!==t.template}function Ht(t){return 0!=(512&t[2])}function zt(t){return"string"==typeof t?t:null==t?"":""+t}function Ut(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():zt(t)}const qt=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(F))();function Gt(t){return{name:"body",target:t.ownerDocument.body}}function Qt(t){return t instanceof Function?t():t}function Wt(t,e){const n=e?" in "+e:"";throw new Error(`No provider for ${Ut(t)} found${n}`)}class Kt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function $t(){return Xt}function Xt(t){return t.type.prototype.ngOnChanges&&(t.setInput=Zt),Yt}function Yt(){const t=Jt(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===yt)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Zt(t,e,n,i){const r=Jt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:yt,current:null}),s=r.current||(r.current={}),o=r.previous,a=this.declaredInputs[n],c=o[a];s[a]=new Kt(c&&c.currentValue,e,o===yt),t[i]=e}function Jt(t){return t.__ngSimpleChanges__||null}$t.ngInherit=!0;const te="http://www.w3.org/2000/svg";let ee=void 0;function ne(t){ee=t}function ie(t){return!!t.listen}const re={createRenderer:(t,e)=>void 0!==ee?ee:"undefined"!=typeof document?document:void 0};function se(t){for(;Array.isArray(t);)t=t[0];return t}function oe(t,e){return se(e[t+jt])}function ae(t,e){return se(e[t.index])}function ce(t,e){return t.data[e+jt]}function ue(t,e){return t[e+jt]}function le(t,e){const n=e[t];return Rt(n)?n:n[0]}function he(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function de(t){return 4==(4&t[2])}function fe(t){return 128==(128&t[2])}function pe(t,e){return null===t||null==e?null:t[e]}function me(t){t[18]=0}function ge(t,e){t[5]+=e;let n=t,i=t[3];for(;null!==i&&(1===e&&1===n[5]||-1===e&&0===n[5]);)i[5]+=e,n=i,i=i[3]}const be={lFrame:Be(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ye(){return be.bindingsEnabled}function _e(){return be.lFrame.lView}function ve(){return be.lFrame.tView}function we(t){be.lFrame.contextLView=t}function Ee(){return be.lFrame.currentTNode}function Ce(t,e){be.lFrame.currentTNode=t,be.lFrame.isParent=e}function xe(){return be.lFrame.isParent}function Se(){be.lFrame.isParent=!1}function Oe(){return be.isInCheckNoChangesMode}function Ie(t){be.isInCheckNoChangesMode=t}function Te(){const t=be.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ke(){return be.lFrame.bindingIndex}function Ae(){return be.lFrame.bindingIndex++}function De(t){const e=be.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Pe(t,e){const n=be.lFrame;n.bindingIndex=n.bindingRootIndex=t,je(e)}function je(t){be.lFrame.currentDirectiveIndex=t}function Ne(t){const e=be.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function Re(){return be.lFrame.currentQueryIndex}function Le(t){be.lFrame.currentQueryIndex=t}function Me(t,e){const n=Ve();be.lFrame=n,n.currentTNode=e,n.lView=t}function Fe(t){const e=Ve(),n=t[1];be.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex}function Ve(){const t=be.lFrame,e=null===t?null:t.child;return null===e?Be(t):e}function Be(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function He(){const t=be.lFrame;return be.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ze=He;function Ue(){const t=He();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function qe(){return be.lFrame.selectedIndex}function Ge(t){be.lFrame.selectedIndex=t}function Qe(){const t=be.lFrame;return ce(t.tView,t.selectedIndex)}function We(){be.lFrame.currentNamespace=te}function Ke(){be.lFrame.currentNamespace=null}function $e(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:i,ngAfterContentChecked:r,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;i&&(t.contentHooks||(t.contentHooks=[])).push(-n,i),r&&((t.contentHooks||(t.contentHooks=[])).push(n,r),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,r)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Xe(t,e,n){Je(t,e,3,n)}function Ye(t,e,n,i){(3&t[2])===n&&Je(t,e,n,i)}function Ze(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Je(t,e,n,i){const r=null!=i?i:-1;let s=0;for(let o=void 0!==i?65535&t[18]:0;o<e.length;o++)if("number"==typeof e[o+1]){if(s=e[o],null!=i&&s>=i)break}else e[o]<0&&(t[18]+=65536),(s<r||-1==r)&&(tn(t,n,e,o),t[18]=(4294901760&t[18])+o+2),o++}function tn(t,e,n,i){const r=n[i]<0,s=n[i+1],o=t[r?-n[i]:n[i]];r?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,s.call(o)):s.call(o)}const en=-1;class nn{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function rn(t,e,n){const i=ie(t);let r=0;for(;r<n.length;){const s=n[r];if("number"==typeof s){if(0!==s)break;r++;const o=n[r++],a=n[r++],c=n[r++];i?t.setAttribute(e,a,c,o):e.setAttributeNS(o,a,c)}else{const o=s,a=n[++r];on(o)?i&&t.setProperty(e,o,a):i?t.setAttribute(e,o,a):e.setAttribute(o,a),r++}}return r}function sn(t){return 3===t||4===t||6===t}function on(t){return 64===t.charCodeAt(0)}function an(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?n=r:0===n||cn(t,n,r,null,-1===n||2===n?e[++i]:null)}}return t}function cn(t,e,n,i,r){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===i)return void(null!==r&&(t[s+1]=r));if(i===t[s+1])return void(t[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==i&&t.splice(s++,0,i),null!==r&&t.splice(s++,0,r)}function un(t){return t!==en}function ln(t){return 32767&t}function hn(t,e){let n=t>>16,i=e;for(;n>0;)i=i[15],n--;return i}let dn=!0;function fn(t){const e=dn;return dn=t,e}let pn=0;function mn(t,e){const n=bn(t,e);if(-1!==n)return n;const i=e[1];i.firstCreatePass&&(t.injectorIndex=e.length,gn(i.data,t),gn(e,null),gn(i.blueprint,null));const r=yn(t,e),s=t.injectorIndex;if(un(r)){const t=ln(r),n=hn(r,e),i=n[1].data;for(let r=0;r<8;r++)e[s+r]=n[t+r]|i[t+r]}return e[s+8]=r,s}function gn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function bn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function yn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;null!==r;){const t=r[1],e=t.type;if(i=2===e?t.declTNode:1===e?r[6]:null,null===i)return en;if(n++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return en}function _n(t,e,n){!function(t,e,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(G)&&(i=n[G]),null==i&&(i=n[G]=pn++);const r=255&i,s=1<<r,o=64&r,a=32&r,c=e.data;128&r?o?a?c[t+7]|=s:c[t+6]|=s:a?c[t+5]|=s:c[t+4]|=s:o?a?c[t+3]|=s:c[t+2]|=s:a?c[t+1]|=s:c[t]|=s}(t,e,n)}function vn(t,e,n,i=m.Default,r){if(null!==t){const r=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(G)?t[G]:void 0;return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof r){Me(e,t);try{const t=r();if(null!=t||i&m.Optional)return t;Wt(n)}finally{ze()}}else if("number"==typeof r){if(-1===r)return new In(t,e);let s=null,o=bn(t,e),a=en,c=i&m.Host?e[16][6]:null;for((-1===o||i&m.SkipSelf)&&(a=-1===o?yn(t,e):e[o+8],a!==en&&On(i,!1)?(s=e[1],o=ln(a),e=hn(a,e)):o=-1);-1!==o;){const t=e[1];if(Sn(r,o,t.data)){const t=En(o,e,n,s,i,c);if(t!==wn)return t}a=e[o+8],a!==en&&On(i,e[1].data[o+8]===c)&&Sn(r,o,e)?(s=t,o=ln(a),e=hn(a,e)):o=-1}}}if(i&m.Optional&&void 0===r&&(r=null),0==(i&(m.Self|m.Host))){const t=e[9],s=et(void 0);try{return t?t.get(n,r,i&m.Optional):st(n,r,i&m.Optional)}finally{et(s)}}if(i&m.Optional)return r;Wt(n,"NodeInjector")}const wn={};function En(t,e,n,i,r,s){const o=e[1],a=o.data[t+8],c=Cn(a,o,n,null==i?Ft(a)&&dn:i!=o&&2===a.type,r&m.Host&&s===a);return null!==c?xn(e,o,c,a):wn}function Cn(t,e,n,i,r){const s=t.providerIndexes,o=e.data,a=1048575&s,c=t.directiveStart,u=s>>20,l=r?a+u:t.directiveEnd;for(let h=i?a:a+u;h<l;h++){const t=o[h];if(h<c&&n===t||h>=c&&t.type===n)return h}if(r){const t=o[c];if(t&&Bt(t)&&t.type===n)return c}return null}function xn(t,e,n,i){let r=t[n];const s=e.data;if(r instanceof nn){const o=r;o.resolving&&function(t,e){throw new Error("Circular dependency in DI detected for "+t)}(Ut(s[n]));const a=fn(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?et(o.injectImpl):null;Me(t,i);try{r=t[n]=o.factory(void 0,s,t,i),e.firstCreatePass&&n>=i.directiveStart&&function(t,e,n){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){const i=Xt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,i)}r&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,r),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==c&&et(c),fn(a),o.resolving=!1,ze()}}return r}function Sn(t,e,n){const i=64&t,r=32&t;let s;return s=128&t?i?r?n[e+7]:n[e+6]:r?n[e+5]:n[e+4]:i?r?n[e+3]:n[e+2]:r?n[e+1]:n[e],!!(s&1<<t)}function On(t,e){return!(t&m.Self||t&m.Host&&e)}class In{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return vn(this._tNode,this._lView,t,void 0,e)}}function Tn(t){const e=t;if(j(t))return()=>{const t=Tn(P(e));return t?t():null};let n=Dt(e);if(null===n){const t=E(e);n=t&&t.factory}return n||null}function kn(t){return c(()=>{const e=t.prototype.constructor,n=e[q]||Tn(e),i=Object.prototype;let r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){const t=r[q]||Tn(r);if(t&&t!==n)return t;r=Object.getPrototypeOf(r)}return t=>new t})}function An(t){return t.ngDebugContext}function Dn(t){return t.ngOriginalError}function Pn(t,...e){t.error(...e)}class jn{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),i=function(t){return t.ngErrorLogger||Pn}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e),n&&i(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?An(t)?An(t):this._findContext(Dn(t)):null}_findOriginalError(t){let e=Dn(t);for(;e&&Dn(e);)e=Dn(e);return e}}class Nn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class Rn extends Nn{getTypeName(){return"HTML"}}class Ln extends Nn{getTypeName(){return"Style"}}class Mn extends Nn{getTypeName(){return"Script"}}class Fn extends Nn{getTypeName(){return"URL"}}class Vn extends Nn{getTypeName(){return"ResourceURL"}}function Bn(t){return t instanceof Nn?t.changingThisBreaksApplicationSecurity:t}function Hn(t,e){const n=zn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function zn(t){return t instanceof Nn&&t.getTypeName()||null}function Un(t){return new Rn(t)}function qn(t){return new Ln(t)}function Gn(t){return new Mn(t)}function Qn(t){return new Fn(t)}function Wn(t){return new Vn(t)}let Kn=!0,$n=!1;function Xn(){return $n=!0,Kn}function Yn(){if($n)throw new Error("Cannot enable prod mode after platform setup.");Kn=!1}class Zn{getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}}class Jn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let i=e.length-1;0<i;i--){const n=e.item(i).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const ti=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ei=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ni(t){return(t=String(t)).match(ti)||t.match(ei)?t:(Xn()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function ii(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function ri(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const si=ii("area,br,col,hr,img,wbr"),oi=ii("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ai=ii("rp,rt"),ci=ri(ai,oi),ui=ri(si,ri(oi,ii("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ri(ai,ii("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ci),li=ii("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),hi=ii("srcset"),di=ri(li,hi,ii("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ii("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),fi=ii("script,style,template");class pi{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!ui.hasOwnProperty(e))return this.sanitizedSomething=!0,!fi.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,s=e.toLowerCase();if(!di.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;li[s]&&(o=ni(o)),hi[s]&&(i=o,o=(i=String(i)).split(",").map(t=>ni(t.trim())).join(", ")),this.buf.push(" ",e,'="',bi(o),'"')}var i;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();ui.hasOwnProperty(e)&&!si.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(bi(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const mi=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,gi=/([^\#-~ |!])/g;function bi(t){return t.replace(/&/g,"&amp;").replace(mi,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(gi,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let yi;function _i(t,e){let n=null;try{yi=yi||function(t){return function(){try{return!!(new window.DOMParser).parseFromString("","text/html")}catch(t){return!1}}()?new Zn:new Jn(t)}(t);let i=e?String(e):"";n=yi.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=n.innerHTML,n=yi.getInertBodyElement(i)}while(i!==s);const o=new pi,a=o.sanitizeChildren(vi(n)||n);return Xn()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=vi(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function vi(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var wi=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function Ei(t){const e=function(){const t=_e();return t&&t[12]}();return e?e.sanitize(wi.URL,t)||"":Hn(t,"URL")?Bn(t):ni(zt(t))}function Ci(t,e){t.__ngContext__=e}function xi(t,e,n){let i=t.length;for(;;){const r=t.indexOf(e,n);if(-1===r)return r;if(0===r||t.charCodeAt(r-1)<=32){const n=e.length;if(r+n===i||t.charCodeAt(r+n)<=32)return r}n=r+1}}const Si="ng-template";function Oi(t,e,n){let i=0;for(;i<t.length;){let r=t[i++];if(n&&"class"===r){if(r=t[i],-1!==xi(r.toLowerCase(),e,0))return!0}else if(1===r){for(;i<t.length&&"string"==typeof(r=t[i++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function Ii(t){return 0===t.type&&t.tagName!==Si}function Ti(t,e,n){return e===(0!==t.type||n?t.tagName:Si)}function ki(t,e,n){let i=4;const r=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(sn(t[e]))return e;return t.length}(r);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&i){if(i=2|1&i,""!==c&&!Ti(t,c,n)||""===c&&1===e.length){if(Ai(i))return!1;o=!0}}else{const u=8&i?c:e[++a];if(8&i&&null!==t.attrs){if(!Oi(t.attrs,u,n)){if(Ai(i))return!1;o=!0}continue}const l=Di(8&i?"class":c,r,Ii(t),n);if(-1===l){if(Ai(i))return!1;o=!0;continue}if(""!==u){let t;t=l>s?"":r[l+1].toLowerCase();const e=8&i?t:null;if(e&&-1!==xi(e,u,0)||2&i&&u!==t){if(Ai(i))return!1;o=!0}}}}else{if(!o&&!Ai(i)&&!Ai(c))return!1;if(o&&Ai(c))continue;o=!1,i=c|1&i}}return Ai(i)||o}function Ai(t){return 0==(1&t)}function Di(t,e,n,i){if(null===e)return-1;let r=0;if(i||!n){let n=!1;for(;r<e.length;){const i=e[r];if(i===t)return r;if(3===i||6===i)n=!0;else{if(1===i||2===i){let t=e[++r];for(;"string"==typeof t;)t=e[++r];continue}if(4===i)break;if(0===i){r+=4;continue}}r+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const i=t[n];if("number"==typeof i)return-1;if(i===e)return n;n++}return-1}(e,t)}function Pi(t,e,n=!1){for(let i=0;i<e.length;i++)if(ki(t,e[i],n))return!0;return!1}function ji(t,e){t:for(let n=0;n<e.length;n++){const i=e[n];if(t.length===i.length){for(let e=0;e<t.length;e++)if(t[e]!==i[e])continue t;return!0}}return!1}function Ni(t,e){return t?":not("+e.trim()+")":e}function Ri(t){let e=t[0],n=1,i=2,r="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&i){const e=t[++n];r+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""===r||Ai(o)||(e+=Ni(s,r),r=""),i=o,s=s||!Ai(i);n++}return""!==r&&(e+=Ni(s,r)),e}const Li={};function Mi(t){const e=t[3];return Lt(e)?e[3]:e}function Fi(t){return Bi(t[13])}function Vi(t){return Bi(t[4])}function Bi(t){for(;null!==t&&!Lt(t);)t=t[4];return t}function Hi(t){zi(ve(),_e(),qe()+t,Oe())}function zi(t,e,n,i){if(!i)if(3==(3&e[2])){const i=t.preOrderCheckHooks;null!==i&&Xe(e,i,n)}else{const i=t.preOrderHooks;null!==i&&Ye(e,i,0,n)}Ge(n)}function Ui(t,e){return t<<17|e<<2}function qi(t){return t>>17&32767}function Gi(t){return 2|t}function Qi(t){return(131068&t)>>2}function Wi(t,e){return-131069&t|e<<2}function Ki(t){return 1|t}function $i(t,e){const n=t.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const r=n[i],s=n[i+1];if(-1!==s){const n=t.data[s];Le(r),n.contentQueries(2,e[s],s)}}}function Xi(t,e,n){return ie(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Yi(t,e,n,i,r,s,o,a,c,u){const l=e.blueprint.slice();return l[0]=r,l[2]=140|i,me(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=c||t&&t[12]||null,l[9]=u||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function Zi(t,e,n,i,r){const s=e+jt,o=t.data[s]||function(t,e,n,i,r){const s=Ee(),o=xe(),a=t.data[e]=function(t,e,n,i,r,s){return{type:n,index:i,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,i,r);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o&&null==s.child&&null!==a.parent?s.child=a:o||(s.next=a)),a}(t,s,n,i,r);return Ce(o,!0),o}function Ji(t,e,n){Fe(e);try{const i=t.viewQuery;null!==i&&Ar(1,i,n);const r=t.template;null!==r&&nr(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&$i(t,e),t.staticViewQueries&&Ar(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)Sr(t,e[n])}(e,s)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),i}finally{e[2]&=-5,Ue()}}function tr(t,e,n,i){const r=e[2];if(256==(256&r))return;Fe(e);const s=Oe();try{me(e),be.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&nr(t,e,n,2,i);const o=3==(3&r);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&Xe(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Ye(e,n,0,null),Ze(e,0)}if(function(t){for(let e=Fi(t);null!==e;e=Vi(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],i=n[3];0==(1024&n[2])&&ge(i,1),n[2]|=1024}}}(e),function(t){for(let e=Fi(t);null!==e;e=Vi(e))for(let t=Nt;t<e.length;t++){const n=e[t],i=n[1];fe(n)&&tr(i,n,i.template,n[8])}}(e),null!==t.contentQueries&&$i(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&Xe(e,n)}else{const n=t.contentHooks;null!==n&&Ye(e,n,1),Ze(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let i=t.expandoStartIndex,r=-1,s=-1;for(let t=0;t<n.length;t++){const o=n[t];"number"==typeof o?o<=0?(s=0-o,Ge(s),i+=9+n[++t],r=i):i+=o:(null!==o&&(Pe(i,r),o(2,e[r])),r++)}}}finally{Ge(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)xr(t,e[n])}(e,a);const c=t.viewQuery;if(null!==c&&Ar(2,c,i),!s)if(o){const n=t.viewCheckHooks;null!==n&&Xe(e,n)}else{const n=t.viewHooks;null!==n&&Ye(e,n,2),Ze(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,ge(e[3],-1))}finally{Ue()}}function er(t,e,n,i){const r=e[10],s=!Oe(),o=de(e);try{s&&!o&&r.begin&&r.begin(),o&&Ji(t,e,i),tr(t,e,n,i)}finally{s&&!o&&r.end&&r.end()}}function nr(t,e,n,i,r){const s=qe();try{Ge(-1),2&i&&e.length>jt&&zi(t,e,0,Oe()),n(i,r)}finally{Ge(s)}}function ir(t,e,n){if(Mt(e)){const i=e.directiveEnd;for(let r=e.directiveStart;r<i;r++){const e=t.data[r];e.contentQueries&&e.contentQueries(1,n[r],r)}}}function rr(t,e,n){ye()&&(function(t,e,n,i){const r=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||mn(n,e),Ci(i,e);const o=n.initialInputs;for(let a=r;a<s;a++){const i=t.data[a],s=Bt(i);s&&vr(e,n,i);const c=xn(e,t,a,n);Ci(c,e),null!==o&&wr(0,a-r,c,i,0,o),s&&(le(n.index,e)[8]=c)}}(t,e,n,ae(n,e)),128==(128&n.flags)&&function(t,e,n){const i=n.directiveStart,r=n.directiveEnd,s=t.expandoInstructions,o=t.firstCreatePass,a=n.index-jt,c=be.lFrame.currentDirectiveIndex;try{Ge(a);for(let n=i;n<r;n++){const i=t.data[n],r=e[n];je(n),null!==i.hostBindings||0!==i.hostVars||null!==i.hostAttrs?pr(i,r):o&&s.push(null)}}finally{Ge(-1),je(c)}}(t,e,n))}function sr(t,e,n=ae){const i=e.localNames;if(null!==i){let r=e.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?n(e,t):t[o];t[r++]=a}}}function or(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=ar(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function ar(t,e,n,i,r,s,o,a,c,u){const l=jt+i,h=l+r,d=function(t,e){const n=[];for(let i=0;i<e;i++)n.push(i<t?null:Li);return n}(l,h),f="function"==typeof u?u():u;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:f,incompleteFirstPass:!1}}function cr(t,e,n,i){const r=Pr(e);r.push(n),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(i,r.length-1)}function ur(t,e,n){for(let i in t)if(t.hasOwnProperty(i)){const r=t[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(e,r):n[i]=[e,r]}return n}function lr(t,e,n,i,r,s,o,a){const c=ae(e,n);let u,l=e.inputs;!a&&null!=l&&(u=l[i])?(Rr(t,n,u,i,r),Ft(e)&&function(t,e){const n=le(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):2===e.type&&(i=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(i),r=null!=o?o(r,e.tagName||"",i):r,ie(s)?s.setProperty(c,i,r):on(i)||(c.setProperty?c.setProperty(i,r):c[i]=r))}function hr(t,e,n,i){let r=!1;if(ye()){const s=function(t,e,n){const i=t.directiveRegistry;let r=null;if(i)for(let s=0;s<i.length;s++){const o=i[s];Pi(n,o.selectors,!1)&&(r||(r=[]),_n(mn(n,e),t,o.type),Bt(o)?(gr(t,n),r.unshift(o)):r.push(o))}return r}(t,e,n),o=null===i?null:{"":-1};if(null!==s){let i=0;r=!0,yr(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}mr(t,n,s.length);let a=!1,c=!1;for(let r=0;r<s.length;r++){const u=s[r];n.mergedAttrs=an(n.mergedAttrs,u.hostAttrs),_r(t,e,u),br(t.data.length-1,u,o),null!==u.contentQueries&&(n.flags|=8),null===u.hostBindings&&null===u.hostAttrs&&0===u.hostVars||(n.flags|=128);const l=u.type.prototype;!a&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-jt),a=!0),c||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-jt),c=!0),dr(t,u),i+=u.hostVars}!function(t,e){const n=e.directiveEnd,i=t.data,r=e.attrs,s=[];let o=null,a=null;for(let c=e.directiveStart;c<n;c++){const t=i[c],n=t.inputs,u=null===r||Ii(e)?null:Er(n,r);s.push(u),o=ur(n,c,o),a=ur(t.outputs,c,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n),fr(t,e,i)}o&&function(t,e,n){if(e){const i=t.localNames=[];for(let t=0;t<e.length;t+=2){const r=n[e[t+1]];if(null==r)throw new Error(`Export of name '${e[t+1]}' not found!`);i.push(e[t],r)}}}(n,i,o)}return n.mergedAttrs=an(n.mergedAttrs,n.attrs),r}function dr(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function fr(t,e,n){for(let i=0;i<n;i++)e.push(Li),t.blueprint.push(Li),t.data.push(null)}function pr(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function mr(t,e,n){const i=jt-e.index,r=t.data.length-(1048575&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(i,r,n)}function gr(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function br(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;Bt(e)&&(n[""]=t)}}function yr(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function _r(t,e,n){t.data.push(n);const i=n.factory||(n.factory=Dt(n.type)),r=new nn(i,Bt(n),null);t.blueprint.push(r),e.push(r)}function vr(t,e,n){const i=ae(e,t),r=or(n),s=t[10],o=Or(t,Yi(t,r,null,n.onPush?64:16,i,e,s,s.createRenderer(i,n),null,null));t[e.index]=o}function wr(t,e,n,i,r,s){const o=s[e];if(null!==o){const t=i.setInput;for(let e=0;e<o.length;){const r=o[e++],s=o[e++],a=o[e++];null!==t?i.setInput(n,a,r,s):n[s]=a}}}function Er(t,e){let n=null,i=0;for(;i<e.length;){const r=e[i];if(0!==r)if(5!==r){if("number"==typeof r)break;t.hasOwnProperty(r)&&(null===n&&(n=[]),n.push(r,t[r],e[i+1])),i+=2}else i+=2;else i+=4}return n}function Cr(t,e,n,i){return new Array(t,!0,!1,e,null,0,i,n,null,null)}function xr(t,e){const n=le(e,t);if(fe(n)){const t=n[1];80&n[2]?tr(t,n,t.template,n[8]):n[5]>0&&function t(e){for(let i=Fi(e);null!==i;i=Vi(i))for(let e=Nt;e<i.length;e++){const n=i[e];if(1024&n[2]){const t=n[1];tr(t,n,t.template,n[8])}else n[5]>0&&t(n)}const n=e[1].components;if(null!==n)for(let i=0;i<n.length;i++){const r=le(n[i],e);fe(r)&&r[5]>0&&t(r)}}(n)}}function Sr(t,e){const n=le(e,t),i=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(i,n),Ji(i,n,n[8])}function Or(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Ir(t){for(;t;){t[2]|=64;const e=Mi(t);if(Ht(t)&&!e)return t;t=e}return null}function Tr(t,e,n){const i=e[10];i.begin&&i.begin();try{tr(t,e,t.template,n)}catch(r){throw Nr(e,r),r}finally{i.end&&i.end()}}function kr(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],i=he(n),r=i[1];er(r,i,r.template,n)}}(t[8])}function Ar(t,e,n){Le(0),e(t,n)}const Dr=(()=>Promise.resolve(null))();function Pr(t){return t[7]||(t[7]=[])}function jr(t,e,n){return(null===t||Bt(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function Nr(t,e){const n=t[9],i=n?n.get(jn,null):null;i&&i.handleError(e)}function Rr(t,e,n,i,r){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],c=e[o],u=t.data[o];null!==u.setInput?u.setInput(c,r,i,a):c[a]=r}}function Lr(t,e,n){const i=oe(e,t),r=t[11];ie(r)?r.setValue(i,n):i.textContent=n}function Mr(t,e,n,i,r){if(null!=i){let s,o=!1;Lt(i)?s=i:Rt(i)&&(o=!0,i=i[0]);const a=se(i);0===t&&null!==n?null==r?qr(e,n,a):Ur(e,n,a,r||null):1===t&&null!==n?Ur(e,n,a,r||null):2===t?function(t,e,n){const i=Qr(t,e);i&&function(t,e,n,i){ie(t)?t.removeChild(e,n,i):e.removeChild(n)}(t,i,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,i,r){const s=n[7];s!==se(n)&&Mr(e,t,i,s,r);for(let o=Nt;o<n.length;o++){const r=n[o];Xr(r[1],r,t,e,i,s)}}(e,t,s,n,r)}}function Fr(t,e){const n=t[9],i=n.indexOf(e),r=e[3];1024&e[2]&&(e[2]&=-1025,ge(r,-1)),n.splice(i,1)}function Vr(t,e){if(t.length<=Nt)return;const n=Nt+e,i=t[n];if(i){const s=i[17];null!==s&&s!==t&&Fr(s,i),e>0&&(t[n-1][4]=i[4]);const o=ht(t,Nt+e);Xr(i[1],r=i,r[11],2,null,null),r[0]=null,r[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),i[3]=null,i[4]=null,i[2]&=-129}var r;return i}function Br(t,e){if(!(256&e[2])){const n=e[11];ie(n)&&n.destroyNode&&Xr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Hr(t[1],t);for(;e;){let n=null;if(Rt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Rt(e)&&Hr(e[1],e),e=e[3];null===e&&(e=t),Rt(e)&&Hr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Hr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let i=0;i<n.length;i+=2){const t=e[n[i]];if(!(t instanceof nn)){const e=n[i+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){const r=n[i+1],s="function"==typeof r?r(e):se(e[r]),o=t[n[i+2]],a=n[i+3];"boolean"==typeof a?s.removeEventListener(n[i],o,a):a>=0?t[a]():t[-a].unsubscribe(),i+=2}else n[i].call(t[n[i+1]]);e[7]=null}}(t,e),1===e[1].type&&ie(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&Lt(e[3])){n!==e[3]&&Fr(n,e);const i=e[19];null!==i&&i.detachView(t)}}}function zr(t,e,n){let i=e.parent;for(;null!=i&&(3===i.type||4===i.type);)i=(e=i).parent;if(null===i)return n[0];if(e&&4===e.type&&4&e.flags)return ae(e,n).parentNode;if(2&i.flags){const e=t.data,n=e[e[i.index].directiveStart].encapsulation;if(n!==bt.ShadowDom&&n!==bt.Native)return null}return ae(i,n)}function Ur(t,e,n,i){ie(t)?t.insertBefore(e,n,i):e.insertBefore(n,i,!0)}function qr(t,e,n){ie(t)?t.appendChild(e,n):e.appendChild(n)}function Gr(t,e,n,i){null!==i?Ur(t,e,n,i):qr(t,e,n)}function Qr(t,e){return ie(t)?t.parentNode(e):e.parentNode}function Wr(t,e){return 3===t.type||4===t.type?ae(t,e):null}function Kr(t,e,n,i){const r=zr(t,i,e);if(null!=r){const t=e[11],s=Wr(i.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)Gr(t,r,n[e],s);else Gr(t,r,n,s)}}function $r(t,e,n,i,r,s,o){for(;null!=n;){const a=i[n.index],c=n.type;o&&0===e&&(a&&Ci(se(a),i),n.flags|=4),64!=(64&n.flags)&&(3===c||4===c?($r(t,e,n.child,i,r,s,!1),Mr(e,t,r,a,s)):1===c?Yr(t,e,i,n,r,s):Mr(e,t,r,a,s)),n=o?n.projectionNext:n.next}}function Xr(t,e,n,i,r,s){$r(n,i,t.firstChild,e,r,s,!1)}function Yr(t,e,n,i,r,s){const o=n[16],a=o[6].projection[i.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)Mr(e,t,r,a[c],s);else $r(t,e,a,o[3],r,s,!0)}function Zr(t,e,n){ie(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Jr(t,e,n){ie(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class ts{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView,e=t[1];return function t(e,n,i,r,s=!1){for(;null!==i;){const o=n[i.index];if(null!==o&&r.push(se(o)),Lt(o))for(let e=Nt;e<o.length;e++){const n=o[e],i=n[1].firstChild;null!==i&&t(n[1],n,i,r)}const a=i.type;if(3===a||4===a)t(e,n,i.child,r);else if(1===a){const e=n[16],s=e[6].projection[i.projection];if(Array.isArray(s))r.push(...s);else{const n=Mi(e);t(n[1],n,s,r,!0)}}i=s?i.projectionNext:i.next}return r}(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Br(this._lView[1],this._lView)}onDestroy(t){cr(this._lView[1],this._lView,null,t)}markForCheck(){Ir(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Tr(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Ie(!0);try{Tr(t,e,n)}finally{Ie(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,Xr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class es extends ts{constructor(t){super(t),this._view=t}detectChanges(){kr(this._view)}checkNoChanges(){!function(t){Ie(!0);try{kr(t)}finally{Ie(!1)}}(this._view)}get context(){return null}}let ns,is,rs;function ss(t,e,n){return ns||(ns=class extends t{}),new ns(ae(e,n))}function os(t,e,n,i){return is||(is=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Yi(this._declarationView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationView[this._declarationTContainer.index];const i=this._declarationView[19];return null!==i&&(n[19]=i.createEmbeddedView(e)),Ji(e,n,t),new ts(n)}}),0===n.type?new is(i,n,ss(e,n,i)):null}function as(t,e,n,i){let r;rs||(rs=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return ss(e,this._hostTNode,this._hostView)}get injector(){return new In(this._hostTNode,this._hostView)}get parentInjector(){const t=yn(this._hostTNode,this._hostView);if(un(t)){const e=hn(t,this._hostView),n=ln(t);return new In(e[1].data[n+8],e)}return new In(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-Nt}createEmbeddedView(t,e,n){const i=t.createEmbeddedView(e||{});return this.insert(i,n),i}createComponent(t,e,n,i,r){const s=n||this.parentInjector;if(!r&&null==t.ngModule&&s){const t=s.get(ct,null);t&&(r=t)}const o=t.create(s,i,void 0,r);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,i=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Lt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],i=new rs(e,e[6],e[3]);i.detach(i.indexOf(t))}}const r=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,i){const r=Nt+i,s=n.length;i>0&&(n[r-1][4]=e),i<s-Nt?(e[4]=n[r],lt(n,Nt+i,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(i,n,s,r);const o=function t(e,n){const i=Nt+e+1;if(i<n.length){const e=n[i],r=e[1].firstChild;if(null!==r)return function e(n,i){if(null!==i){const r=i.type;if(2===r)return ae(i,n);if(0===r)return t(-1,n[i.index]);if(3===r||4===r){const r=i.child;if(null!==r)return e(n,r);{const e=n[i.index];return Lt(e)?t(-1,e):se(e)}}{const t=n[16],r=t[6],s=Mi(t),o=r.projection[i.projection];return null!=o?e(s,o):e(n,i.next)}}return null}(e,r)}return n[7]}(r,s),a=n[11],c=Qr(a,s[7]);return null!==c&&function(t,e,n,i,r,s){i[0]=r,i[6]=e,Xr(t,i,n,1,r,s)}(i,s[6],a,n,c,o),t.attachToViewContainerRef(this),lt(s[8],r,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Vr(this._lContainer,e);n&&(ht(this._lContainer[8],e),Br(n[1],n))}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Vr(this._lContainer,e);return n&&null!=ht(this._lContainer[8],e)?new ts(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const s=i[n.index];if(Lt(s))r=s;else{let t;if(3===n.type)t=se(s);else if(t=i[11].createComment(""),Ht(i)){const e=i[11],r=ae(n,i);Ur(e,Qr(e,r),t,function(t,e){return ie(t)?t.nextSibling(e):e.nextSibling}(e,r))}else Kr(i[1],i,t,n);i[n.index]=r=Cr(s,i,t,n),Or(i,r)}return new rs(r,n,i)}function cs(t=!1){return function(t,e,n){if(!n&&Ft(t)){const n=le(t.index,e);return new ts(n,n)}return 2===t.type||0===t.type||3===t.type||4===t.type?new ts(e[16],e):null}(Ee(),_e(),t)}let us=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ls(),t})();const ls=cs,hs=Function,ds=new Q("Set Injector scope."),fs={},ps={},ms=[];let gs=void 0;function bs(){return void 0===gs&&(gs=new at),gs}function ys(t,e=null,n=null,i){return new _s(t,n,e||bs(),i)}class _s{constructor(t,e,n,i=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const r=[];e&&ut(e,n=>this.processProvider(n,t,e)),ut([t],t=>this.processInjectorType(t,[],r)),this.records.set(W,Es(void 0,this));const s=this.records.get(ds);this.scope=null!=s?s.value:null,this.source=i||("object"==typeof t?null:T(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=K,n=m.Default){this.assertNotDestroyed();const i=tt(this);try{if(!(n&m.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(r=t)||"object"==typeof r&&r instanceof Q)&&v(t);e=n&&this.injectableDefInScope(n)?Es(vs(t),fs):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&m.Self?bs():this.parent).get(t,e=n&m.Optional&&e===K?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(T(t)),i)throw s;return function(t,e,n,i){const r=t.ngTempTokenPath;throw e[X]&&r.unshift(e[X]),t.message=function(t,e,n,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let r=T(e);if(Array.isArray(e))r=e.map(T).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let i=e[n];t.push(n+":"+("string"==typeof i?JSON.stringify(i):T(i)))}r=`{${t.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace($,"\n  ")}`}("\n"+t.message,r,n,i),t.ngTokenPath=r,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{tt(i)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(T(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=P(t)))return!1;let i=E(t);const r=null==i&&t.ngModule||void 0,s=void 0===r?t:r,o=-1!==n.indexOf(s);if(void 0!==r&&(i=E(r)),null==i)return!1;if(null!=i.imports&&!o){let t;n.push(s);try{ut(i.imports,i=>{this.processInjectorType(i,e,n)&&(void 0===t&&(t=[]),t.push(i))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:i}=t[e];ut(i,t=>this.processProvider(t,n,i||ms))}}this.injectorDefTypes.add(s),this.records.set(s,Es(i.factory,fs));const a=i.providers;if(null!=a&&!o){const e=t;ut(a,t=>this.processProvider(t,e,a))}return void 0!==r&&void 0!==t.providers}processProvider(t,e,n){let i=xs(t=P(t))?t:P(t&&t.provide);const r=function(t,e,n){return Cs(t)?Es(void 0,t.useValue):Es(ws(t),fs)}(t);if(xs(t)||!0!==t.multi)this.records.get(i);else{let e=this.records.get(i);e||(e=Es(void 0,fs,!0),e.factory=()=>ot(e.multi),this.records.set(i,e)),i=t,e.multi.push(t)}this.records.set(i,r)}hydrate(t,e){var n;return e.value===fs&&(e.value=ps,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function vs(t){const e=v(t),n=null!==e?e.factory:Dt(t);if(null!==n)return n;const i=E(t);if(null!==i)return i.factory;if(t instanceof Q)throw new Error(`Token ${T(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=dt(e,"?");throw new Error(`Can't resolve all parameters for ${T(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[C]||t[O]||t[S]&&t[S]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function ws(t,e,n){let i=void 0;if(xs(t)){const e=P(t);return Dt(e)||vs(e)}if(Cs(t))i=()=>P(t.useValue);else if((r=t)&&r.useFactory)i=()=>t.useFactory(...ot(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))i=()=>it(P(t.useExisting));else{const e=P(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return Dt(e)||vs(e);i=()=>new e(...ot(t.deps))}var r;return i}function Es(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Cs(t){return null!==t&&"object"==typeof t&&Y in t}function xs(t){return"function"==typeof t}const Ss=function(t,e,n){return function(t,e=null,n=null,i){const r=ys(t,e,n,i);return r._resolveInjectorDefTypes(),r}({name:n},e,t,n)};let Os=(()=>{class t{static create(t,e){return Array.isArray(t)?Ss(t,e,""):Ss(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=K,t.NULL=new at,t.\u0275prov=y({token:t,providedIn:"any",factory:()=>it(W)}),t.__NG_ELEMENT_ID__=-1,t})();function Is(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?r=k(r,t):2==s&&(i=k(i,t+": "+e[++o]+";"))}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}function Ts(t,e){const n=he(t)[1],i=n.data.length-1;$e(n,{directiveStart:i,directiveEnd:i+1})}function ks(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const i=[t];for(;e;){let r=void 0;if(Bt(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");r=e.\u0275dir}if(r){if(n){i.push(r);const e=t;e.inputs=As(t.inputs),e.declaredInputs=As(t.declaredInputs),e.outputs=As(t.outputs);const n=r.hostBindings;n&&js(t,n);const s=r.viewQuery,o=r.contentQueries;if(s&&Ds(t,s),o&&Ps(t,o),b(t.inputs,r.inputs),b(t.declaredInputs,r.declaredInputs),b(t.outputs,r.outputs),Bt(r)&&r.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(r.data.animation)}}const e=r.features;if(e)for(let i=0;i<e.length;i++){const r=e[i];r&&r.ngInherit&&r(t),r===ks&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){const r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=an(r.hostAttrs,n=an(n,r.hostAttrs))}}(i)}function As(t){return t===yt?{}:t===_t?[]:t}function Ds(t,e){const n=t.viewQuery;t.viewQuery=n?(t,i)=>{e(t,i),n(t,i)}:e}function Ps(t,e){const n=t.contentQueries;t.contentQueries=n?(t,i,r)=>{e(t,i,r),n(t,i,r)}:e}function js(t,e){const n=t.hostBindings;t.hostBindings=n?(t,i)=>{e(t,i),n(t,i)}:e}let Ns=null;function Rs(){if(!Ns){const t=F.Symbol;if(t&&t.iterator)Ns=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Ns=n)}}}return Ns}class Ls{constructor(t){this.wrapped=t}static wrap(t){return new Ls(t)}static unwrap(t){return Ls.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Ls}}function Ms(t){return!!Fs(t)&&(Array.isArray(t)||!(t instanceof Map)&&Rs()in t)}function Fs(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Vs(t,e,n){return t[e]=n}function Bs(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Hs(t,e,n,i){const r=Bs(t,e,n);return Bs(t,e+1,i)||r}function zs(t,e,n,i){const r=_e();return Bs(r,Ae(),e)&&(ve(),function(t,e,n,i,r,s){const o=ae(t,e),a=e[11];if(null==i)ie(a)?a.removeAttribute(o,n,s):o.removeAttribute(n);else{const e=null==r?zt(i):r(i,t.tagName||"",n);ie(a)?a.setAttribute(o,n,e,s):s?o.setAttributeNS(s,n,e):o.setAttribute(n,e)}}(Qe(),r,t,e,n,i)),zs}function Us(t,e,n,i){return Bs(t,Ae(),n)?e+zt(n)+i:Li}function qs(t,e,n,i,r,s,o,a){const c=_e(),u=ve(),l=t+jt,h=u.firstCreatePass?function(t,e,n,i,r,s,o,a,c){const u=e.consts,l=Zi(e,t,0,o||null,pe(u,a));hr(e,n,l,pe(u,c)),$e(e,l);const h=l.tViews=ar(2,l,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,u,c,e,n,i,r,s,o):u.data[l];Ce(h,!1);const d=c[11].createComment("");Kr(u,c,d,h),Ci(d,c),Or(c,c[l]=Cr(d,c,d,h)),Vt(h)&&rr(u,c,h),null!=o&&sr(c,h,a)}function Gs(t){return ue(be.lFrame.contextLView,t)}function Qs(t,e=m.Default){const n=_e();return null===n?it(t,e):vn(Ee(),n,P(t),e)}function Ws(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let i=0;for(;i<t;){const r=n[i];if(sn(r))break;if(0===r)i+=2;else if("number"==typeof r)for(i++;i<t&&"string"==typeof n[i];)i++;else{if(r===e)return n[i+1];i+=2}}}return null}(Ee(),t)}function Ks(t,e,n){const i=_e();return Bs(i,Ae(),e)&&lr(ve(),Qe(),i,t,e,i[11],n,!1),Ks}function $s(t,e,n,i,r){const s=r?"class":"style";Rr(t,n,e.inputs[s],s,i)}function Xs(t,e,n,i){const r=_e(),s=ve(),o=jt+t,a=r[11],c=r[o]=Xi(e,a,be.lFrame.currentNamespace),u=s.firstCreatePass?function(t,e,n,i,r,s,o){const a=e.consts,c=Zi(e,t,2,r,pe(a,s));return hr(e,n,c,pe(a,o)),null!==c.attrs&&Is(c,c.attrs,!1),null!==c.mergedAttrs&&Is(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(t,s,r,0,e,n,i):s.data[o];Ce(u,!0);const l=u.mergedAttrs;null!==l&&rn(a,c,l);const h=u.classes;null!==h&&Jr(a,c,h);const d=u.styles;null!==d&&Zr(a,c,d),Kr(s,r,c,u),0===be.lFrame.elementDepthCount&&Ci(c,r),be.lFrame.elementDepthCount++,Vt(u)&&(rr(s,r,u),ir(s,u,r)),null!==i&&sr(r,u)}function Ys(){let t=Ee();xe()?Se():(t=t.parent,Ce(t,!1));const e=t;be.lFrame.elementDepthCount--;const n=ve();n.firstCreatePass&&($e(n,t),Mt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&$s(n,e,_e(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&$s(n,e,_e(),e.stylesWithoutHost,!1)}function Zs(t,e,n,i){Xs(t,e,n,i),Ys()}function Js(t,e,n){const i=_e(),r=ve(),s=t+jt,o=r.firstCreatePass?function(t,e,n,i,r){const s=e.consts,o=pe(s,i),a=Zi(e,t,3,"ng-container",o);return null!==o&&Is(a,o,!0),hr(e,n,a,pe(s,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(t,r,i,e,n):r.data[s];Ce(o,!0);const a=i[s]=i[11].createComment("");Kr(r,i,a,o),Ci(a,i),Vt(o)&&(rr(r,i,o),ir(r,o,i)),null!=n&&sr(i,o)}function to(){let t=Ee();const e=ve();xe()?Se():(t=t.parent,Ce(t,!1)),e.firstCreatePass&&($e(e,t),Mt(t)&&e.queries.elementEnd(t))}function eo(t,e,n){Js(t,e,n),to()}function no(){return _e()}function io(t){return!!t&&"function"==typeof t.then}function ro(t){return!!t&&"function"==typeof t.subscribe}function so(t,e,n=!1,i){const r=_e(),s=ve(),o=Ee();return ao(s,r,r[11],o,t,e,n,i),so}function oo(t,e,n=!1,i){const r=Ee(),s=_e(),o=ve();return ao(o,s,jr(Ne(o.data),r,s),r,t,e,n,i),oo}function ao(t,e,n,i,r,s,o=!1,a){const c=Vt(i),u=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=Pr(e);let h=!0;if(2===i.type){const d=ae(i,e),f=a?a(d):yt,p=f.target||d,m=l.length,g=a?t=>a(se(t[i.index])).target:i.index;if(ie(n)){let o=null;if(!a&&c&&(o=function(t,e,n,i){const r=t.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const t=r[s];if(t===n&&r[s+1]===i){const t=e[7],n=r[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,r,i.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=uo(i,e,s,!1);const t=n.listen(f.name||p,r,s);l.push(s,t),u&&u.push(r,g,m,m+1)}}else s=uo(i,e,s,!0),p.addEventListener(r,s,o),l.push(s),u&&u.push(r,g,m,o)}const d=i.outputs;let f;if(h&&null!==d&&(f=d[r])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(s),o=l.length;l.push(s,t),u&&u.push(r,i.index,o,-(o+1))}}}function co(t,e,n){try{return!1!==e(n)}catch(i){return Nr(t,i),!1}}function uo(t,e,n,i){return function r(s){if(s===Function)return n;const o=2&t.flags?le(t.index,e):e;0==(32&e[2])&&Ir(o);let a=co(e,n,s),c=r.__ngNextListenerFn__;for(;c;)a=co(e,c,s)&&a,c=c.__ngNextListenerFn__;return i&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function lo(t=1){return function(t){return(be.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,be.lFrame.contextLView))[8]}(t)}function ho(t,e){let n=null;const i=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let r=0;r<e.length;r++){const s=e[r];if("*"!==s){if(null===i?Pi(t,s,!0):ji(i,s))return r}else n=r}return n}function fo(t){const e=_e()[16][6];if(!e.projection){const n=e.projection=dt(t?t.length:1,null),i=n.slice();let r=e.child;for(;null!==r;){const e=t?ho(r,t):0;null!==e&&(i[e]?i[e].projectionNext=r:n[e]=r,i[e]=r),r=r.next}}}function po(t,e=0,n){const i=_e(),r=ve(),s=Zi(r,t,1,null,n||null);null===s.projection&&(s.projection=e),Se(),function(t,e,n){Yr(e[11],0,e,n,zr(t,n,e),Wr(n.parent||e[6],e))}(r,i,s)}const mo=[];function go(t,e,n,i,r){const s=t[n+1],o=null===e;let a=i?qi(s):Qi(s),c=!1;for(;0!==a&&(!1===c||o);){const n=t[a+1];bo(t[a],e)&&(c=!0,t[a+1]=i?Ki(n):Gi(n)),a=i?qi(n):Qi(n)}c&&(t[n+1]=i?Gi(s):Ki(s))}function bo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&mt(t,e)>=0}const yo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function _o(t){return t.substring(yo.key,yo.keyEnd)}function vo(t,e){const n=yo.textEnd;return n===e?-1:(e=yo.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,yo.key=e,n),wo(t,e,n))}function wo(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Eo(t,e,n){return So(t,e,n,!1),Eo}function Co(t,e){return So(t,e,null,!0),Co}function xo(t,e){for(let n=function(t){return function(t){yo.key=0,yo.keyEnd=0,yo.value=0,yo.valueEnd=0,yo.textEnd=t.length}(t),vo(t,wo(t,0,yo.textEnd))}(e);n>=0;n=vo(e,n))ft(t,_o(e),!0)}function So(t,e,n,i){const r=_e(),s=ve(),o=De(2);s.firstUpdatePass&&Io(s,t,o,i),e!==Li&&Bs(r,o,e)&&Ao(s,s.data[qe()+jt],r,r[11],t,r[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=T(Bn(t)))),t}(e,n),i,o)}function Oo(t,e){return e>=t.expandoStartIndex}function Io(t,e,n,i){const r=t.data;if(null===r[n+1]){const s=r[qe()+jt],o=Oo(t,n);jo(s,i)&&null===e&&!o&&(e=!1),e=function(t,e,n,i){const r=Ne(t);let s=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(n=ko(n=To(null,t,e,n,i),e.attrs,i),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==r)if(n=To(r,t,e,n,i),null===s){let n=function(t,e,n){const i=n?e.classBindings:e.styleBindings;if(0!==Qi(i))return t[qi(i)]}(t,e,i);void 0!==n&&Array.isArray(n)&&(n=To(null,t,e,n[1],i),n=ko(n,e.attrs,i),function(t,e,n,i){t[qi(n?e.classBindings:e.styleBindings)]=i}(t,e,i,n))}else s=function(t,e,n){let i=void 0;const r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++)i=ko(i,t[s].hostAttrs,n);return ko(i,e.attrs,n)}(t,e,i)}return void 0!==s&&(i?e.residualClasses=s:e.residualStyles=s),n}(r,s,e,i),function(t,e,n,i,r,s){let o=s?e.classBindings:e.styleBindings,a=qi(o),c=Qi(o);t[i]=n;let u,l=!1;if(Array.isArray(n)){const t=n;u=t[1],(null===u||mt(t,u)>0)&&(l=!0)}else u=n;if(r)if(0!==c){const e=qi(t[a+1]);t[i+1]=Ui(e,a),0!==e&&(t[e+1]=Wi(t[e+1],i)),t[a+1]=131071&t[a+1]|i<<17}else t[i+1]=Ui(a,0),0!==a&&(t[a+1]=Wi(t[a+1],i)),a=i;else t[i+1]=Ui(c,0),0===a?a=i:t[c+1]=Wi(t[c+1],i),c=i;l&&(t[i+1]=Gi(t[i+1])),go(t,u,i,!0),go(t,u,i,!1),function(t,e,n,i,r){const s=r?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&mt(s,e)>=0&&(n[i+1]=Ki(n[i+1]))}(e,u,t,i,s),o=Ui(a,c),s?e.classBindings=o:e.styleBindings=o}(r,s,e,n,o,i)}}function To(t,e,n,i,r){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],i=ko(i,s.hostAttrs,r),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),i}function ko(t,e,n){const i=n?1:2;let r=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?r=o:r===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ft(t,o,!!n||e[++s]))}return void 0===t?null:t}function Ao(t,e,n,i,r,s,o,a){if(2!==e.type)return;const c=t.data,u=c[a+1];Po(1==(1&u)?Do(c,e,n,r,Qi(u),o):void 0)||(Po(s)||2==(2&u)&&(s=Do(c,null,n,r,a,o)),function(t,e,n,i,r){const s=ie(t);if(e)r?s?t.addClass(n,i):n.classList.add(i):s?t.removeClass(n,i):n.classList.remove(i);else{const e=-1==i.indexOf("-")?void 0:2;null==r?s?t.removeStyle(n,i,e):n.style.removeProperty(i):s?t.setStyle(n,i,r,e):n.style.setProperty(i,r)}}(i,o,oe(qe(),n),r,s))}function Do(t,e,n,i,r,s){const o=null===e;let a=void 0;for(;r>0;){const e=t[r],s=Array.isArray(e),c=s?e[1]:e,u=null===c;let l=n[r+1];l===Li&&(l=u?mo:void 0);let h=u?pt(l,i):c===i?l:void 0;if(s&&!Po(h)&&(h=pt(e,i)),Po(h)&&(a=h,o))return a;const d=t[r+1];r=o?qi(d):Qi(d)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=pt(t,i))}return a}function Po(t){return void 0!==t}function jo(t,e){return 0!=(t.flags&(e?16:32))}function No(t,e=""){const n=_e(),i=ve(),r=t+jt,s=i.firstCreatePass?Zi(i,t,2,null,null):i.data[r],o=n[r]=function(t,e){return ie(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);Kr(i,n,o,s),Ce(s,!1)}function Ro(t){return Lo("",t,""),Ro}function Lo(t,e,n){const i=_e(),r=Us(i,t,e,n);return r!==Li&&Lr(i,qe(),r),Lo}function Mo(t,e,n,i,r){const s=_e(),o=function(t,e,n,i,r,s){const o=Hs(t,ke(),n,r);return De(2),o?e+zt(n)+i+zt(r)+s:Li}(s,t,e,n,i,r);return o!==Li&&Lr(s,qe(),o),Mo}function Fo(t,e,n){!function(t,e,n,i){const r=ve(),s=De(2);r.firstUpdatePass&&Io(r,null,s,i);const o=_e();if(n!==Li&&Bs(o,s,n)){const a=r.data[qe()+jt];if(jo(a,i)&&!Oo(r,s)){let t=a.classesWithoutHost;null!==t&&(n=k(t,n||"")),$s(r,a,o,n,i)}else!function(t,e,n,i,r,s,o,a){r===Li&&(r=mo);let c=0,u=0,l=0<r.length?r[0]:null,h=0<s.length?s[0]:null;for(;null!==l||null!==h;){const o=c<r.length?r[c+1]:void 0,d=u<s.length?s[u+1]:void 0;let f=null,p=void 0;l===h?(c+=2,u+=2,o!==d&&(f=h,p=d)):null===h||null!==l&&l<h?(c+=2,f=l):(u+=2,f=h,p=d),null!==f&&Ao(t,e,n,i,f,p,true,a),l=c<r.length?r[c]:null,h=u<s.length?s[u]:null}}(r,a,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return mo;const i=[],r=Bn(n);if(Array.isArray(r))for(let s=0;s<r.length;s++)t(i,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&t(i,s,r[s]);else"string"==typeof r&&e(i,r);return i}(t,e,n),0,s)}}(ft,xo,Us(_e(),t,e,n),!0)}function Vo(t,e,n){const i=_e();return Bs(i,Ae(),e)&&lr(ve(),Qe(),i,t,e,i[11],n,!0),Vo}function Bo(t,e,n){const i=_e();if(Bs(i,Ae(),e)){const r=ve(),s=Qe();lr(r,s,i,t,e,jr(Ne(r.data),s,i),n,!0)}return Bo}const Ho=void 0;var zo=["en",[["a","p"],["AM","PM"],Ho],[["AM","PM"],Ho,Ho],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ho,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ho,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ho,"{1} 'at' {0}",Ho],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Uo={};function qo(t,e,n){"string"!=typeof e&&(n=e,e=t[$o.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Uo[e]=t,n&&(Uo[e][$o.ExtraData]=n)}function Go(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Ko(e);if(n)return n;const i=e.split("-")[0];if(n=Ko(i),n)return n;if("en"===i)return zo;throw new Error(`Missing locale data for the locale "${t}".`)}function Qo(t){return Go(t)[$o.CurrencyCode]||null}function Wo(t){return Go(t)[$o.PluralCase]}function Ko(t){return t in Uo||(Uo[t]=F.ng&&F.ng.common&&F.ng.common.locales&&F.ng.common.locales[t]),Uo[t]}var $o=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Xo="en-US";let Yo=Xo;function Zo(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,i){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Yo=t.toLowerCase().replace(/_/g,"-"))}function Jo(t,e,n,i,r){if(t=P(t),Array.isArray(t))for(let s=0;s<t.length;s++)Jo(t[s],e,n,i,r);else{const s=ve(),o=_e();let a=xs(t)?t:P(t.provide),c=ws(t);const u=Ee(),l=1048575&u.providerIndexes,h=u.directiveStart,d=u.providerIndexes>>20;if(xs(t)||!t.multi){const i=new nn(c,r,Qs),f=na(a,e,r?l:l+d,h);-1===f?(_n(mn(u,o),s,a),ta(s,t,e.length),e.push(a),u.directiveStart++,u.directiveEnd++,r&&(u.providerIndexes+=1048576),n.push(i),o.push(i)):(n[f]=i,o[f]=i)}else{const f=na(a,e,l+d,h),p=na(a,e,l,l+d),m=f>=0&&n[f],g=p>=0&&n[p];if(r&&!g||!r&&!m){_n(mn(u,o),s,a);const l=function(t,e,n,i,r){const s=new nn(t,n,Qs);return s.multi=[],s.index=e,s.componentProviders=0,ea(s,r,i&&!n),s}(r?ra:ia,n.length,r,i,c);!r&&g&&(n[p].providerFactory=l),ta(s,t,e.length,0),e.push(a),u.directiveStart++,u.directiveEnd++,r&&(u.providerIndexes+=1048576),n.push(l),o.push(l)}else ta(s,t,f>-1?f:p,ea(n[r?p:f],c,!r&&i));!r&&i&&g&&n[p].componentProviders++}}}function ta(t,e,n,i){const r=xs(e);if(r||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[i,s]):o[t+1].push(i,s)}else o.push(n,s)}}}function ea(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function na(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function ia(t,e,n,i){return sa(this.multi,[])}function ra(t,e,n,i){const r=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=xn(n,n[1],this.providerFactory.index,i);s=e.slice(0,t),sa(r,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],sa(r,s);return s}function sa(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function oa(t,e=[]){return n=>{n.providersResolver=(n,i)=>function(t,e,n){const i=ve();if(i.firstCreatePass){const r=Bt(t);Jo(n,i.data,i.blueprint,r,!0),Jo(e,i.data,i.blueprint,r,!1)}}(n,i?i(t):t,e)}}class aa{}class ca{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${T(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let ua=(()=>{class t{}return t.NULL=new ca,t})(),la=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>ha(t),t})();const ha=function(t){return ss(t,Ee(),_e())};class da{}var fa=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let pa=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ma(),t})();const ma=function(){const t=_e(),e=le(Ee().index,t);return function(t){const e=t[11];if(ie(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Rt(e)?e:t)};let ga=(()=>{class t{}return t.\u0275prov=y({token:t,providedIn:"root",factory:()=>null}),t})();class ba{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const ya=new ba("10.2.4");class _a{constructor(){}supports(t){return Ms(t)}create(t){return new wa(t)}}const va=(t,e)=>e;class wa{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||va}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,i=0,r=null;for(;e||n;){const s=!n||e&&e.currentIndex<Sa(n,i,r)?e:n,o=Sa(s,i,r),a=s.currentIndex;if(s===n)i--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)i++;else{r||(r=[]);const t=o-i,e=a-i;if(t!=e){for(let n=0;n<t;n++){const i=n<r.length?r[n]:r[n]=0,s=i+n;e<=s&&s<t&&(r[n]=i+1)}r[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Ms(t))throw new Error(`Error trying to diff '${T(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,i,r=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],i=this._trackByFn(e,n),null!==r&&Object.is(r.trackById,i)?(s&&(r=this._verifyReinsertion(r,n,i,e)),Object.is(r.item,n)||this._addIdentityChange(r,n)):(r=this._mismatch(r,n,i,e),s=!0),r=r._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Rs()]();let i;for(;!(i=n.next()).done;)e(i.value)}}(t,t=>{i=this._trackByFn(e,t),null!==r&&Object.is(r.trackById,i)?(s&&(r=this._verifyReinsertion(r,t,i,e)),Object.is(r.item,t)||this._addIdentityChange(r,t)):(r=this._mismatch(r,t,i,e),s=!0),r=r._next,e++}),this.length=e;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,i){let r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,i)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,i)):t=this._addAfter(new Ea(e,n),r,i),t}_verifyReinsertion(t,e,n,i){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?t=this._reinsertAfter(r,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,r=t._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new xa),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new xa),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Ea{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ca{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class xa{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Ca,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Sa(t,e,n){const i=t.previousIndex;if(null===i)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}class Oa{constructor(){}supports(t){return t instanceof Map||Fs(t)}create(){return new Ia}}class Ia{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Fs(t)))throw new Error(`Error trying to diff '${T(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const i=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,i)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}const n=new Ta(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Ta{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let ka=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new p,new d]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=y({token:t,providedIn:"root",factory:()=>new t([new _a])}),t})(),Aa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new p,new d]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=y({token:t,providedIn:"root",factory:()=>new t([new Oa])}),t})();const Da=[new Oa],Pa=new ka([new _a]),ja=new Aa(Da);let Na=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ra(t,la),t})();const Ra=function(t,e){return os(t,e,Ee(),_e())};let La=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ma(t,la),t})();const Ma=function(t,e){return as(t,e,Ee(),_e())},Fa={};class Va extends ua{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=At(t);return new za(e,this.ngModule)}}function Ba(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Ha=new Q("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>qt});class za extends aa{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Ri).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Ba(this.componentDef.inputs)}get outputs(){return Ba(this.componentDef.outputs)}create(t,e,n,i){const r=(i=i||this.ngModule)?function(t,e){return{get:(n,i,r)=>{const s=t.get(n,Fa,r);return s!==Fa||i===Fa?s:e.get(n,i,r)}}}(t,i.injector):t,s=r.get(da,re),o=r.get(ga,null),a=s.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=n?function(t,e,n){if(ie(t))return t.selectRootElement(e,n===bt.ShadowDom);let i="string"==typeof e?t.querySelector(e):e;return i.textContent="",i}(a,n,this.componentDef.encapsulation):Xi(c,s.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?te:"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:qt,clean:Dr,playerHandler:null,flags:0},d=ar(0,null,null,1,0,null,null,null,null,null),f=Yi(null,d,h,l,null,null,s,a,o,r);let p,m;Fe(f);try{const t=function(t,e,n,i,r,s){const o=n[1];n[20]=t;const a=Zi(o,0,2,null,null),c=a.mergedAttrs=e.hostAttrs;null!==c&&(Is(a,c,!0),null!==t&&(rn(r,t,c),null!==a.classes&&Jr(r,t,a.classes),null!==a.styles&&Zr(r,t,a.styles)));const u=i.createRenderer(t,e),l=Yi(n,or(e),null,e.onPush?64:16,n[20],a,i,u,null,null);return o.firstCreatePass&&(_n(mn(a,n),o,e.type),gr(o,a),yr(a,n.length,1)),Or(n,l),n[20]=l}(u,this.componentDef,f,s,a);if(u)if(n)rn(a,u,["ng-version",ya.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let i=1,r=2;for(;i<t.length;){let s=t[i];if("string"==typeof s)2===r?""!==s&&e.push(s,t[++i]):8===r&&n.push(s);else{if(!Ai(r))break;r=s}i++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&rn(a,u,t),e&&e.length>0&&Jr(a,u,e.join(" "))}if(m=ce(d,0),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const i=e[n];t.push(null!=i?Array.from(i):null)}}p=function(t,e,n,i,r){const s=n[1],o=function(t,e,n){const i=Ee();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),mr(t,i,1),_r(t,e,n));const r=xn(e,t,e.length-1,i);Ci(r,e);const s=ae(i,e);return s&&Ci(s,e),r}(s,n,e);i.components.push(o),t[8]=o,r&&r.forEach(t=>t(o,e)),e.contentQueries&&e.contentQueries(1,o,n.length-1);const a=Ee();if(s.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){Ge(a.index-jt);const t=n[1];dr(t,e),fr(t,n,e.hostVars),pr(e,o)}return o}(t,this.componentDef,f,h,[Ts]),Ji(d,f,null)}finally{Ue()}return new Ua(this.componentType,p,ss(la,m,f),f,m)}}class Ua extends class{}{constructor(t,e,n,i,r){super(),this.location=n,this._rootLView=i,this._tNode=r,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new es(i),this.componentType=t}get injector(){return new In(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const qa=new Map;class Ga extends ct{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Va(this);const n=Pt(t),i=t[U]||null;i&&Zo(i),this._bootstrapComponents=Qt(n.bootstrap),this._r3Injector=ys(t,e,[{provide:ct,useValue:this},{provide:ua,useValue:this.componentFactoryResolver}],T(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Os.THROW_IF_NOT_FOUND,n=m.Default){return t===Os||t===ct||t===W?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Qa extends class{}{constructor(t){super(),this.moduleType=t,null!==Pt(t)&&function(t){const e=new Set;!function t(n){const i=Pt(n,!0),r=i.id;null!==r&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${T(e)} vs ${T(e.name)}`)}(r,qa.get(r),n),qa.set(r,n));const s=Qt(i.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new Ga(this.moduleType,t)}}function Wa(t,e,n){const i=Te()+t,r=_e();return r[i]===Li?Vs(r,i,n?e.call(n):e()):function(t,e){return t[e]}(r,i)}function Ka(t,e,n,i){return Ya(_e(),Te(),t,e,n,i)}function $a(t,e,n,i,r){return function(t,e,n,i,r,s,o){const a=e+n;return Hs(t,a,r,s)?Vs(t,a+2,o?i.call(o,r,s):i(r,s)):Xa(t,a+2)}(_e(),Te(),t,e,n,i,r)}function Xa(t,e){const n=t[e];return n===Li?void 0:n}function Ya(t,e,n,i,r,s){const o=e+n;return Bs(t,o,r)?Vs(t,o+1,s?i.call(s,r):i(r)):Xa(t,o+1)}function Za(t,e){const n=ve();let i;const r=t+jt;n.firstCreatePass?(i=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const i=e[n];if(t===i.name)return i}throw new Error(`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(r,i.onDestroy)):i=n.data[r];const s=i.factory||(i.factory=Dt(i.type)),o=et(Qs);try{const e=fn(!1),i=s();return fn(e),function(t,e,n,i){const r=n+jt;r>=t.data.length&&(t.data[r]=null,t.blueprint[r]=null),e[r]=i}(n,_e(),t,i),i}finally{et(o)}}function Ja(t,e,n){const i=_e(),r=ue(i,t);return function(t,e){return Ls.isWrapped(e)&&(e=Ls.unwrap(e),t[ke()]=Li),e}(i,function(t,e){return t[1].data[e+jt].pure}(i,t)?Ya(i,Te(),e,r.transform,n,r):r.transform(n))}const tc=class extends i.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let i,s=t=>null,o=()=>null;t&&"object"==typeof t?(i=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(s=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(i=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(s=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(i,s,o);return t instanceof r.a&&t.add(a),a}};function ec(){return this._results[Rs()]()}class nc{constructor(){this.dirty=!0,this._results=[],this.changes=new tc,this.length=0;const t=Rs(),e=nc.prototype;e[t]||(e[t]=ec)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?(n===e&&(n=e.slice(0,i)),t(r,n)):n!==e&&n.push(r)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class ic{constructor(t){this.queryList=t,this.matches=null}clone(){return new ic(this.queryList)}setDirty(){this.queryList.setDirty()}}class rc{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,i=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);i.push(this.queries[n.indexInDeclarationView].clone())}return new rc(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==wc(t,e).matches&&this.queries[e].setDirty()}}class sc{constructor(t,e,n,i=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=i}}class oc{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const i=null!==e?e.length:0,r=this.getByIndex(n).embeddedTView(t,i);r&&(r.indexInDeclarationView=n,null!==e?e.push(r):e=[r])}return null!==e?new oc(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class ac{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new ac(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&3===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let i=0;i<n.length;i++){const r=n[i];this.matchTNodeWithReadOption(t,e,cc(e,r)),this.matchTNodeWithReadOption(t,e,Cn(e,t,r,!1,!1))}else n===Na?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Cn(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const i=this.metadata.read;if(null!==i)if(i===la||i===La||i===Na&&0===e.type)this.addMatch(e.index,-2);else{const n=Cn(e,t,i,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function cc(t,e){const n=t.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1];return null}function uc(t,e,n,i){return-1===n?function(t,e){return 2===t.type||3===t.type?ss(la,t,e):0===t.type?os(Na,la,t,e):null}(e,t):-2===n?function(t,e,n){return n===la?ss(la,e,t):n===Na?os(Na,la,e,t):n===La?as(La,la,e,t):void 0}(t,e,i):xn(t,t[1],n,e)}function lc(t,e,n,i){const r=e[19].queries[i];if(null===r.matches){const i=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const r=s[t];o.push(r<0?null:uc(e,i[r],s[t+1],n.metadata.read))}r.matches=o}return r.matches}function hc(t){const e=_e(),n=ve(),i=Re();Le(i+1);const r=wc(n,i);if(t.dirty&&de(e)===r.metadata.isStatic){if(null===r.matches)t.reset([]);else{const s=r.crossesNgTemplate?function t(e,n,i,r){const s=e.queries.getByIndex(i),o=s.matches;if(null!==o){const a=lc(e,n,s,i);for(let e=0;e<o.length;e+=2){const i=o[e];if(i>0)r.push(a[e/2]);else{const s=o[e+1],a=n[-i];for(let e=Nt;e<a.length;e++){const n=a[e];n[17]===n[3]&&t(n[1],n,s,r)}if(null!==a[9]){const e=a[9];for(let n=0;n<e.length;n++){const i=e[n];t(i[1],i,s,r)}}}}}return r}(n,e,i,[]):lc(n,e,r,i);t.reset(s),t.notifyOnChanges()}return!0}return!1}function dc(t,e,n){pc(ve(),_e(),t,e,n,!0)}function fc(t,e,n){pc(ve(),_e(),t,e,n,!1)}function pc(t,e,n,i,r,s){t.firstCreatePass&&(vc(t,new sc(n,i,s,r),-1),s&&(t.staticViewQueries=!0)),_c(t,e)}function mc(t,e,n,i){bc(ve(),_e(),e,n,i,!1,Ee(),t)}function gc(t,e,n,i){bc(ve(),_e(),e,n,i,!0,Ee(),t)}function bc(t,e,n,i,r,s,o,a){t.firstCreatePass&&(vc(t,new sc(n,i,s,r),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a),s&&(t.staticContentQueries=!0)),_c(t,e)}function yc(){return t=_e(),e=Re(),t[19].queries[e].queryList;var t,e}function _c(t,e){const n=new nc;cr(t,e,n,n.destroy),null===e[19]&&(e[19]=new rc),e[19].queries.push(new ic(n))}function vc(t,e,n){null===t.queries&&(t.queries=new oc),t.queries.track(new ac(e,n))}function wc(t,e){return t.queries.getByIndex(e)}function Ec(t=m.Default){const e=cs(!0);if(null!=e||t&m.Optional)return e;Wt("ChangeDetectorRef")}const Cc=new Q("Application Initializer");let xc=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();io(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(it(Cc,8))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();const Sc=new Q("AppId"),Oc={provide:Sc,useFactory:function(){return`${Ic()}${Ic()}${Ic()}`},deps:[]};function Ic(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Tc=new Q("Platform Initializer"),kc=new Q("Platform ID"),Ac=new Q("appBootstrapListener");let Dc=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();const Pc=new Q("LocaleId"),jc=new Q("DefaultCurrencyCode");class Nc{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Rc=function(t){return new Qa(t)},Lc=Rc,Mc=function(t){return Promise.resolve(Rc(t))},Fc=function(t){const e=Rc(t),n=Qt(Pt(t).declarations).reduce((t,e)=>{const n=At(e);return n&&t.push(new za(n)),t},[]);return new Nc(e,n)},Vc=Fc,Bc=function(t){return Promise.resolve(Fc(t))};let Hc=(()=>{class t{constructor(){this.compileModuleSync=Lc,this.compileModuleAsync=Mc,this.compileModuleAndAllComponentsSync=Vc,this.compileModuleAndAllComponentsAsync=Bc}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();const zc=(()=>Promise.resolve(0))();function Uc(t){"undefined"==typeof Zone?zc.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class qc{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new tc(!1),this.onMicrotaskEmpty=new tc(!1),this.onStable=new tc(!1),this.onError=new tc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.wtfZoneSpec&&(n._inner=n._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=F.requestAnimationFrame,e=F.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(F,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Kc(t),Wc(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Kc(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,i,r,s,o,a)=>{try{return $c(t),n.invokeTask(r,s,o,a)}finally{e&&"eventTask"===s.type&&e(),Xc(t)}},onInvoke:(e,n,i,r,s,o,a)=>{try{return $c(t),e.invoke(i,r,s,o,a)}finally{Xc(t)}},onHasTask:(e,n,i,r)=>{e.hasTask(i,r),n===i&&("microTask"==r.change?(t._hasPendingMicrotasks=r.microTask,Kc(t),Wc(t)):"macroTask"==r.change&&(t.hasPendingMacrotasks=r.macroTask))},onHandleError:(e,n,i,r)=>(e.handleError(i,r),t.runOutsideAngular(()=>t.onError.emit(r)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!qc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(qc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,i){const r=this._inner,s=r.scheduleEventTask("NgZoneEvent: "+i,t,Qc,Gc,Gc);try{return r.runTask(s,e,n)}finally{r.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function Gc(){}const Qc={};function Wc(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Kc(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function $c(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Xc(t){t._nesting--,Wc(t)}class Yc{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new tc,this.onMicrotaskEmpty=new tc,this.onStable=new tc,this.onError=new tc}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,i){return t.apply(e,n)}}let Zc=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{qc.assertNotInAngularZone(),Uc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Uc(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let i=-1;e&&e>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==i),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(it(qc))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})(),Jc=(()=>{class t{constructor(){this._applications=new Map,iu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return iu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();class tu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function eu(t){iu=t}let nu,iu=new tu;const ru=new Q("AllowMultipleToken");class su{constructor(t,e){this.name=t,this.token=e}}function ou(t,e,n=[]){const i="Platform: "+e,r=new Q(i);return(e=[])=>{let s=au();if(!s||s.injector.get(ru,!1))if(t)t(n.concat(e).concat({provide:r,useValue:!0}));else{const t=n.concat(e).concat({provide:r,useValue:!0},{provide:ds,useValue:"platform"});!function(t){if(nu&&!nu.destroyed&&!nu.injector.get(ru,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");nu=t.get(cu);const e=t.get(Tc,null);e&&e.forEach(t=>t())}(Os.create({providers:t,name:i}))}return function(t){const e=au();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(r)}}function au(){return nu&&!nu.destroyed?nu:null}let cu=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Yc:("zone.js"===t?void 0:t)||new qc({enableLongStackTrace:Xn(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),i=[{provide:qc,useValue:n}];return n.run(()=>{const e=Os.create({providers:i,parent:this.injector,name:t.moduleType.name}),r=t.create(e),s=r.injector.get(jn,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return r.onDestroy(()=>hu(this._modules,r)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{s.handleError(t)}})),function(t,e,n){try{const i=n();return io(i)?i.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}(s,n,()=>{const t=r.injector.get(xc);return t.runInitializers(),t.donePromise.then(()=>(Zo(r.injector.get(Pc,Xo)||Xo),this._moduleDoBootstrap(r),r))})})}bootstrapModule(t,e=[]){const n=uu({},e);return function(t,e,n){const i=new Qa(n);return Promise.resolve(i)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(lu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${T(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(it(Os))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();function uu(t,e){return Array.isArray(e)?e.reduce(uu,t):Object.assign(Object.assign({},t),e)}let lu=(()=>{class t{constructor(t,e,n,i,r,c){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=i,this._componentFactoryResolver=r,this._initStatus=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Xn(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const u=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{qc.assertNotInAngularZone(),Uc(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{qc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(u,l.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof aa?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const i=n.isBoundToModule?void 0:this._injector.get(ct),r=n.create(Os.NULL,[],e||n.selector,i);r.onDestroy(()=>{this._unloadComponent(r)});const s=r.injector.get(Zc,null);return s&&r.injector.get(Jc).registerApplication(r.location.nativeElement,s),this._loadComponent(r),Xn()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),r}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;hu(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Ac,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),hu(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(it(qc),it(Dc),it(Os),it(jn),it(ua),it(xc))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();function hu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class du extends us{}class fu extends du{}const pu=function(t){return null},mu=ou(null,"core",[{provide:kc,useValue:"unknown"},{provide:cu,deps:[Os]},{provide:Jc,deps:[]},{provide:Dc,deps:[]}]),gu=[{provide:lu,useClass:lu,deps:[qc,Dc,Os,jn,ua,xc]},{provide:Ha,deps:[qc],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:xc,useClass:xc,deps:[[new d,Cc]]},{provide:Hc,useClass:Hc,deps:[]},Oc,{provide:ka,useFactory:function(){return Pa},deps:[]},{provide:Aa,useFactory:function(){return ja},deps:[]},{provide:Pc,useFactory:function(t){return Zo(t=t||"undefined"!=typeof $localize&&$localize.locale||Xo),t},deps:[[new h(Pc),new d,new p]]},{provide:jc,useValue:"USD"}];let bu=(()=>{class t{constructor(t){}}return t.\u0275mod=St({type:t}),t.\u0275inj=_({factory:function(e){return new(e||t)(it(lu))},providers:gu}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("2fFW"),r=n("NJ4a");const s={closed:!0,next(t){},error(t){if(i.a.useDeprecatedSynchronousErrorHandling)throw t;Object(r.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("HDdC"),r=n("quSY");function s(t,e){return new i.a(n=>{const i=new r.a;let s=0;return i.add(e.schedule((function(){s!==t.length?(n.next(t[s++]),n.closed||i.add(this.schedule())):n.complete()}))),i})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));const i=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("7o/Q");function r(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends i.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},n6bG:function(t,e,n){"use strict";function i(t){return"function"==typeof t}n.d(e,"a",(function(){return i}))},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));const i=t=>e=>{for(let n=0,i=t.length;n<i&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return a}));var i=n("7o/Q"),r=n("WMd4");function s(t,e=0){return function(n){return n.lift(new o(t,e))}}class o{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))}}class a extends i.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new c(t,this.destination)))}_next(t){this.scheduleMessage(r.a.createNext(t))}_error(t){this.scheduleMessage(r.a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(r.a.createComplete()),this.unsubscribe()}}class c{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function i(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,r++)i[r]=s[o];return i}var r;n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return d})),n.d(e,"d",(function(){return f}));var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},c=o.INFO,u=((r={})[o.DEBUG]="log",r[o.VERBOSE]="log",r[o.INFO]="info",r[o.WARN]="warn",r[o.ERROR]="error",r),l=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=u[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,i(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=c,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.DEBUG],t)),this._logHandler.apply(this,i([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.VERBOSE],t)),this._logHandler.apply(this,i([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.INFO],t)),this._logHandler.apply(this,i([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.WARN],t)),this._logHandler.apply(this,i([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.ERROR],t)),this._logHandler.apply(this,i([this,o.ERROR],t))},t}();function d(t){s.forEach((function(e){e.setLogLevel(t)}))}function f(t,e){for(var n=function(n){var i=null;e&&e.level&&(i=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];var a=r.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=i?i:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:r,type:e.name})}},i=0,r=s;i<r.length;i++)n(r[i])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return b})),n.d(e,"c",(function(){return v})),n.d(e,"d",(function(){return w})),n.d(e,"e",(function(){return r})),n.d(e,"f",(function(){return s})),n.d(e,"g",(function(){return a})),n.d(e,"h",(function(){return l})),n.d(e,"i",(function(){return h})),n.d(e,"j",(function(){return f})),n.d(e,"k",(function(){return p})),n.d(e,"l",(function(){return c})),n.d(e,"m",(function(){return u})),n.d(e,"n",(function(){return d})),n.d(e,"o",(function(){return m}));var i=n("30Go");function r(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var o=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,i){n?e.reject(n):e.resolve(i),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,i))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function c(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function u(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function d(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function f(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function m(){return a().indexOf("MSAppHost/")>=0}var g=function(t){function e(n,i,r){var s=t.call(this,i)||this;return s.code=n,s.customData=r,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,b.prototype.create),s}return Object(i.c)(e,t),e}(Error),b=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=e[0]||{},r=this.service+"/"+t,s=this.errors[t],o=s?y(s,i):"Error",a=this.serviceName+": "+o+" ("+r+").",c=new g(r,a,i);return c},t}();function y(t,e){return t.replace(_,(function(t,n){var i=e[n];return null!=i?String(i):"<"+n+"?>"}))}var _=/\{\$([^}]+)}/g;function v(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){var n=new E(t,e);return n.subscribe.bind(n)}var E=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var i,r=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(i=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,i=["next","error","complete"];n<i.length;n++){var r=i[n];if(r in t&&"function"==typeof t[r])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(i.next=C),void 0===i.error&&(i.error=C),void 0===i.complete&&(i.complete=C);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{r.finalError?i.error(r.finalError):i.complete()}catch(t){}})),this.observers.push(i),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(i){"undefined"!=typeof console&&console.error&&console.error(i)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function C(){}},qgXg:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return c}));var i=n("3N8a");class r extends i.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(r),c=a},quSY:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("DH7j"),r=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:u,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(u)){a&&(this._unsubscribe=void 0);try{u.call(this)}catch(h){e=h instanceof o?c(h.errors):[h]}}if(Object(i.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(r.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(c(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:i}=n;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[n]:r.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function c(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return O})),n.d(e,"b",(function(){return _})),n.d(e,"c",(function(){return y})),n.d(e,"d",(function(){return f})),n.d(e,"e",(function(){return b})),n.d(e,"f",(function(){return x})),n.d(e,"g",(function(){return w})),n.d(e,"h",(function(){return p})),n.d(e,"i",(function(){return g})),n.d(e,"j",(function(){return E}));var i=n("qgXg"),r=n("D0XW"),s=n("vkgz"),o=n("tf+s"),a=n("pxpQ"),c=n("fXoL"),u=n("Jgta");function l(){}class h{constructor(t,e=i.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const i=this.zone;return this.delegate.schedule((function(e){i.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,r.b))}}function p(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const m=["ngOnDestroy"],g=(t,e,n,i={})=>new Proxy(t,{get:(r,s)=>n.runOutsideAngular(()=>{var r;if(t[s])return(null===(r=null==i?void 0:i.spy)||void 0===r?void 0:r.get)&&i.spy.get(s,t[s]),t[s];if(m.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const r=t&&t(...n);return(null===(e=null==i?void 0:i.spy)||void 0===e?void 0:e.apply)&&i.spy.apply(s,n,r),r})})})}),b=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},y=new c.o("angularfire2.app.options"),_=new c.o("angularfire2.app.nameOrConfig"),v=new c.K("6.1.4");function w(e,n,i){const r="object"==typeof i&&i||{};r.name=r.name||"string"==typeof i&&i||"[DEFAULT]";const s=u.a.apps.filter(t=>t&&t.name===r.name)[0]||n.runOutsideAngular(()=>u.a.initializeApp(e,r));try{JSON.stringify(e)!==JSON.stringify(s.options)&&C("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}const E=()=>{C("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},C=(t,...e)=>{Object(c.R)()&&"undefined"!=typeof console&&console[t](...e)};function x(e,n,i,r,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&C("error",`${n} was already initialized on the ${i.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(c){}return o}{const t=r();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const S={provide:class{},useFactory:w,deps:[y,c.v,[new c.w,_]]};let O=(()=>{class t{constructor(t){u.a.registerVersion("angularfire",v.full,t.toString()),u.a.registerVersion("angular",c.J.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:y,useValue:e},{provide:_,useValue:n}]}}}return t.\u0275mod=c.Eb({type:t}),t.\u0275inj=c.Db({factory:function(e){return new(e||t)(c.Qb(c.x))},providers:[S]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("HDdC"),r=n("7Hc7"),s=n("Y7HM");class o extends i.a{constructor(t,e=0,n=r.a){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(s.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=r.a)}static create(t,e=0,n=r.a){return new o(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(o.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function a(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new o(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("7o/Q");function r(){}var s=n("n6bG");function o(t,e,n){return function(i){return i.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new c(t,this.nextOrObserver,this.error,this.complete))}}class c extends i.a{constructor(t,e,n,i){super(t),this._tapNext=r,this._tapError=r,this._tapComplete=r,this._tapError=n||r,this._tapComplete=i||r,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||r,this._tapError=e.error||r,this._tapComplete=e.complete||r)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var i=n("XNiG"),r=n("HDdC"),s=n("7o/Q"),o=n("quSY");function a(){return function(t){return t.lift(new c(t))}}class c{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const i=new u(t,n),r=e.subscribe(i);return i.closed||(i.connection=n.connect()),r}}class u extends s.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,i=t._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}class l extends r.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new o.a,t.add(this.source.subscribe(new d(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.a.EMPTY)),t}refCount(){return a()(this)}}const h=(()=>{const t=l.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class d extends i.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function f(){return new i.a}function p(){return t=>{return a()((e=f,function(t){let n;n="function"==typeof e?e:function(){return e};const i=Object.create(t,h);return i.source=t,i.subjectFactory=n,i})(t));var e}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("HDdC"),r=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new i.a(Object(r.a)(t))}},"z+Ro":function(t,e,n){"use strict";function i(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return i}))},z6cu:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("HDdC");function r(t,e){return new i.a(e?n=>e.schedule(s,0,{error:t,subscriber:n}):e=>e.error(t))}function s({error:t,subscriber:e}){e.error(t)}},zIRd:function(t,e,n){"use strict";var i,r,s=n("30Go"),o=n("qOnz"),a=n("/6Yf"),c=n("q/0M"),u=((i={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",i["bad-app-name"]="Illegal App name: '{$appName}",i["duplicate-app"]="Firebase App named '{$appName}' already exists",i["app-deleted"]="Firebase App named '{$appName}' already deleted",i["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",i["invalid-log-argument"]="First argument to `onLog` must be null or a function.",i),l=new o.b("app","Firebase",u),h="@firebase/app",d="[DEFAULT]",f=((r={})[h]="fire-core",r["@firebase/analytics"]="fire-analytics",r["@firebase/auth"]="fire-auth",r["@firebase/database"]="fire-rtdb",r["@firebase/functions"]="fire-fn",r["@firebase/installations"]="fire-iid",r["@firebase/messaging"]="fire-fcm",r["@firebase/performance"]="fire-perf",r["@firebase/remote-config"]="fire-rc",r["@firebase/storage"]="fire-gcs",r["@firebase/firestore"]="fire-fst",r["fire-js"]="fire-js",r["firebase-wrapper"]="fire-js-all",r),p=new c.b("@firebase/app"),m=function(){function t(t,e,n){var i,r,c=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.e)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",(function(){return c}),"PUBLIC"));try{for(var u=Object(s.h)(this.firebase_.INTERNAL.components.values()),l=u.next();!l.done;l=u.next())this._addComponent(l.value)}catch(h){i={error:h}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(i)throw i.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e=d),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=d),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();m.prototype.name&&m.prototype.options||m.prototype.delete||console.log("dc");var g=function t(){var e=function(t){var e={},n=new Map,i={__esModule:!0,initializeApp:function(n,r){void 0===r&&(r={}),"object"==typeof r&&null!==r||(r={name:r});var s=r;void 0===s.name&&(s.name=d);var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(o.c)(e,a))throw l.create("duplicate-app",{appName:a});var c=new t(n,s,i);return e[a]=c,c},app:r,registerVersion:function(t,e,n){var i,r=null!==(i=f[t])&&void 0!==i?i:t;n&&(r+="-"+n);var s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){var c=['Unable to register library "'+r+'" with version "'+e+'":'];return s&&c.push('library name "'+r+'" contains illegal characters (whitespace or "/")'),s&&o&&c.push("and"),o&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}u(new a.a(r+"-version",(function(){return{library:r,version:e}}),"VERSION"))},setLogLevel:c.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(c.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:u,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function r(t){if(t=t||d,!Object(o.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function u(a){var c,u,h=a.name;if(n.has(h))return p.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?i[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var d=function(t){if(void 0===t&&(t=r()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&Object(o.f)(d,a.serviceProps),i[h]=d,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,a.multipleInstances?t:[])}}try{for(var f=Object(s.h)(Object.keys(e)),m=f.next();!m.done;m=f.next())e[m.value]._addComponent(a)}catch(g){c={error:g}}finally{try{m&&!m.done&&(u=f.return)&&u.call(f)}finally{if(c)throw c.error}}return"PUBLIC"===a.type?i[h]:null}return i.default=i,Object.defineProperty(i,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),r.App=t,i}(m);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.f)(e,t)},createSubscribe:o.d,ErrorFactory:o.b,deepExtend:o.f}),e}(),b=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(o.h)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var _=g.initializeApp;g.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.m)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),_.apply(void 0,t)};var v=g;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",(function(t){return new b(t)}),"PRIVATE")),t.registerVersion(h,"0.6.13",void 0),t.registerVersion("fire-js","")}(v),e.a=v},zUnb:function(t,e,n){"use strict";n.r(e);var i=n("fXoL");const r="https://automatenow.duckdns.org/api/",s={apiKey:"AIzaSyCoFyXIBYHAq96zxQ2X2nEvmT4HIFWkQ-A",authDomain:"walktojerusalem-b9e74.firebaseapp.com",projectId:"walktojerusalem-b9e74",storageBucket:"walktojerusalem-b9e74.appspot.com",messagingSenderId:"379120011168",appId:"1:379120011168:web:c7d1a73e2a90991b5446c5",measurementId:"G-CNKCWVG2YQ"};let o=null;function a(){return o}const c=new i.o("DocumentToken");let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Cb)({factory:l,token:t,providedIn:"platform"}),t})();function l(){return Object(i.Qb)(h)}let h=(()=>{class t extends u{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=a().getLocation(),this._history=a().getHistory()}getBaseHrefFromDOM(){return a().getBaseHref(this._doc)}onPopState(t){a().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){a().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){d()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){d()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(c))},t.\u0275prov=Object(i.Cb)({factory:f,token:t,providedIn:"platform"}),t})();function d(){return!!window.history.pushState}function f(){return new h(Object(i.Qb)(c))}function p(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function m(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}let b=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Cb)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=Object(i.Qb)(c).location;return new v(Object(i.Qb)(u),e&&e.origin||"")}const _=new i.o("appBaseHref");let v=(()=>{class t extends b{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return p(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,i){const r=this.prepareExternalUrl(n+g(i));this._platformLocation.pushState(t,e,r)}replaceState(t,e,n,i){const r=this.prepareExternalUrl(n+g(i));this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(u),i.Qb(_,8))},t.\u0275prov=i.Cb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t{constructor(t,e){this._subject=new i.l,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=m(C(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+g(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,C(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(b),i.Qb(u))},t.normalizeQueryParams=g,t.joinWithSlash=p,t.stripTrailingSlash=m,t.\u0275prov=Object(i.Cb)({factory:E,token:t,providedIn:"root"}),t})();function E(){return new w(Object(i.Qb)(b),Object(i.Qb)(u))}function C(t){return t.replace(/\/index.html$/,"")}var x=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}({}),S=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),O=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function I(t,e){const n=Object(i.fb)(t),r=n[i.W.NumberSymbols][e];if(void 0===r){if(e===O.CurrencyDecimal)return n[i.W.NumberSymbols][O.Decimal];if(e===O.CurrencyGroup)return n[i.W.NumberSymbols][O.Group]}return r}const T=i.ib,k=/^(\d+)?\.((\d+)(-(\d+))?)?$/,A=".",D="0";function P(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}class j{}let N=(()=>{class t extends j{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(T(e||this.locale)(t)){case S.Zero:return"zero";case S.One:return"one";case S.Two:return"two";case S.Few:return"few";case S.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.s))},t.\u0275prov=i.Cb({token:t,factory:t.\u0275fac}),t})();function R(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[i,r]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(i.trim()===e)return decodeURIComponent(r)}return null}class L{constructor(t,e,n,i){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let M=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(i.R)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,i)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new L(null,this._ngForOf,-1,-1),null===i?void 0:i),r=new F(t,n);e.push(r)}else if(null==i)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const r=this._viewContainer.get(n);this._viewContainer.move(r,i);const s=new F(t,r);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,i=this._viewContainer.length;n<i;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=i,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(i.Gb(i.L),i.Gb(i.G),i.Gb(i.q))},t.\u0275dir=i.Bb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class F{constructor(t,e){this.record=t,this.view=e}}let V=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new B,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){H("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){H("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(i.Gb(i.L),i.Gb(i.G))},t.\u0275dir=i.Bb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class B{constructor(){this.$implicit=null,this.ngIf=null}}function H(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(i.qb)(e)}'.`)}class z{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let U=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Bb({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),q=(()=>{class t{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new z(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(i.Gb(i.L),i.Gb(i.G),i.Gb(U,1))},t.\u0275dir=i.Bb({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),G=(()=>{class t{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,e){const[n,i]=t.split(".");null!=(e=null!=e&&i?`${e}${i}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(i.Gb(i.i),i.Gb(i.r),i.Gb(i.A))},t.\u0275dir=i.Bb({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})(),Q=(()=>{class t{constructor(t){this._locale=t}transform(e,n,r){if(function(t){return null==t||""===t||t!=t}(e))return null;r=r||this._locale;try{return function(t,e,n){return function(t,e,n,i,r,s,o=!1){let a="",c=!1;if(isFinite(t)){let u=function(t){let e,n,i,r,s,o=Math.abs(t)+"",a=0;for((n=o.indexOf(A))>-1&&(o=o.replace(A,"")),(i=o.search(/e/i))>0?(n<0&&(n=i),n+=+o.slice(i+1),o=o.substring(0,i)):n<0&&(n=o.length),i=0;o.charAt(i)===D;i++);if(i===(s=o.length))e=[0],n=1;else{for(s--;o.charAt(s)===D;)s--;for(n-=i,e=[],r=0;i<=s;i++,r++)e[r]=Number(o.charAt(i))}return n>22&&(e=e.splice(0,21),a=n-1,n=1),{digits:e,exponent:a,integerLen:n}}(t);o&&(u=function(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(u));let l=e.minInt,h=e.minFrac,d=e.maxFrac;if(s){const t=s.match(k);if(null===t)throw new Error(s+" is not a valid digit info");const e=t[1],n=t[3],i=t[5];null!=e&&(l=P(e)),null!=n&&(h=P(n)),null!=i?d=P(i):null!=n&&h>d&&(d=h)}!function(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let i=t.digits,r=i.length-t.integerLen;const s=Math.min(Math.max(e,r),n);let o=s+t.integerLen,a=i[o];if(o>0){i.splice(Math.max(t.integerLen,o));for(let t=o;t<i.length;t++)i[t]=0}else{r=Math.max(0,r),t.integerLen=1,i.length=Math.max(1,o=s+1),i[0]=0;for(let t=1;t<o;t++)i[t]=0}if(a>=5)if(o-1<0){for(let e=0;e>o;e--)i.unshift(0),t.integerLen++;i.unshift(1),t.integerLen++}else i[o-1]++;for(;r<Math.max(0,s);r++)i.push(0);let c=0!==s;const u=e+t.integerLen,l=i.reduceRight((function(t,e,n,i){return i[n]=(e+=t)<10?e:e-10,c&&(0===i[n]&&n>=u?i.pop():c=!1),e>=10?1:0}),0);l&&(i.unshift(l),t.integerLen++)}(u,h,d);let f=u.digits,p=u.integerLen;const m=u.exponent;let g=[];for(c=f.every(t=>!t);p<l;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?g=f.splice(p,f.length):(g=f,f=[0]);const b=[];for(f.length>=e.lgSize&&b.unshift(f.splice(-e.lgSize,f.length).join(""));f.length>e.gSize;)b.unshift(f.splice(-e.gSize,f.length).join(""));f.length&&b.unshift(f.join("")),a=b.join(I(n,i)),g.length&&(a+=I(n,r)+g.join("")),m&&(a+=I(n,O.Exponential)+"+"+m)}else a=I(n,O.Infinity);return a=t<0&&!c?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,function(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=t.split(";"),r=i[0],s=i[1],o=-1!==r.indexOf(A)?r.split(A):[r.substring(0,r.lastIndexOf(D)+1),r.substring(r.lastIndexOf(D)+1)],a=o[0],c=o[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(let l=0;l<c.length;l++){const t=c.charAt(l);t===D?n.minFrac=n.maxFrac=l+1:"#"===t?n.maxFrac=l+1:n.posSuf+=t}const u=a.split(",");if(n.gSize=u[1]?u[1].length:0,n.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,s){const t=r.length-n.posPre.length-n.posSuf.length,e=s.indexOf("#");n.negPre=s.substr(0,e).replace(/'/g,""),n.negSuf=s.substr(e+t).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function(t,e){return Object(i.fb)(t)[i.W.NumberFormats][e]}(e,x.Decimal),I(e,O.MinusSign)),e,O.Group,O.Decimal,n)}(function(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(t+" is not a number");return t}(e),r,n)}catch(s){throw function(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(i.qb)(t)}'`)}(t,s.message)}}}return t.\u0275fac=function(e){return new(e||t)(i.Gb(i.s))},t.\u0275pipe=i.Fb({name:"number",type:t,pure:!0}),t})(),W=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},providers:[{provide:j,useClass:N}]}),t})();function K(t){return"browser"===t}function $(t){return"server"===t}class X extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new X,o||(o=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Z||(Z=document.querySelector("base"),Z)?Z.getAttribute("href"):null;return null==e?null:(n=e,Y||(Y=document.createElement("a")),Y.setAttribute("href",n),"/"===Y.pathname.charAt(0)?Y.pathname:"/"+Y.pathname);var n}resetBaseElement(){Z=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return R(document.cookie,t)}}let Y,Z=null;const J=new i.o("TRANSITION_ID"),tt=[{provide:i.b,useFactory:function(t,e,n){return()=>{n.get(i.c).donePromise.then(()=>{const n=a();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[J,c,i.p],multi:!0}];class et{static init(){Object(i.T)(new et)}addToWindow(t){i.kb.getAngularTestability=(e,n=!0)=>{const i=t.findTestabilityInTree(e,n);if(null==i)throw new Error("Could not find testability for element.");return i},i.kb.getAllAngularTestabilities=()=>t.getAllTestabilities(),i.kb.getAllAngularRootElements=()=>t.getAllRootElements(),i.kb.frameworkStabilizers||(i.kb.frameworkStabilizers=[]),i.kb.frameworkStabilizers.push(t=>{const e=i.kb.getAllAngularTestabilities();let n=e.length,r=!1;const s=function(e){r=r||e,n--,0==n&&t(r)};e.forEach((function(t){t.whenStable(s)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const i=t.getTestability(e);return null!=i?i:n?a().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const nt=new i.o("EventManagerPlugins");let it=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let i=0;i<n.length;i++){const e=n[i];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(nt),i.Qb(i.v))},t.\u0275prov=i.Cb({token:t,factory:t.\u0275fac}),t})();class rt{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const i=a().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,n)}}let st=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Cb({token:t,factory:t.\u0275fac}),t})(),ot=(()=>{class t extends st{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>a().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(c))},t.\u0275prov=i.Cb({token:t,factory:t.\u0275fac}),t})();const at={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ct=/%COMP%/g;function ut(t,e,n){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?ut(t,r,n):(r=r.replace(ct,t),n.push(r))}return n}function lt(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let ht=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new dt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case i.M.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new ft(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case i.M.Native:case i.M.ShadowDom:return new pt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=ut(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(it),i.Qb(ot),i.Qb(i.a))},t.\u0275prov=i.Cb({token:t,factory:t.\u0275fac}),t})();class dt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(at[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,i){if(i){e=i+":"+e;const r=at[i];r?t.setAttributeNS(r,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const i=at[n];i?t.removeAttributeNS(i,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&i.C.DashCase?t.style.setProperty(e,n,r&i.C.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&i.C.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,lt(n)):this.eventManager.addEventListener(t,e,lt(n))}}class ft extends dt{constructor(t,e,n,i){super(t),this.component=n;const r=ut(i+"-"+n.id,n.styles,[]);e.addStyles(r),this.contentAttr="_ngcontent-%COMP%".replace(ct,i+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(ct,i+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class pt extends dt{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=r,this.shadowRoot=r.encapsulation===i.M.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const s=ut(r.id,r.styles,[]);for(let i=0;i<s.length;i++){const t=document.createElement("style");t.textContent=s[i],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let mt=(()=>{class t extends rt{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(c))},t.\u0275prov=i.Cb({token:t,factory:t.\u0275fac}),t})();const gt=["alt","control","meta","shift"],bt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},_t={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let vt=(()=>{class t extends rt{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,i){const r=t.parseEventName(n),s=t.eventCallback(r.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>a().onAndCancel(e,r.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),i=n.shift();if(0===n.length||"keydown"!==i&&"keyup"!==i)return null;const r=t._normalizeKey(n.pop());let s="";if(gt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=r,0!=n.length||0===r.length)return null;const o={};return o.domEventName=i,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&yt.hasOwnProperty(e)&&(e=yt[e]))}return bt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),gt.forEach(i=>{i!=n&&(0,_t[i])(t)&&(e+=i+".")}),e+=n,e}static eventCallback(e,n,i){return r=>{t.getEventFullKey(r)===e&&i.runGuarded(()=>n(r))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(c))},t.\u0275prov=i.Cb({token:t,factory:t.\u0275fac}),t})(),wt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Cb)({factory:function(){return Object(i.Qb)(Et)},token:t,providedIn:"root"}),t})(),Et=(()=>{class t extends wt{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case i.E.NONE:return e;case i.E.HTML:return Object(i.Z)(e,"HTML")?Object(i.rb)(e):Object(i.X)(this._doc,String(e));case i.E.STYLE:return Object(i.Z)(e,"Style")?Object(i.rb)(e):e;case i.E.SCRIPT:if(Object(i.Z)(e,"Script"))return Object(i.rb)(e);throw new Error("unsafe value used in a script context");case i.E.URL:return Object(i.jb)(e),Object(i.Z)(e,"URL")?Object(i.rb)(e):Object(i.Y)(String(e));case i.E.RESOURCE_URL:if(Object(i.Z)(e,"ResourceURL"))return Object(i.rb)(e);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return Object(i.ab)(t)}bypassSecurityTrustStyle(t){return Object(i.db)(t)}bypassSecurityTrustScript(t){return Object(i.cb)(t)}bypassSecurityTrustUrl(t){return Object(i.eb)(t)}bypassSecurityTrustResourceUrl(t){return Object(i.bb)(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(c))},t.\u0275prov=Object(i.Cb)({factory:function(){return t=Object(i.Qb)(i.m),new Et(t.get(c));var t},token:t,providedIn:"root"}),t})();const Ct=[{provide:i.x,useValue:"browser"},{provide:i.y,useValue:function(){X.makeCurrent(),et.init()},multi:!0},{provide:c,useFactory:function(){return Object(i.pb)(document),document},deps:[]}],xt=Object(i.N)(i.S,"browser",Ct),St=[[],{provide:i.V,useValue:"root"},{provide:i.k,useFactory:function(){return new i.k},deps:[]},{provide:nt,useClass:mt,multi:!0,deps:[c,i.v,i.x]},{provide:nt,useClass:vt,multi:!0,deps:[c]},[],{provide:ht,useClass:ht,deps:[it,ot,i.a]},{provide:i.B,useExisting:ht},{provide:st,useExisting:ot},{provide:ot,useClass:ot,deps:[c]},{provide:i.H,useClass:i.H,deps:[i.v]},{provide:it,useClass:it,deps:[nt,i.v]},[]];let Ot=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:i.a,useValue:e.appId},{provide:J,useExisting:i.a},tt]}}}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)(i.Qb(t,12))},providers:St,imports:[W,i.d]}),t})();"undefined"!=typeof window&&window;var It=n("XNiG"),Tt=n("LRne"),kt=n("HDdC"),At=n("Cfvw"),Dt=n("VRyK"),Pt=n("pxpQ"),jt=n("lJxs"),Nt=n("zx2A");function Rt(t,e){return"function"==typeof e?n=>n.pipe(Rt((n,i)=>Object(At.a)(t(n,i)).pipe(Object(jt.a)((t,r)=>e(n,t,i,r))))):e=>e.lift(new Lt(t))}class Lt{constructor(t){this.project=t}call(t,e){return e.subscribe(new Mt(t,this.project))}}class Mt extends Nt.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Nt.a(this),i=this.destination;i.add(n),this.innerSubscription=Object(Nt.c)(t,n),this.innerSubscription!==n&&i.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}var Ft=n("qgXg"),Vt=n("quSY"),Bt=n("9ppp"),Ht=n("Ylt2");class zt extends It.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new Ut(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,r=n.length;let s;if(this.closed)throw new Bt.a;if(this.isStopped||this.hasError?s=Vt.a.EMPTY:(this.observers.push(t),s=new Ht.a(this,t)),i&&t.add(t=new Pt.a(t,i)),e)for(let o=0;o<r&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<r&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||Ft.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,i=this._events,r=i.length;let s=0;for(;s<r&&!(t-i[s].time<n);)s++;return r>e&&(s=Math.max(s,r-e)),s>0&&i.splice(0,s),i}}class Ut{constructor(t,e){this.time=t,this.value=e}}function qt(t,e,n){let i;return i=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:i}){let r,s,o=0,a=!1,c=!1;return function(u){let l;o++,!r||a?(a=!1,r=new zt(t,e,i),l=r.subscribe(this),s=u.subscribe({next(t){r.next(t)},error(t){a=!0,r.error(t)},complete(){c=!0,s=void 0,r.complete()}})):l=r.subscribe(this),this.add(()=>{o--,l.unsubscribe(),s&&!c&&n&&0===o&&(s.unsubscribe(),s=void 0,r=void 0)})}}(i))}const Gt=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Qt=n("7o/Q");function Wt(t,e){return function(n){return n.lift(new Kt(t,e))}}class Kt{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new $t(t,this.predicate,this.thisArg))}}class $t extends Qt.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const Xt=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();var Yt=n("EY2u");function Zt(t){return e=>0===t?Object(Yt.b)():e.lift(new Jt(t))}class Jt{constructor(t){if(this.total=t,this.total<0)throw new Xt}call(t,e){return e.subscribe(new te(t,this.total))}}class te extends Qt.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function ee(t=null){return e=>e.lift(new ne(t))}class ne{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new ie(t,this.defaultValue))}}class ie extends Qt.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function re(t=ae){return e=>e.lift(new se(t))}class se{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new oe(t,this.errorFactory))}}class oe extends Qt.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(Xm){t=Xm}this.destination.error(t)}}}function ae(){return new Gt}var ce=n("SpAZ");function ue(t,e){return e?Rt(()=>t,e):Rt(()=>t)}var le=n("tf+s"),he=n("spgP");const de=new i.o("angularfire2.auth.use-emulator"),fe=new i.o("angularfire2.auth.settings"),pe=new i.o("angularfire2.auth.tenant-id"),me=new i.o("angularfire2.auth.langugage-code"),ge=new i.o("angularfire2.auth.use-device-language"),be=new i.o("angularfire.auth.persistence");let ye=(()=>{class t{constructor(t,e,i,r,s,o,a,c,u,l){const h=new he.d(r),d=Object(he.h)(h),f=new It.a,p=Object(Tt.a)(void 0).pipe(Object(Pt.b)(h.outsideAngular),Rt(()=>r.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(jt.a)(()=>Object(he.g)(t,r,e)),Object(jt.a)(t=>r.runOutsideAngular(()=>{const e=s,n=o;return Object(he.f)(t.name+".auth","AngularFireAuth",t,()=>{const i=r.runOutsideAngular(()=>t.auth());return e&&i.useEmulator("http://"+e.join(":")),a&&(i.tenantId=a),i.languageCode=c,u&&i.useDeviceLanguage(),n&&(i.settings=n),l&&i.setPersistence(l),i},[e,a,c,u,n,l])})),qt({bufferSize:1,refCount:!1}));if($(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Tt.a)(null);else{p.pipe(function(t,e){const n=arguments.length>=2;return i=>i.pipe(t?Wt((e,n)=>t(e,n,i)):ce.a,Zt(1),n?ee(e):re(()=>new Gt))}()).subscribe();const t=p.pipe(Rt(t=>t.getRedirectResult().then(t=>t,()=>null)),d,qt({bufferSize:1,refCount:!1})),e=t=>new kt.a(e=>({unsubscribe:r.runOutsideAngular(()=>t(e))})),n=p.pipe(Rt(t=>e(t.onAuthStateChanged.bind(t)))),i=p.pipe(Rt(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(ue(n),Object(le.a)(h.outsideAngular),Object(Pt.b)(h.insideAngular)),this.user=t.pipe(ue(i),Object(le.a)(h.outsideAngular),Object(Pt.b)(h.insideAngular)),this.idToken=this.user.pipe(Rt(t=>t?Object(At.a)(t.getIdToken()):Object(Tt.a)(null))),this.idTokenResult=this.user.pipe(Rt(t=>t?Object(At.a)(t.getIdTokenResult()):Object(Tt.a)(null))),this.credential=Object(Dt.a)(t,f,this.authState.pipe(Wt(t=>!t))).pipe(Object(jt.a)(t=>(null==t?void 0:t.user)?t:null),Object(le.a)(h.outsideAngular),Object(Pt.b)(h.insideAngular))}return Object(he.i)(this,p,r,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>f.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(he.c),i.Qb(he.b,8),i.Qb(i.x),i.Qb(i.v),i.Qb(de,8),i.Qb(fe,8),i.Qb(pe,8),i.Qb(me,8),i.Qb(ge,8),i.Qb(be,8))},t.\u0275prov=Object(i.Cb)({factory:function(){return new t(Object(i.Qb)(he.c),Object(i.Qb)(he.b,8),Object(i.Qb)(i.x),Object(i.Qb)(i.v),Object(i.Qb)(de,8),Object(i.Qb)(fe,8),Object(i.Qb)(pe,8),Object(i.Qb)(me,8),Object(i.Qb)(ge,8),Object(i.Qb)(be,8))},token:t,providedIn:"any"}),t})(),_e=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},providers:[ye]}),t})();var ve=n("D0XW"),we=n("bHdf");function Ee(...t){return Object(we.a)(1)(Object(Tt.a)(...t))}var Ce=n("z+Ro");function xe(...t){const e=t[t.length-1];return Object(Ce.a)(e)?(t.pop(),n=>Ee(t,n,e)):e=>Ee(t,e)}function Se(){return t=>t.lift(new Oe)}class Oe{call(t,e){return e.subscribe(new Ie(t))}}class Ie extends Qt.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}function Te(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new ke(t,e,n))}}class ke{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Ae(t,this.accumulator,this.seed,this.hasSeed))}}class Ae extends Qt.a{constructor(t,e,n,i){super(t),this.accumulator=e,this._seed=n,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(i){this.destination.error(i)}this.seed=n,this.destination.next(n)}}function De(t,e){return n=>n.lift(new Pe(t,e))}class Pe{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new je(t,this.compare,this.keySelector))}}class je extends Qt.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(i){return this.destination.error(i)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var Ne=n("Jgta"),Re=n("zIRd"),Le=n("q/0M"),Me=n("qOnz"),Fe=function(t,e){return(Fe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Ve(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Be,He="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ze=ze||{},Ue=He||self;function qe(){}function Ge(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Qe(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var We="closure_uid_"+(1e9*Math.random()>>>0),Ke=0;function $e(t,e,n){return t.call.apply(t.bind,arguments)}function Xe(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Ye(t,e,n){return(Ye=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?$e:Xe).apply(null,arguments)}function Ze(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Je(){return Date.now()}function tn(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,i){for(var r=Array(arguments.length-2),s=2;s<arguments.length;s++)r[s-2]=arguments[s];return e.prototype[n].apply(t,r)}}function en(){this.j=this.j,this.i=this.i}en.prototype.j=!1,en.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,We)&&t[We]||(t[We]=++Ke)}(this)},en.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var nn=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},rn=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,r="string"==typeof t?t.split(""):t,s=0;s<i;s++)s in r&&e.call(n,r[s],s,t)};function sn(t){return Array.prototype.concat.apply([],arguments)}function on(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}function an(t){return/^[\s\xa0]*$/.test(t)}var cn,un=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function ln(t,e){return-1!=t.indexOf(e)}function hn(t,e){return t<e?-1:t>e?1:0}t:{var dn=Ue.navigator;if(dn){var fn=dn.userAgent;if(fn){cn=fn;break t}}cn=""}function pn(t,e,n){for(var i in t)e.call(n,t[i],i,t)}function mn(t){var e={};for(var n in t)e[n]=t[n];return e}var gn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function bn(t,e){for(var n,i,r=1;r<arguments.length;r++){for(n in i=arguments[r])t[n]=i[n];for(var s=0;s<gn.length;s++)n=gn[s],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function yn(t){return yn[" "](t),t}yn[" "]=qe;var _n,vn,wn=ln(cn,"Opera"),En=ln(cn,"Trident")||ln(cn,"MSIE"),Cn=ln(cn,"Edge"),xn=Cn||En,Sn=ln(cn,"Gecko")&&!(ln(cn.toLowerCase(),"webkit")&&!ln(cn,"Edge"))&&!(ln(cn,"Trident")||ln(cn,"MSIE"))&&!ln(cn,"Edge"),On=ln(cn.toLowerCase(),"webkit")&&!ln(cn,"Edge");function In(){var t=Ue.document;return t?t.documentMode:void 0}t:{var Tn="",kn=(vn=cn,Sn?/rv:([^\);]+)(\)|;)/.exec(vn):Cn?/Edge\/([\d\.]+)/.exec(vn):En?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(vn):On?/WebKit\/(\S+)/.exec(vn):wn?/(?:Version)[ \/]?(\S+)/.exec(vn):void 0);if(kn&&(Tn=kn?kn[1]:""),En){var An=In();if(null!=An&&An>parseFloat(Tn)){_n=String(An);break t}}_n=Tn}var Dn={};function Pn(t){return function(t,e){var n=Dn;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=un(String(_n)).split("."),i=un(String(t)).split("."),r=Math.max(n.length,i.length),s=0;0==e&&s<r;s++){var o=n[s]||"",a=i[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=hn(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||hn(0==o[2].length,0==a[2].length)||hn(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}))}var jn=Ue.document&&En&&(In()||parseInt(_n,10))||void 0,Nn=!En||9<=Number(jn),Rn=En&&!Pn("9"),Ln=function(){if(!Ue.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ue.addEventListener("test",qe,e),Ue.removeEventListener("test",qe,e)}catch(n){}return t}();function Mn(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Fn(t,e){if(Mn.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Sn){t:{try{yn(e.nodeName);var r=!0;break t}catch(s){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Vn[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Mn.prototype.b=function(){this.defaultPrevented=!0},tn(Fn,Mn);var Vn={2:"touch",3:"pen",4:"mouse"};Fn.prototype.b=function(){Fn.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Rn)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Bn="closure_listenable_"+(1e6*Math.random()|0),Hn=0;function zn(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.ca=r,this.key=++Hn,this.Y=this.Z=!1}function Un(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function qn(t){this.src=t,this.a={},this.b=0}function Gn(t,e){var n=e.type;if(n in t.a){var i,r=t.a[n],s=nn(r,e);(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(Un(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Qn(t,e,n,i){for(var r=0;r<t.length;++r){var s=t[r];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==i)return r}return-1}qn.prototype.add=function(t,e,n,i,r){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=Qn(t,e,i,r);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new zn(e,this.src,s,!!i,r)).Z=n,t.push(e)),e};var Wn="closure_lm_"+(1e6*Math.random()|0),Kn={};function $n(t,e,n,i,r){if(i&&i.once)return function t(e,n,i,r,s){if(Array.isArray(n)){for(var o=0;o<n.length;o++)t(e,n[o],i,r,s);return null}return i=ii(i),e&&e[Bn]?e.wa(n,i,Qe(r)?!!r.capture:!!r,s):Xn(e,n,i,!0,r,s)}(t,e,n,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)$n(t,e[s],n,i,r);return null}return n=ii(n),t&&t[Bn]?t.va(e,n,Qe(i)?!!i.capture:!!i,r):Xn(t,e,n,!1,i,r)}function Xn(t,e,n,i,r,s){if(!e)throw Error("Invalid event type");var o=Qe(r)?!!r.capture:!!r;if(o&&!Nn)return null;var a=ei(t);if(a||(t[Wn]=a=new qn(t)),(n=a.add(e,n,i,o,s)).proxy)return n;if(i=function(){var t=ti,e=Nn?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)Ln||(r=o),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(Zn(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}return n}function Yn(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Bn])Gn(e.c,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(Zn(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=ei(e))?(Gn(n,t),0==n.b&&(n.src=null,e[Wn]=null)):Un(t)}}}function Zn(t){return t in Kn?Kn[t]:Kn[t]="on"+t}function Jn(t,e){var n=t.listener,i=t.ca||t.src;return t.Z&&Yn(t),n.call(i,e)}function ti(t,e){if(t.Y)return!0;if(!Nn){if(!e)t:{e=["window","event"];for(var n=Ue,i=0;i<e.length;i++)if(null==(n=n[e[i]])){e=null;break t}e=n}return Jn(t,e=new Fn(e,this))}return Jn(t,new Fn(e,this))}function ei(t){return(t=t[Wn])instanceof qn?t:null}var ni="__closure_events_fn_"+(1e9*Math.random()>>>0);function ii(t){return"function"==typeof t?t:(t[ni]||(t[ni]=function(e){return t.handleEvent(e)}),t[ni])}function ri(){en.call(this),this.c=new qn(this),this.J=this,this.C=null}function si(t,e){var n,i=t.C;if(i)for(n=[];i;i=i.C)n.push(i);if(t=t.J,i=e.type||e,"string"==typeof e)e=new Mn(e,t);else if(e instanceof Mn)e.target=e.target||t;else{var r=e;bn(e=new Mn(i,t),r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.a=n[s];r=oi(o,i,!0,e)&&r}if(r=oi(o=e.a=t,i,!0,e)&&r,r=oi(o,i,!1,e)&&r,n)for(s=0;s<n.length;s++)r=oi(o=e.a=n[s],i,!1,e)&&r}function oi(t,e,n,i){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,c=o.ca||o.src;o.Z&&Gn(t.c,o),r=!1!==a.call(c,i)&&r}}return r&&!i.defaultPrevented}tn(ri,en),ri.prototype[Bn]=!0,(Be=ri.prototype).addEventListener=function(t,e,n,i){$n(this,t,e,n,i)},Be.removeEventListener=function(t,e,n,i){!function t(e,n,i,r,s){if(Array.isArray(n))for(var o=0;o<n.length;o++)t(e,n[o],i,r,s);else r=Qe(r)?!!r.capture:!!r,i=ii(i),e&&e[Bn]?(e=e.c,(n=String(n).toString())in e.a&&-1<(i=Qn(o=e.a[n],i,r,s))&&(Un(o[i]),Array.prototype.splice.call(o,i,1),0==o.length&&(delete e.a[n],e.b--))):e&&(e=ei(e))&&(n=e.a[n.toString()],e=-1,n&&(e=Qn(n,i,r,s)),(i=-1<e?n[e]:null)&&Yn(i))}(this,t,e,n,i)},Be.G=function(){if(ri.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],i=0;i<n.length;i++)Un(n[i]);delete e.a[t],e.b--}}this.C=null},Be.va=function(t,e,n,i){return this.c.add(String(t),e,!1,n,i)},Be.wa=function(t,e,n,i){return this.c.add(String(t),e,!0,n,i)};var ai=Ue.JSON.stringify;function ci(){this.b=this.a=null}var ui,li=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new di}),(function(t){t.reset()}));function hi(){var t=gi,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function di(){this.next=this.b=this.a=null}function fi(t){Ue.setTimeout((function(){throw t}),0)}function pi(t,e){ui||function(){var t=Ue.Promise.resolve(void 0);ui=function(){t.then(bi)}}(),mi||(ui(),mi=!0),gi.add(t,e)}ci.prototype.add=function(t,e){var n=li.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},di.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},di.prototype.reset=function(){this.next=this.b=this.a=null};var mi=!1,gi=new ci;function bi(){for(var t;t=hi();){try{t.a.call(t.b)}catch(n){fi(n)}var e=li;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}mi=!1}function yi(t,e){ri.call(this),this.b=t||1,this.a=e||Ue,this.f=Ye(this.Za,this),this.g=Je()}function _i(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function vi(t,e,n){if("function"==typeof t)n&&(t=Ye(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Ye(t.handleEvent,t)}return 2147483647<Number(e)?-1:Ue.setTimeout(t,e||0)}function wi(t){t.a=vi((function(){t.a=null,t.c&&(t.c=!1,wi(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}tn(yi,ri),(Be=yi.prototype).aa=!1,Be.M=null,Be.Za=function(){if(this.aa){var t=Je()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),si(this,"tick"),this.aa&&(_i(this),this.start()))}},Be.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Je())},Be.G=function(){yi.X.G.call(this),_i(this),delete this.a};var Ei=function(t){function e(e,n){var i=t.call(this)||this;return i.g=e,i.h=n,i.b=null,i.c=!1,i.a=null,i}return function(t,e){function n(){this.constructor=t}Fe(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:wi(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Ue.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(en);function Ci(t){en.call(this),this.b=t,this.a={}}tn(Ci,en);var xi=[];function Si(t,e,n,i){Array.isArray(n)||(n&&(xi[0]=n.toString()),n=xi);for(var r=0;r<n.length;r++){var s=$n(e,n[r],i||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function Oi(t){pn(t.a,(function(t,e){this.a.hasOwnProperty(e)&&Yn(t)}),t),t.a={}}function Ii(){this.a=!0}function Ti(t,e,n,i){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<r.length;o++)r[o]=""}}}return ai(n)}catch(a){return e}}(t,n)+(i?" "+i:"")}))}Ci.prototype.G=function(){Ci.X.G.call(this),Oi(this)},Ci.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ii.prototype.info=function(){};var ki={},Ai=null;function Di(){return Ai=Ai||new ri}function Pi(t){Mn.call(this,ki.Fa,t)}function ji(t){var e=Di();si(e,new Pi(e,t))}function Ni(t,e){Mn.call(this,ki.STAT_EVENT,t),this.stat=e}function Ri(t){var e=Di();si(e,new Ni(e,t))}function Li(t){Mn.call(this,ki.Ga,t)}function Mi(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Ue.setTimeout((function(){t()}),e)}ki.Fa="serverreachability",tn(Pi,Mn),ki.STAT_EVENT="statevent",tn(Ni,Mn),ki.Ga="timingevent",tn(Li,Mn);var Fi={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Vi={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Bi(){}function Hi(){}Bi.prototype.a=null;var zi,Ui={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function qi(){Mn.call(this,"d")}function Gi(){Mn.call(this,"c")}function Qi(){}function Wi(t,e,n,i){this.g=t,this.c=e,this.f=n,this.S=i||1,this.J=new Ci(this),this.P=Ki,this.R=new yi(t=xn?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}tn(qi,Mn),tn(Gi,Mn),tn(Qi,Bi),zi=new Qi;var Ki=45e3,$i={},Xi={};function Yi(t,e,n){t.H=1,t.i=_r(fr(e)),t.j=n,t.I=!0,Zi(t,null)}function Zi(t,e){t.u=Je(),er(t),t.l=fr(t.i);var n=t.l,i=t.S;Array.isArray(i)||(i=[String(i)]),Pr(n.b,"t",i),t.D=0,t.a=Os(t.g,t.g.C?e:null),0<t.O&&(t.F=new Ei(Ye(t.Ca,t,t.a),t.O)),Si(t.J,t.a,"readystatechange",t.Xa),e=t.B?mn(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),ji(1),function(t,e,n,i,r,s){t.info((function(){if(t.a)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+u+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+n+"\n"+o}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function Ji(t,e,n){for(var i=!0;!t.A&&t.D<n.length;){var r=tr(t,n);if(r==Xi){4==e&&(t.h=4,Ri(14),i=!1),Ti(t.c,t.f,null,"[Incomplete Response]");break}if(r==$i){t.h=4,Ri(15),Ti(t.c,t.f,n,"[Invalid Chunk]"),i=!1;break}Ti(t.c,t.f,r,null),or(t,r)}4==e&&0==n.length&&(t.h=1,Ri(16),i=!1),t.b=t.b&&i,i?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),ys(e),e.F=!0,Ri(11))):(Ti(t.c,t.f,n,"[Invalid Chunked Response]"),sr(t),rr(t))}function tr(t,e){var n=t.D,i=e.indexOf("\n",n);return-1==i?Xi:(n=Number(e.substring(n,i)),isNaN(n)?$i:(i+=1)+n>e.length?Xi:(e=e.substr(i,n),t.D=i+n,e))}function er(t){t.T=Je()+t.P,nr(t,t.P)}function nr(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Mi(Ye(t.Va,t),e)}function ir(t){t.o&&(Ue.clearTimeout(t.o),t.o=null)}function rr(t){0==t.g.v||t.A||ws(t.g,t)}function sr(t){ir(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,_i(t.R),Oi(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function or(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Vr(n.b,t)))if(n.I=t.N,!t.C&&Vr(n.b,t)&&3==n.v){try{var i=n.ka.a.parse(e)}catch(um){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;vs(n),us(n)}bs(n),Ri(18)}}else n.oa=r[1],0<n.oa-n.P&&37500>r[2]&&n.H&&0==n.o&&!n.m&&(n.m=Mi(Ye(n.Sa,n),6e3));if(1>=Fr(n.b)&&n.ea){try{n.ea()}catch(um){}n.ea=void 0}}else Cs(n,11)}else if((t.C||n.a==t)&&vs(n),!an(e))for(e=i=n.ka.a.parse(e),i=0;i<e.length;i++)if(n.P=(r=e[i])[0],r=r[1],2==n.v)if("c"==r[0]){n.J=r[1],n.ga=r[2];var s=r[3];null!=s&&(n.ha=s,n.c.info("VER="+n.ha));var o=r[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var a=r[5];if(null!=a&&"number"==typeof a&&0<a){var c=1.5*a;n.D=c,n.c.info("backChannelRequestTimeoutMs_="+c)}c=n;var u=t.a;if(u){var l=u.a?u.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=c.b;!h.a&&(ln(l,"spdy")||ln(l,"quic")||ln(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Br(h,h.b),h.b=null))}if(c.A){var d=u.a?u.a.getResponseHeader("X-HTTP-Session-Id"):null;d&&(c.na=d,yr(c.B,c.A,d))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Je()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var f=t;if((c=n).la=Ss(c,c.C?c.ga:null,c.fa),f.C){Hr(c.b,f);var p=f,m=c.D;m&&p.setTimeout(m),p.o&&(ir(p),er(p)),c.a=f}else gs(c);0<n.g.length&&ds(n)}else"stop"!=r[0]&&"close"!=r[0]||Cs(n,7);else 3==n.v&&("stop"==r[0]||"close"==r[0]?"stop"==r[0]?Cs(n,7):cs(n):"noop"!=r[0]&&n.f&&n.f.sa(r),n.o=0);ji(4)}catch(um){}}function ar(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Ge(t)||"string"==typeof t)rn(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Ge(t)||"string"==typeof t){n=[];for(var i=t.length,r=0;r<i;r++)n.push(r)}else for(r in n=[],i=0,t)n[i++]=r;r=(i=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Ge(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}(t)).length;for(var s=0;s<r;s++)e.call(void 0,i[s],n&&n[s],t)}}function cr(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof cr)for(n=t.L(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}function ur(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var i=t.a[e];lr(t.b,i)&&(t.a[n++]=i),e++}t.a.length=n}if(t.c!=t.a.length){var r={};for(n=e=0;e<t.a.length;)lr(r,i=t.a[e])||(t.a[n++]=i,r[i]=1),e++;t.a.length=n}}function lr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Be=Wi.prototype).setTimeout=function(t){this.P=t},Be.Xa=function(t){t=t.target;var e=this.F;e&&3==rs(t)?e.f():this.Ca(t)},Be.Ca=function(t){try{if(t==this.a)t:{var e=rs(this.a),n=this.a.ua(),i=this.a.W();if(!(3>e||3==e&&!xn&&!this.a.$())){this.A||4!=e||7==n||ji(8==n||0>=i?3:2),ir(this);var r=this.a.W();this.N=r;var s=this.a.$();if(this.b=200==r,function(t,e,n,i,r,s,o){t.info((function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+n+"\n"+s+" "+o}))}(this.c,this.m,this.l,this.f,this.S,e,r),this.b){if(this.U&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!an(o)){var c=o;break e}}c=null}if(!c){this.b=!1,this.h=3,Ri(12),sr(this),rr(this);break t}Ti(this.c,this.f,c,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,or(this,c)}this.I?(Ji(this,e,s),xn&&this.b&&3==e&&(Si(this.J,this.R,"tick",this.Wa),this.R.start())):(Ti(this.c,this.f,s,null),or(this,s)),4==e&&sr(this),this.b&&!this.A&&(4==e?ws(this.g,this):(this.b=!1,er(this)))}else 400==r&&0<s.indexOf("Unknown SID")?(this.h=3,Ri(12)):(this.h=0,Ri(13)),sr(this),rr(this)}}}catch(u){}},Be.Wa=function(){if(this.a){var t=rs(this.a),e=this.a.$();this.D<e.length&&(ir(this),Ji(this,t,e),this.b&&4!=t&&er(this))}},Be.cancel=function(){this.A=!0,sr(this)},Be.Va=function(){this.o=null;var t=Je();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(ji(3),Ri(17)),sr(this),this.h=2,rr(this)):nr(this,this.T-t)},(Be=cr.prototype).K=function(){ur(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Be.L=function(){return ur(this),this.a.concat()},Be.get=function(t,e){return lr(this.b,t)?this.b[t]:e},Be.set=function(t,e){lr(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Be.forEach=function(t,e){for(var n=this.L(),i=0;i<n.length;i++){var r=n[i],s=this.get(r);t.call(e,s,r,this)}};var hr=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function dr(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof dr){this.a=void 0!==e?e:t.a,pr(this,t.f),this.j=t.j,mr(this,t.c),gr(this,t.h),this.g=t.g,e=t.b;var n=new Tr;n.c=e.c,e.a&&(n.a=new cr(e.a),n.b=e.b),br(this,n),this.i=t.i}else t&&(n=String(t).match(hr))?(this.a=!!e,pr(this,n[1]||"",!0),this.j=vr(n[2]||""),mr(this,n[3]||"",!0),gr(this,n[4]),this.g=vr(n[5]||"",!0),br(this,n[6]||"",!0),this.i=vr(n[7]||"")):(this.a=!!e,this.b=new Tr(null,this.a))}function fr(t){return new dr(t)}function pr(t,e,n){t.f=n?vr(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function mr(t,e,n){t.c=n?vr(e,!0):e}function gr(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function br(t,e,n){e instanceof Tr?(t.b=e,function(t,e){e&&!t.f&&(kr(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Ar(this,e),Pr(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=wr(e,Or)),t.b=new Tr(e,t.a))}function yr(t,e,n){t.b.set(e,n)}function _r(t){return yr(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Je()).toString(36)),t}function vr(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function wr(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Er),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Er(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}dr.prototype.toString=function(){var t=[],e=this.f;e&&t.push(wr(e,Cr,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(wr(e,Cr,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(wr(n,"/"==n.charAt(0)?Sr:xr,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",wr(n,Ir)),t.join("")};var Cr=/[#\/\?@]/g,xr=/[#\?:]/g,Sr=/[#\?]/g,Or=/[#\?@]/g,Ir=/#/g;function Tr(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function kr(t){t.a||(t.a=new cr,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var s=t[n].substring(0,i);r=t[n].substring(i+1)}else s=t[n];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Ar(t,e){kr(t),e=jr(t,e),lr(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,lr((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&ur(t)))}function Dr(t,e){return kr(t),e=jr(t,e),lr(t.a.b,e)}function Pr(t,e,n){Ar(t,e),0<n.length&&(t.c=null,t.a.set(jr(t,e),on(n)),t.b+=n.length)}function jr(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Be=Tr.prototype).add=function(t,e){kr(this),this.c=null,t=jr(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Be.forEach=function(t,e){kr(this),this.a.forEach((function(n,i){rn(n,(function(n){t.call(e,n,i,this)}),this)}),this)},Be.L=function(){kr(this);for(var t=this.a.K(),e=this.a.L(),n=[],i=0;i<e.length;i++)for(var r=t[i],s=0;s<r.length;s++)n.push(e[i]);return n},Be.K=function(t){kr(this);var e=[];if("string"==typeof t)Dr(this,t)&&(e=sn(e,this.a.get(jr(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=sn(e,t[n])}return e},Be.set=function(t,e){return kr(this),this.c=null,Dr(this,t=jr(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Be.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Be.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var i=e[n],r=encodeURIComponent(String(i));i=this.K(i);for(var s=0;s<i.length;s++){var o=r;""!==i[s]&&(o+="="+encodeURIComponent(String(i[s]))),t.push(o)}}return this.c=t.join("&")};var Nr=function(){return function(t,e){this.b=t,this.a=e}}();function Rr(t){this.g=t||Lr,t=Ue.PerformanceNavigationTiming?0<(t=Ue.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Ue.ia&&Ue.ia.ya&&Ue.ia.ya()&&Ue.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Lr=10;function Mr(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Fr(t){return t.b?1:t.a?t.a.size:0}function Vr(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Br(t,e){t.a?t.a.add(e):t.b=e}function Hr(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function zr(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var i=t.c;try{for(var r=Ve(t.a.values()),s=r.next();!s.done;s=r.next())i=i.concat(s.value.s)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return i}return on(t.c)}function Ur(){}function qr(){this.a=new Ur}function Gr(t,e,n){var i=n||"";try{ar(t,(function(t,n){var r=t;Qe(t)&&(r=ai(t)),e.push(i+n+"="+encodeURIComponent(r))}))}catch(Xm){throw e.push(i+"type="+encodeURIComponent("_badmap")),Xm}}function Qr(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(s){}}Rr.prototype.cancel=function(){var t,e;if(this.c=zr(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Ve(this.a.values()),i=n.next();!i.done;i=n.next())i.value.cancel()}catch(r){t={error:r}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Ur.prototype.stringify=function(t){return Ue.JSON.stringify(t,void 0)},Ur.prototype.parse=function(t){return Ue.JSON.parse(t,void 0)};var Wr=Ue.JSON.parse;function Kr(t){ri.call(this),this.headers=new cr,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=$r,this.D=this.F=!1}tn(Kr,ri);var $r="",Xr=/^https?$/i,Yr=["POST","PUT"];function Zr(t){return"content-type"==t.toLowerCase()}function Jr(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,ts(t),ns(t)}function ts(t){t.u||(t.u=!0,si(t,"complete"),si(t,"error"))}function es(t){if(t.b&&void 0!==ze&&(!t.s[1]||4!=rs(t)||2!=t.W()))if(t.l&&4==rs(t))vi(t.za,0,t);else if(si(t,"readystatechange"),4==rs(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break t;default:i=!1}if(!(e=i)){var r;if(r=0===n){var s=String(t.B).match(hr)[1]||null;if(!s&&Ue.self&&Ue.self.location){var o=Ue.self.location.protocol;s=o.substr(0,o.length-1)}r=!Xr.test(s?s.toLowerCase():"")}e=r}if(e)si(t,"complete"),si(t,"success");else{t.h=6;try{var a=2<rs(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",ts(t)}}finally{ns(t)}}}function ns(t,e){if(t.a){is(t);var n=t.a,i=t.s[0]?qe:null;t.a=null,t.s=null,e||si(t,"ready");try{n.onreadystatechange=i}catch(Xm){}}}function is(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Ue.clearTimeout(t.m),t.m=null)}function rs(t){return t.a?t.a.readyState:0}function ss(t,e,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=function(t){var e="";return pn(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):yr(t,e,n))}function os(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function as(t){this.pa=0,this.g=[],this.c=new Ii,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=os("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=os("baseRetryDelayMs",5e3,t),this.Ra=os("retryDelaySeedMs",1e4,t),this.Ma=os("forwardChannelMaxRetries",2,t),this.ma=os("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Rr(t&&t.concurrentRequestLimit),this.ka=new qr,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function cs(t){if(ls(t),3==t.v){var e=t.R++,n=fr(t.B);yr(n,"SID",t.J),yr(n,"RID",e),yr(n,"TYPE","terminate"),ps(t,n),(e=new Wi(t,t.c,e,void 0)).H=2,e.i=_r(fr(n)),n=!1,Ue.navigator&&Ue.navigator.sendBeacon&&(n=Ue.navigator.sendBeacon(e.i.toString(),"")),!n&&Ue.Image&&((new Image).src=e.i,n=!0),n||(e.a=Os(e.g,null),e.a.ba(e.i)),e.u=Je(),er(e)}xs(t)}function us(t){t.a&&(ys(t),t.a.cancel(),t.a=null)}function ls(t){us(t),t.j&&(Ue.clearTimeout(t.j),t.j=null),vs(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Ue.clearTimeout(t.h),t.h=null)}function hs(t,e){t.g.push(new Nr(t.Oa++,e)),3==t.v&&ds(t)}function ds(t){Mr(t.b)||t.h||(t.h=!0,pi(t.Ba,t),t.u=0)}function fs(t,e){var n;n=e?e.f:t.R++;var i=fr(t.B);yr(i,"SID",t.J),yr(i,"RID",n),yr(i,"AID",t.P),ps(t,i),t.i&&t.l&&ss(i,t.i,t.l),n=new Wi(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=ms(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Br(t.b,n),Yi(n,i,e)}function ps(t,e){t.f&&ar({},(function(t,n){yr(e,n,t)}))}function ms(t,e,n){n=Math.min(t.g.length,n);var i=t.f?Ye(t.f.Ja,t.f,t):null;t:for(var r=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=r[0].b)):s=0:o.push("ofs="+s);for(var a=!0,c=0;c<n;c++){var u=r[c].b,l=r[c].a;if(0>(u-=s))s=Math.max(0,r[c].b-100),a=!1;else try{Gr(l,o,"req"+u+"_")}catch(co){i&&i(l)}}if(a){i=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,i}function gs(t){t.a||t.j||(t.T=1,pi(t.Aa,t),t.o=0)}function bs(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Mi(Ye(t.Aa,t),Es(t,t.o)),t.o++,0))}function ys(t){null!=t.s&&(Ue.clearTimeout(t.s),t.s=null)}function _s(t){t.a=new Wi(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=fr(t.la);yr(e,"RID","rpc"),yr(e,"SID",t.J),yr(e,"CI",t.H?"0":"1"),yr(e,"AID",t.P),ps(t,e),yr(e,"TYPE","xmlhttp"),t.i&&t.l&&ss(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=_r(fr(e)),n.j=null,n.I=!0,Zi(n,t)}function vs(t){null!=t.m&&(Ue.clearTimeout(t.m),t.m=null)}function ws(t,e){var n=null;if(t.a==e){vs(t),ys(t),t.a=null;var i=2}else{if(!Vr(t.b,e))return;n=e.s,Hr(t.b,e),i=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==i){n=e.j?e.j.length:0,e=Je()-e.u;var r=t.u;si(i=Di(),new Li(i,n,e,r)),ds(t)}else gs(t);else if(3==(r=e.h)||0==r&&0<t.I||!(1==i&&function(t,e){return!(Fr(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Mi(Ye(t.Ba,t,e),Es(t,t.u)),t.u++,0)))}(t,e)||2==i&&bs(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),r){case 1:Cs(t,5);break;case 4:Cs(t,10);break;case 3:Cs(t,6);break;default:Cs(t,2)}}function Es(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Cs(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var i=Ye(t.Ya,t);n||(n=new dr("//www.google.com/images/cleardot.gif"),Ue.location&&"http"==Ue.location.protocol||pr(n,"https"),_r(n)),function(t,e){var n=new Ii;if(Ue.Image){var i=new Image;i.onload=Ze(Qr,n,i,"TestLoadImage: loaded",!0,e),i.onerror=Ze(Qr,n,i,"TestLoadImage: error",!1,e),i.onabort=Ze(Qr,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=Ze(Qr,n,i,"TestLoadImage: timeout",!1,e),Ue.setTimeout((function(){i.ontimeout&&i.ontimeout()}),1e4),i.src=t}else e(!1)}(n.toString(),i)}else Ri(2);t.v=0,t.f&&t.f.ra(e),xs(t),ls(t)}function xs(t){t.v=0,t.I=-1,t.f&&(0==zr(t.b).length&&0==t.g.length||(t.b.c.length=0,on(t.g),t.g.length=0),t.f.qa())}function Ss(t,e,n){var i=function(t){return t instanceof dr?fr(t):new dr(t,void 0)}(n);if(""!=i.c)e&&mr(i,e+"."+i.c),gr(i,i.h);else{var r=Ue.location;i=function(t,e,n,i){var r=new dr(null,void 0);return t&&pr(r,t),e&&mr(r,e),n&&gr(r,n),i&&(r.g=i),r}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,n)}return t.V&&pn(t.V,(function(t,e){yr(i,e,t)})),n=t.na,(e=t.A)&&n&&yr(i,e,n),yr(i,"VER",t.ha),ps(t,i),i}function Os(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Kr(t.Na)).F=t.C,e}function Is(){}function Ts(){if(En&&!(10<=Number(jn)))throw Error("Environmental error: no available transport.")}function ks(t,e){ri.call(this),this.a=new as(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!an(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!an(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Ps(this)}function As(t){qi.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Ds(){Gi.call(this),this.status=1}function Ps(t){this.a=t}(Be=Kr.prototype).ba=function(t,e,n,i){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:zi),this.a.onreadystatechange=Ye(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){return void Jr(this,s)}t=n||"";var r=new cr(this.headers);i&&ar(i,(function(t,e){r.set(e,t)})),i=function(t){t:{for(var e=Zr,n=t.length,i="string"==typeof t?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t)){e=r;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(r.L()),n=Ue.FormData&&t instanceof Ue.FormData,!(0<=nn(Yr,e))||i||n||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{is(this),0<this.o&&((this.D=function(t){return En&&Pn(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Ye(this.xa,this)):this.m=vi(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){Jr(this,s)}},Be.xa=function(){void 0!==ze&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,si(this,"timeout"),this.abort(8))},Be.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,si(this,"complete"),si(this,"abort"),ns(this))},Be.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),ns(this,!0)),Kr.X.G.call(this)},Be.za=function(){this.j||(this.A||this.l||this.g?es(this):this.Ua())},Be.Ua=function(){es(this)},Be.W=function(){try{return 2<rs(this)?this.a.status:-1}catch(vn){return-1}},Be.$=function(){try{return this.a?this.a.responseText:""}catch(vn){return""}},Be.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Wr(e)}},Be.ua=function(){return this.h},Be.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Be=as.prototype).ha=8,Be.v=1,Be.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Wi(this,this.c,t,void 0),i=this.l;if(this.O&&(i?bn(i=mn(i),this.O):i=this.O),null===this.i&&(n.B=i),this.da)t:{for(var r=e=0;r<this.g.length;r++){var s=this.g[r];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=r;break t}if(4096===e||r===this.g.length-1){e=r+1;break t}}e=1e3}else e=1e3;e=ms(this,n,e),yr(r=fr(this.B),"RID",t),yr(r,"CVER",22),this.A&&yr(r,"X-HTTP-Session-Id",this.A),ps(this,r),this.i&&i&&ss(r,this.i,i),Br(this.b,n),this.Ia&&yr(r,"TYPE","init"),this.da?(yr(r,"$req",e),yr(r,"SID","null"),n.U=!0,Yi(n,r,null)):Yi(n,r,e),this.v=2}}else 3==this.v&&(t?fs(this,t):0==this.g.length||Mr(this.b)||fs(this))},Be.Aa=function(){if(this.j=null,_s(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Mi(Ye(this.Ta,this),t)}},Be.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Ri(10),us(this),_s(this))},Be.Sa=function(){null!=this.m&&(this.m=null,us(this),bs(this),Ri(19))},Be.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Ri(2)):(this.c.info("Failed to ping google.com"),Ri(1))},(Be=Is.prototype).ta=function(){},Be.sa=function(){},Be.ra=function(){},Be.qa=function(){},Be.Ja=function(){},Ts.prototype.a=function(t,e){return new ks(t,e)},tn(ks,ri),ks.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Ri(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Ss(t,null,t.fa),ds(t)},ks.prototype.close=function(){cs(this.a)},ks.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,hs(this.a,e)}else this.l?((e={}).__data__=ai(t),hs(this.a,e)):hs(this.a,t)},ks.prototype.G=function(){this.a.f=null,delete this.f,cs(this.a),delete this.a,ks.X.G.call(this)},tn(As,qi),tn(Ds,Gi),tn(Ps,Is),Ps.prototype.ta=function(){si(this.a,"a")},Ps.prototype.sa=function(t){si(this.a,new As(t))},Ps.prototype.ra=function(t){si(this.a,new Ds(t))},Ps.prototype.qa=function(){si(this.a,"b")},Ts.prototype.createWebChannel=Ts.prototype.a,ks.prototype.send=ks.prototype.h,ks.prototype.open=ks.prototype.g,ks.prototype.close=ks.prototype.close,Fi.NO_ERROR=0,Fi.TIMEOUT=8,Fi.HTTP_ERROR=6,Vi.COMPLETE="complete",Hi.EventType=Ui,Ui.OPEN="a",Ui.CLOSE="b",Ui.ERROR="c",Ui.MESSAGE="d",ri.prototype.listen=ri.prototype.va,Kr.prototype.listenOnce=Kr.prototype.wa,Kr.prototype.getLastError=Kr.prototype.Qa,Kr.prototype.getLastErrorCode=Kr.prototype.ua,Kr.prototype.getStatus=Kr.prototype.W,Kr.prototype.getResponseJson=Kr.prototype.Pa,Kr.prototype.getResponseText=Kr.prototype.$,Kr.prototype.send=Kr.prototype.ba;var js=Fi,Ns=Vi,Rs=ki,Ls=Hi,Ms=Kr,Fs=n("30Go"),Vs=new Le.b("@firebase/firestore");function Bs(){return Vs.logLevel}function Hs(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Vs.logLevel<=Le.a.DEBUG){var i=e.map(qs);Vs.debug.apply(Vs,Object(Fs.g)(["Firestore (8.2.2): "+t],i))}}function zs(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Vs.logLevel<=Le.a.ERROR){var i=e.map(qs);Vs.error.apply(Vs,Object(Fs.g)(["Firestore (8.2.2): "+t],i))}}function Us(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Vs.logLevel<=Le.a.WARN){var i=e.map(qs);Vs.warn.apply(Vs,Object(Fs.g)(["Firestore (8.2.2): "+t],i))}}function qs(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(Xm){return t}}function Gs(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.2) INTERNAL ASSERTION FAILED: "+t;throw zs(e),new Error(e)}function Qs(t,e){t||Gs()}function Ws(t,e){return t}function Ks(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}var $s=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var i=Ks(40),r=0;r<i.length;++r)n.length<20&&i[r]<e&&(n+=t.charAt(i[r]%t.length));return n},t}();function Xs(t,e){return t<e?-1:t>e?1:0}function Ys(t,e,n){return t.length===e.length&&t.every((function(t,i){return n(t,e[i])}))}function Zs(t){return t+"\0"}var Js=function(){function t(t){this.i=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.i)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},t.prototype.o=function(){return 2*this.i.length},t.prototype.u=function(t){return Xs(this.i,t.i)},t.prototype.isEqual=function(t){return this.i===t.i},t}();Js.h=new Js("");var to={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},eo=function(t){function e(e,n){var i=this;return(i=t.call(this,n)||this).code=e,i.message=n,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return Object(Fs.c)(e,t),e}(Error),no=function(){function t(t){this.l=t}return t.fromBase64String=function(e){try{return new t(Js.fromBase64String(e))}catch(e){throw new eo(to.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Js.fromUint8Array(e))},t.prototype.toBase64=function(){return this.l.toBase64()},t.prototype.toUint8Array=function(){return this.l.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.l.isEqual(t.l)},t}(),io=function(t){this._=t};function ro(){if("undefined"==typeof Uint8Array)throw new eo(to.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function so(){if("undefined"==typeof atob)throw new eo(to.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var oo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Fs.c)(e,t),e.fromBase64String=function(t){return so(),new e(no.fromBase64String(t))},e.fromUint8Array=function(t){return ro(),new e(no.fromUint8Array(t))},e.prototype.toBase64=function(){return so(),this._.toBase64()},e.prototype.toUint8Array=function(){return ro(),this._.toUint8Array()},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(io),ao=function(t,e,n,i,r,s){this.T=t,this.persistenceKey=e,this.host=n,this.ssl=i,this.forceLongPolling=r,this.I=s},co=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"m",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),uo=function(){function t(t){this.uid=t}return t.prototype.A=function(){return null!=this.uid},t.prototype.R=function(){return this.A()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();uo.UNAUTHENTICATED=new uo(null),uo.P=new uo("google-credentials-uid"),uo.g=new uo("first-party-uid");var lo=function(t,e){this.user=e,this.type="OAuth",this.V={},this.V.Authorization="Bearer "+t},ho=function(){function t(){this.p=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.v=function(){},t.prototype.S=function(t){this.p=t,t(uo.UNAUTHENTICATED)},t.prototype.D=function(){this.p=null},t}(),fo=function(){function t(t){var e=this;this.C=null,this.currentUser=uo.UNAUTHENTICATED,this.N=!1,this.O=0,this.p=null,this.forceRefresh=!1,this.C=function(){e.O++,e.currentUser=e.F(),e.N=!0,e.p&&e.p(e.currentUser)},this.O=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.C):(this.C(null),t.get().then((function(t){e.auth=t,e.C&&e.auth.addAuthTokenListener(e.C)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.O,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.O!==e?(Hs("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Qs("string"==typeof n.accessToken),new lo(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.v=function(){this.forceRefresh=!0},t.prototype.S=function(t){this.p=t,this.N&&t(this.currentUser)},t.prototype.D=function(){this.auth&&this.auth.removeAuthTokenListener(this.C),this.C=null,this.p=null},t.prototype.F=function(){var t=this.auth&&this.auth.getUid();return Qs(null===t||"string"==typeof t),new uo(t)},t}(),po=function(){function t(t,e){this.k=t,this.M=e,this.type="FirstParty",this.user=uo.g}return Object.defineProperty(t.prototype,"V",{get:function(){var t={"X-Goog-AuthUser":this.M},e=this.k.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),mo=function(){function t(t,e){this.k=t,this.M=e}return t.prototype.getToken=function(){return Promise.resolve(new po(this.k,this.M))},t.prototype.S=function(t){t(uo.g)},t.prototype.D=function(){},t.prototype.v=function(){},t}(),go=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.L=function(t){return n.$(t)},this.B=function(t){return e.q(t)})}return t.prototype.$=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.B&&this.B(t),t},t}();go.U=-1;var bo=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new eo(to.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new eo(to.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new eo(to.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new eo(to.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.K=function(t){return this.seconds===t.seconds?Xs(this.nanoseconds,t.nanoseconds):Xs(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),yo=function(){function t(t){this.timestamp=t}return t.j=function(e){return new t(e)},t.min=function(){return new t(new bo(0,0))},t.prototype.u=function(t){return this.timestamp.K(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.W=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.G=function(){return this.timestamp},t}(),_o=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Gs(),void 0===n?n=t.length-e:n>t.length-e&&Gs(),this.segments=t,this.offset=e,this.H=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.H},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.J(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.Y(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.X=function(t){return this.Y(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.Z=function(){return this.Y(this.segments,this.offset,this.length-1)},t.prototype.tt=function(){return this.segments[this.offset]},t.prototype.et=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.nt=function(){return 0===this.length},t.prototype.st=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.it=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.rt=function(){return this.segments.slice(this.offset,this.limit())},t.J=function(t,e){for(var n=Math.min(t.length,e.length),i=0;i<n;i++){var r=t.get(i),s=e.get(i);if(r<s)return-1;if(r>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),vo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Fs.c)(e,t),e.prototype.Y=function(t,n,i){return new e(t,n,i)},e.prototype.ot=function(){return this.rt().join("/")},e.prototype.toString=function(){return this.ot()},e.ct=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var i=[],r=0,s=t;r<s.length;r++){var o=s[r];if(o.indexOf("//")>=0)throw new eo(to.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");i.push.apply(i,o.split("/").filter((function(t){return t.length>0})))}return new e(i)},e.at=function(){return new e([])},e}(_o),wo=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Eo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Fs.c)(e,t),e.prototype.Y=function(t,n,i){return new e(t,n,i)},e.ut=function(t){return wo.test(t)},e.prototype.ot=function(){return this.rt().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.ut(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.ot()},e.prototype.ht=function(){return 1===this.length&&"__name__"===this.get(0)},e.lt=function(){return new e(["__name__"])},e._t=function(t){for(var n=[],i="",r=0,s=function(){if(0===i.length)throw new eo(to.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(i),i=""},o=!1;r<t.length;){var a=t[r];if("\\"===a){if(r+1===t.length)throw new eo(to.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var c=t[r+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new eo(to.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=c,r+=2}else"`"===a?(o=!o,r++):"."!==a||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new eo(to.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.at=function(){return new e([])},e}(_o),Co=function(){function t(t){this.path=t}return t.ft=function(e){return new t(vo.ct(e))},t.dt=function(e){return new t(vo.ct(e).X(5))},t.prototype.wt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===vo.J(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.J=function(t,e){return vo.J(t.path,e.path)},t.Et=function(t){return t.length%2==0},t.Tt=function(e){return new t(new vo(e.slice()))},t}();function xo(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function So(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Oo(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Io=function(){function t(t){this.fields=t,t.sort(Eo.J)}return t.prototype.It=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].st(t))return!0;return!1},t.prototype.isEqual=function(t){return Ys(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),To=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ko(t){if(Qs(!!t),"string"==typeof t){var e=0,n=To.exec(t);if(Qs(!!n),n[1]){var i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}var r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ao(t.seconds),nanos:Ao(t.nanos)}}function Ao(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Do(t){return"string"==typeof t?Js.fromBase64String(t):Js.fromUint8Array(t)}function Po(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function jo(t){var e=ko(t.mapValue.fields.__local_write_time__.timestampValue);return new bo(e.seconds,e.nanos)}function No(t){return null==t}function Ro(t){return 0===t&&1/t==-1/0}function Lo(t){return"number"==typeof t&&Number.isInteger(t)&&!Ro(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Mo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Po(t)?4:10:Gs()}function Fo(t,e){var n=Mo(t);if(n!==Mo(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return jo(t).isEqual(jo(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=ko(t.timestampValue),i=ko(e.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Do(t.bytesValue).isEqual(Do(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Ao(t.geoPointValue.latitude)===Ao(e.geoPointValue.latitude)&&Ao(t.geoPointValue.longitude)===Ao(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Ao(t.integerValue)===Ao(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Ao(t.doubleValue),i=Ao(e.doubleValue);return n===i?Ro(n)===Ro(i):isNaN(n)&&isNaN(i)}return!1}(t,e);case 9:return Ys(t.arrayValue.values||[],e.arrayValue.values||[],Fo);case 10:return function(t,e){var n=t.mapValue.fields||{},i=e.mapValue.fields||{};if(xo(n)!==xo(i))return!1;for(var r in n)if(n.hasOwnProperty(r)&&(void 0===i[r]||!Fo(n[r],i[r])))return!1;return!0}(t,e);default:return Gs()}}function Vo(t,e){return void 0!==(t.values||[]).find((function(t){return Fo(t,e)}))}function Bo(t,e){var n=Mo(t),i=Mo(e);if(n!==i)return Xs(n,i);switch(n){case 0:return 0;case 1:return Xs(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Ao(t.integerValue||t.doubleValue),i=Ao(e.integerValue||e.doubleValue);return n<i?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1}(t,e);case 3:return Ho(t.timestampValue,e.timestampValue);case 4:return Ho(jo(t),jo(e));case 5:return Xs(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Do(t),i=Do(e);return n.u(i)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),i=e.split("/"),r=0;r<n.length&&r<i.length;r++){var s=Xs(n[r],i[r]);if(0!==s)return s}return Xs(n.length,i.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Xs(Ao(t.latitude),Ao(e.latitude));return 0!==n?n:Xs(Ao(t.longitude),Ao(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],i=e.values||[],r=0;r<n.length&&r<i.length;++r){var s=Bo(n[r],i[r]);if(s)return s}return Xs(n.length,i.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},i=Object.keys(n),r=e.fields||{},s=Object.keys(r);i.sort(),s.sort();for(var o=0;o<i.length&&o<s.length;++o){var a=Xs(i[o],s[o]);if(0!==a)return a;var c=Bo(n[i[o]],r[s[o]]);if(0!==c)return c}return Xs(i.length,s.length)}(t.mapValue,e.mapValue);default:throw Gs()}}function Ho(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Xs(t,e);var n=ko(t),i=ko(e),r=Xs(n.seconds,i.seconds);return 0!==r?r:Xs(n.nanos,i.nanos)}function zo(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=ko(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Do(e.bytesValue).toBase64():"referenceValue"in e?Co.dt(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",i=!0,r=0,s=e.values||[];r<s.length;r++)i?i=!1:n+=",",n+=t(s[r]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",i=!0,r=0,s=Object.keys(e.fields||{}).sort();r<s.length;r++){var o=s[r];i?i=!1:n+=",",n+=o+":"+t(e.fields[o])}return n+"}"}(e.mapValue):Gs();var n}(t)}function Uo(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.ot()}}function qo(t){return!!t&&"integerValue"in t}function Go(t){return!!t&&"arrayValue"in t}function Qo(t){return!!t&&"nullValue"in t}function Wo(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ko(t){return!!t&&"mapValue"in t}var $o=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.nt())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Ko(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.et()])||null},t.prototype.isEqual=function(t){return Fo(this.proto,t.proto)},t}(),Xo=function(){function t(t){void 0===t&&(t=$o.empty()),this.At=t,this.Rt=new Map}return t.prototype.set=function(t,e){return this.Pt(t,e),this},t.prototype.delete=function(t){return this.Pt(t,null),this},t.prototype.Pt=function(t,e){for(var n=this.Rt,i=0;i<t.length-1;++i){var r=t.get(i),s=n.get(r);s instanceof Map?n=s:s&&10===Mo(s)?(s=new Map(Object.entries(s.mapValue.fields||{})),n.set(r,s),n=s):(s=new Map,n.set(r,s),n=s)}n.set(t.et(),e)},t.prototype.yt=function(){var t=this.gt(Eo.at(),this.Rt);return null!=t?new $o(t):this.At},t.prototype.gt=function(t,e){var n=this,i=!1,r=this.At.field(t),s=Ko(r)?Object.assign({},r.mapValue.fields):{};return e.forEach((function(e,r){if(e instanceof Map){var o=n.gt(t.child(r),e);null!=o&&(s[r]=o,i=!0)}else null!==e?(s[r]=e,i=!0):s.hasOwnProperty(r)&&(delete s[r],i=!0)})),i?{mapValue:{fields:s}}:null},t}();function Yo(t){var e=[];return So(t.fields||{},(function(t,n){var i=new Eo([t]);if(Ko(n)){var r=Yo(n.mapValue).fields;if(0===r.length)e.push(i);else for(var s=0,o=r;s<o.length;s++)e.push(i.child(o[s]))}else e.push(i)})),new Io(e)}var Zo=function(t,e){this.key=t,this.version=e},Jo=function(t){function e(e,n,i,r){var s=this;return(s=t.call(this,e,n)||this).Vt=i,s.bt=!!r.bt,s.hasCommittedMutations=!!r.hasCommittedMutations,s}return Object(Fs.c)(e,t),e.prototype.field=function(t){return this.Vt.field(t)},e.prototype.data=function(){return this.Vt},e.prototype.vt=function(){return this.Vt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.bt===t.bt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Vt.isEqual(t.Vt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Vt.toString()+", {hasLocalMutations: "+this.bt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.bt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Zo),ta=function(t){function e(e,n,i){var r=this;return(r=t.call(this,e,n)||this).hasCommittedMutations=!(!i||!i.hasCommittedMutations),r}return Object(Fs.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Zo),ea=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Fs.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Zo),na=function(t,e,n,i,r,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=i,this.limit=r,this.startAt=s,this.endAt=o,this.St=null};function ia(t,e,n,i,r,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r=null),void 0===s&&(s=null),void 0===o&&(o=null),new na(t,e,n,i,r,s,o)}function ra(t){var e=Ws(t);if(null===e.St){var n=e.path.ot();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.ot()+t.op.toString()+zo(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.ot()+t.dir}(t)})).join(","),No(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=ba(e.startAt)),e.endAt&&(n+="|ub:",n+=ba(e.endAt)),e.St=n}return e.St}function sa(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!_a(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var i=0;i<t.filters.length;i++)if((r=t.filters[i]).op!==(s=e.filters[i]).op||!r.field.isEqual(s.field)||!Fo(r.value,s.value))return!1;var r,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!wa(t.startAt,e.startAt)&&wa(t.endAt,e.endAt)}function oa(t){return Co.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}var aa=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).field=e,r.op=n,r.value=i,r}return Object(Fs.c)(e,t),e.create=function(t,n,i){return t.ht()?"in"===n||"not-in"===n?this.Dt(t,n,i):new ca(t,n,i):"array-contains"===n?new da(t,i):"in"===n?new fa(t,i):"not-in"===n?new pa(t,i):"array-contains-any"===n?new ma(t,i):new e(t,n,i)},e.Dt=function(t,e,n){return"in"===e?new ua(t,n):new la(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Ct(Bo(e,this.value)):null!==e&&Mo(this.value)===Mo(e)&&this.Ct(Bo(e,this.value))},e.prototype.Ct=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Gs()}},e.prototype.xt=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),ca=function(t){function e(e,n,i){var r=this;return(r=t.call(this,e,n,i)||this).key=Co.dt(i.referenceValue),r}return Object(Fs.c)(e,t),e.prototype.matches=function(t){var e=Co.J(t.key,this.key);return this.Ct(e)},e}(aa),ua=function(t){function e(e,n){var i=this;return(i=t.call(this,e,"in",n)||this).keys=ha(0,n),i}return Object(Fs.c)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(aa),la=function(t){function e(e,n){var i=this;return(i=t.call(this,e,"not-in",n)||this).keys=ha(0,n),i}return Object(Fs.c)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(aa);function ha(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return Co.dt(t.referenceValue)}))}var da=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Fs.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Go(e)&&Vo(e.arrayValue,this.value)},e}(aa),fa=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Fs.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Vo(this.value.arrayValue,e)},e}(aa),pa=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Fs.c)(e,t),e.prototype.matches=function(t){if(Vo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Vo(this.value.arrayValue,e)},e}(aa),ma=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Fs.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Go(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return Vo(e.value.arrayValue,t)}))},e}(aa),ga=function(t,e){this.position=t,this.before=e};function ba(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return zo(t)})).join(",")}var ya=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function _a(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function va(t,e,n){for(var i=0,r=0;r<t.position.length;r++){var s=e[r],o=t.position[r];if(i=s.field.ht()?Co.J(Co.dt(o.referenceValue),n.key):Bo(o,n.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return t.before?i<=0:i<0}function wa(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Fo(t.position[n],e.position[n]))return!1;return!0}var Ea=function(t,e,n,i,r,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Nt=n,this.filters=i,this.limit=r,this.limitType=s,this.startAt=o,this.endAt=a,this.Ot=null,this.Ft=null};function Ca(t,e,n,i,r,s,o,a){return new Ea(t,e,n,i,r,s,o,a)}function xa(t){return new Ea(t)}function Sa(t){return!No(t.limit)&&"F"===t.limitType}function Oa(t){return!No(t.limit)&&"L"===t.limitType}function Ia(t){return t.Nt.length>0?t.Nt[0].field:null}function Ta(t){for(var e=0,n=t.filters;e<n.length;e++){var i=n[e];if(i.xt())return i.field}return null}function ka(t){return null!==t.collectionGroup}function Aa(t){var e=Ws(t);if(null===e.Ot){e.Ot=[];var n=Ta(e),i=Ia(e);if(null!==n&&null===i)n.ht()||e.Ot.push(new ya(n)),e.Ot.push(new ya(Eo.lt(),"asc"));else{for(var r=!1,s=0,o=e.Nt;s<o.length;s++){var a=o[s];e.Ot.push(a),a.field.ht()&&(r=!0)}if(!r){var c=e.Nt.length>0?e.Nt[e.Nt.length-1].dir:"asc";e.Ot.push(new ya(Eo.lt(),c))}}}return e.Ot}function Da(t){var e=Ws(t);if(!e.Ft)if("F"===e.limitType)e.Ft=ia(e.path,e.collectionGroup,Aa(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],i=0,r=Aa(e);i<r.length;i++){var s=r[i];n.push(new ya(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new ga(e.endAt.position,!e.endAt.before):null,a=e.startAt?new ga(e.startAt.position,!e.startAt.before):null;e.Ft=ia(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.Ft}function Pa(t,e,n){return new Ea(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ja(t,e){return sa(Da(t),Da(e))&&t.limitType===e.limitType}function Na(t){return ra(Da(t))+"|lt:"+t.limitType}function Ra(t){return"Query(target="+function(t){var e=t.path.ot();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.ot()+" "+e.op+" "+zo(e.value);var e})).join(", ")+"]"),No(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.ot()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+ba(t.startAt)),t.endAt&&(e+=", endAt: "+ba(t.endAt)),"Target("+e+")"}(Da(t))+"; limitType="+t.limitType+")"}function La(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.wt(t.collectionGroup)&&t.path.st(n):Co.Et(t.path)?t.path.isEqual(n):t.path.it(n)}(t,e)&&function(t,e){for(var n=0,i=t.Nt;n<i.length;n++){var r=i[n];if(!r.field.ht()&&null===e.field(r.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,i=t.filters;n<i.length;n++)if(!i[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!va(t.startAt,Aa(t),e)||t.endAt&&va(t.endAt,Aa(t),e))}(t,e)}function Ma(t){return function(e,n){for(var i=!1,r=0,s=Aa(t);r<s.length;r++){var o=s[r],a=Fa(o,e,n);if(0!==a)return a;i=i||o.field.ht()}return 0}}function Fa(t,e,n){var i=t.field.ht()?Co.J(e.key,n.key):function(t,e,n){var i=e.field(t),r=n.field(t);return null!==i&&null!==r?Bo(i,r):Gs()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Gs()}}var Va=function(){function t(t,e,n,i,r,s,o){void 0===r&&(r=yo.min()),void 0===s&&(s=yo.min()),void 0===o&&(o=Js.h),this.target=t,this.targetId=e,this.kt=n,this.sequenceNumber=i,this.Mt=r,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.kt,e,this.Mt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.$t=function(e,n){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Bt=function(e){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,this.Mt,e,this.resumeToken)},t}();function Ba(t,e){if(t.qt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ro(e)?"-0":e}}function Ha(t){return{integerValue:""+t}}function za(t,e){return Lo(e)?Ha(e):Ba(t,e)}var Ua=function(){this.Ut=void 0};function qa(t,e,n){return t instanceof Wa?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Ka?$a(t,e):t instanceof Xa?Ya(t,e):function(t,e){var n=Qa(t,e),i=Ja(n)+Ja(t.Qt);return qo(n)&&qo(t.Qt)?Ha(i):Ba(t.Kt,i)}(t,e)}function Ga(t,e,n){return t instanceof Ka?$a(t,e):t instanceof Xa?Ya(t,e):n}function Qa(t,e){return t instanceof Za?qo(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Wa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Fs.c)(e,t),e}(Ua),Ka=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Fs.c)(e,t),e}(Ua);function $a(t,e){for(var n=tc(e),i=function(t){n.some((function(e){return Fo(e,t)}))||n.push(t)},r=0,s=t.elements;r<s.length;r++)i(s[r]);return{arrayValue:{values:n}}}var Xa=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Fs.c)(e,t),e}(Ua);function Ya(t,e){for(var n=tc(e),i=function(t){n=n.filter((function(e){return!Fo(e,t)}))},r=0,s=t.elements;r<s.length;r++)i(s[r]);return{arrayValue:{values:n}}}var Za=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).Kt=e,i.Qt=n,i}return Object(Fs.c)(e,t),e}(Ua);function Ja(t){return Ao(t.integerValue||t.doubleValue)}function tc(t){return Go(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var ec=function(t,e){this.field=t,this.transform=e},nc=function(t,e){this.version=t,this.transformResults=e},ic=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.jt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Wt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function rc(t,e){return void 0!==t.updateTime?e instanceof Jo&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Jo}var sc=function(){};function oc(t,e,n){return t instanceof hc?function(t,e,n){var i=t.value;if(n.transformResults){var r=pc(t.fieldTransforms,e,n.transformResults);i=gc(t.fieldTransforms,i,r)}return new Jo(t.key,n.version,i,{hasCommittedMutations:!0})}(t,e,n):t instanceof dc?function(t,e,n){if(!rc(t.Gt,e))return new ea(t.key,n.version);var i=fc(t,e,n.transformResults?pc(t.fieldTransforms,e,n.transformResults):[]);return new Jo(t.key,n.version,i,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new ta(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function ac(t,e,n,i){return t instanceof hc?function(t,e,n,i){if(!rc(t.Gt,e))return e;var r=t.value,s=mc(t.fieldTransforms,n,e);r=gc(t.fieldTransforms,r,s);var o=lc(e);return new Jo(t.key,o,r,{bt:!0})}(t,e,i):t instanceof dc?function(t,e,n,i){if(!rc(t.Gt,e))return e;var r=lc(e),s=fc(t,e,mc(t.fieldTransforms,n,e));return new Jo(t.key,r,s,{bt:!0})}(t,e,i):function(t,e){return rc(t.Gt,e)?new ta(t.key,yo.min()):e}(t,e)}function cc(t,e){return function(t,e){for(var n=null,i=0,r=t;i<r.length;i++){var s=r[i],o=e instanceof Jo?e.field(s.field):void 0,a=Qa(s.transform,o||null);null!=a&&(n=null==n?(new Xo).set(s.field,a):n.set(s.field,a))}return n?n.yt():null}(t.fieldTransforms,e)}function uc(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Gt.isEqual(e.Gt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Ys(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Ka&&e instanceof Ka||t instanceof Xa&&e instanceof Xa?Ys(t.elements,e.elements,Fo):t instanceof Za&&e instanceof Za?Fo(t.Qt,e.Qt):t instanceof Wa&&e instanceof Wa}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.zt.isEqual(e.zt))}function lc(t){return t instanceof Jo?t.version:yo.min()}var hc=function(t){function e(e,n,i,r){void 0===r&&(r=[]);var s=this;return(s=t.call(this)||this).key=e,s.value=n,s.Gt=i,s.fieldTransforms=r,s.type=0,s}return Object(Fs.c)(e,t),e}(sc),dc=function(t){function e(e,n,i,r,s){void 0===s&&(s=[]);var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.zt=i,o.Gt=r,o.fieldTransforms=s,o.type=1,o}return Object(Fs.c)(e,t),e}(sc);function fc(t,e,n){var i;return i=function(t,e){var n=new Xo(e);return t.zt.fields.forEach((function(e){if(!e.nt()){var i=t.data.field(e);null!==i?n.set(e,i):n.delete(e)}})),n.yt()}(t,i=e instanceof Jo?e.data():$o.empty()),gc(t.fieldTransforms,i,n)}function pc(t,e,n){var i=[];Qs(t.length===n.length);for(var r=0;r<n.length;r++){var s=t[r],o=s.transform,a=null;e instanceof Jo&&(a=e.field(s.field)),i.push(Ga(o,a,n[r]))}return i}function mc(t,e,n,i){for(var r=[],s=0,o=t;s<o.length;s++){var a=o[s],c=a.transform,u=null;n instanceof Jo&&(u=n.field(a.field)),r.push(qa(c,u,e))}return r}function gc(t,e,n){for(var i=new Xo(e),r=0;r<t.length;r++)i.set(t[r].field,n[r]);return i.yt()}var bc,yc,_c=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).key=e,i.Gt=n,i.type=2,i.fieldTransforms=[],i}return Object(Fs.c)(e,t),e}(sc),vc=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).key=e,i.Gt=n,i.type=3,i.fieldTransforms=[],i}return Object(Fs.c)(e,t),e}(sc),wc=function(t){this.count=t};function Ec(t){switch(t){case to.OK:return Gs();case to.CANCELLED:case to.UNKNOWN:case to.DEADLINE_EXCEEDED:case to.RESOURCE_EXHAUSTED:case to.INTERNAL:case to.UNAVAILABLE:case to.UNAUTHENTICATED:return!1;case to.INVALID_ARGUMENT:case to.NOT_FOUND:case to.ALREADY_EXISTS:case to.PERMISSION_DENIED:case to.FAILED_PRECONDITION:case to.ABORTED:case to.OUT_OF_RANGE:case to.UNIMPLEMENTED:case to.DATA_LOSS:return!0;default:return Gs()}}function Cc(t){if(void 0===t)return zs("GRPC error has no .code"),to.UNKNOWN;switch(t){case bc.OK:return to.OK;case bc.CANCELLED:return to.CANCELLED;case bc.UNKNOWN:return to.UNKNOWN;case bc.DEADLINE_EXCEEDED:return to.DEADLINE_EXCEEDED;case bc.RESOURCE_EXHAUSTED:return to.RESOURCE_EXHAUSTED;case bc.INTERNAL:return to.INTERNAL;case bc.UNAVAILABLE:return to.UNAVAILABLE;case bc.UNAUTHENTICATED:return to.UNAUTHENTICATED;case bc.INVALID_ARGUMENT:return to.INVALID_ARGUMENT;case bc.NOT_FOUND:return to.NOT_FOUND;case bc.ALREADY_EXISTS:return to.ALREADY_EXISTS;case bc.PERMISSION_DENIED:return to.PERMISSION_DENIED;case bc.FAILED_PRECONDITION:return to.FAILED_PRECONDITION;case bc.ABORTED:return to.ABORTED;case bc.OUT_OF_RANGE:return to.OUT_OF_RANGE;case bc.UNIMPLEMENTED:return to.UNIMPLEMENTED;case bc.DATA_LOSS:return to.DATA_LOSS;default:return Gs()}}(yc=bc||(bc={}))[yc.OK=0]="OK",yc[yc.CANCELLED=1]="CANCELLED",yc[yc.UNKNOWN=2]="UNKNOWN",yc[yc.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yc[yc.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yc[yc.NOT_FOUND=5]="NOT_FOUND",yc[yc.ALREADY_EXISTS=6]="ALREADY_EXISTS",yc[yc.PERMISSION_DENIED=7]="PERMISSION_DENIED",yc[yc.UNAUTHENTICATED=16]="UNAUTHENTICATED",yc[yc.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yc[yc.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yc[yc.ABORTED=10]="ABORTED",yc[yc.OUT_OF_RANGE=11]="OUT_OF_RANGE",yc[yc.UNIMPLEMENTED=12]="UNIMPLEMENTED",yc[yc.INTERNAL=13]="INTERNAL",yc[yc.UNAVAILABLE=14]="UNAVAILABLE",yc[yc.DATA_LOSS=15]="DATA_LOSS";var xc=function(){function t(t,e){this.J=t,this.root=e||Oc.EMPTY}return t.prototype.Ht=function(e,n){return new t(this.J,this.root.Ht(e,n,this.J).copy(null,null,Oc.Jt,null,null))},t.prototype.remove=function(e){return new t(this.J,this.root.remove(e,this.J).copy(null,null,Oc.Jt,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.nt();){var n=this.J(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.nt();){var i=this.J(t,n.key);if(0===i)return e+n.left.size;i<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.nt=function(){return this.root.nt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(){return this.root.Xt()},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.forEach=function(t){this.Zt((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.Zt((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.te=function(t){return this.root.te(t)},t.prototype.ee=function(){return new Sc(this.root,null,this.J,!1)},t.prototype.ne=function(t){return new Sc(this.root,t,this.J,!1)},t.prototype.se=function(){return new Sc(this.root,null,this.J,!0)},t.prototype.ie=function(t){return new Sc(this.root,t,this.J,!0)},t}(),Sc=function(){function t(t,e,n,i){this.re=i,this.oe=[];for(var r=1;!t.nt();)if(r=e?n(t.key,e):1,i&&(r*=-1),r<0)t=this.re?t.left:t.right;else{if(0===r){this.oe.push(t);break}this.oe.push(t),t=this.re?t.right:t.left}}return t.prototype.ce=function(){var t=this.oe.pop(),e={key:t.key,value:t.value};if(this.re)for(t=t.left;!t.nt();)this.oe.push(t),t=t.right;else for(t=t.right;!t.nt();)this.oe.push(t),t=t.left;return e},t.prototype.ae=function(){return this.oe.length>0},t.prototype.ue=function(){if(0===this.oe.length)return null;var t=this.oe[this.oe.length-1];return{key:t.key,value:t.value}},t}(),Oc=function(){function t(e,n,i,r,s){this.key=e,this.value=n,this.color=null!=i?i:t.RED,this.left=null!=r?r:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,i,r,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=s?s:this.right)},t.prototype.nt=function(){return!1},t.prototype.Zt=function(t){return this.left.Zt(t)||t(this.key,this.value)||this.right.Zt(t)},t.prototype.te=function(t){return this.right.te(t)||t(this.key,this.value)||this.left.te(t)},t.prototype.min=function(){return this.left.nt()?this:this.left.min()},t.prototype.Yt=function(){return this.min().key},t.prototype.Xt=function(){return this.right.nt()?this.key:this.right.Xt()},t.prototype.Ht=function(t,e,n){var i=this,r=n(t,i.key);return(i=r<0?i.copy(null,null,null,i.left.Ht(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.Ht(t,e,n))).he()},t.prototype.le=function(){if(this.left.nt())return t.EMPTY;var e=this;return e.left._e()||e.left.left._e()||(e=e.fe()),(e=e.copy(null,null,null,e.left.le(),null)).he()},t.prototype.remove=function(e,n){var i,r=this;if(n(e,r.key)<0)r.left.nt()||r.left._e()||r.left.left._e()||(r=r.fe()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left._e()&&(r=r.de()),r.right.nt()||r.right._e()||r.right.left._e()||(r=r.we()),0===n(e,r.key)){if(r.right.nt())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.le())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.he()},t.prototype._e=function(){return this.color},t.prototype.he=function(){var t=this;return t.right._e()&&!t.left._e()&&(t=t.Ee()),t.left._e()&&t.left.left._e()&&(t=t.de()),t.left._e()&&t.right._e()&&(t=t.Te()),t},t.prototype.fe=function(){var t=this.Te();return t.right.left._e()&&(t=(t=(t=t.copy(null,null,null,null,t.right.de())).Ee()).Te()),t},t.prototype.we=function(){var t=this.Te();return t.left.left._e()&&(t=(t=t.de()).Te()),t},t.prototype.Ee=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.de=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Te=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ie=function(){var t=this.me();return Math.pow(2,t)<=this.size+1},t.prototype.me=function(){if(this._e()&&this.left._e())throw Gs();if(this.right._e())throw Gs();var t=this.left.me();if(t!==this.right.me())throw Gs();return t+(this._e()?0:1)},t}();Oc.EMPTY=null,Oc.RED=!0,Oc.Jt=!1,Oc.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Gs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Gs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Gs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Gs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Gs()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,i,r){return this},t.prototype.Ht=function(t,e,n){return new Oc(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.nt=function(){return!0},t.prototype.Zt=function(t){return!1},t.prototype.te=function(t){return!1},t.prototype.Yt=function(){return null},t.prototype.Xt=function(){return null},t.prototype._e=function(){return!1},t.prototype.Ie=function(){return!0},t.prototype.me=function(){return 0},t}());var Ic=function(){function t(t){this.J=t,this.data=new xc(this.J)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Yt()},t.prototype.last=function(){return this.data.Xt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Zt((function(e,n){return t(e),!1}))},t.prototype.Ae=function(t,e){for(var n=this.data.ne(t[0]);n.ae();){var i=n.ce();if(this.J(i.key,t[1])>=0)return;e(i.key)}},t.prototype.Re=function(t,e){var n;for(n=void 0!==e?this.data.ne(e):this.data.ee();n.ae();)if(!t(n.ce().key))return},t.prototype.Pe=function(t){var e=this.data.ne(t);return e.ae()?e.ce().key:null},t.prototype.ee=function(){return new Tc(this.data.ee())},t.prototype.ne=function(t){return new Tc(this.data.ne(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Ht(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.nt=function(){return this.data.nt()},t.prototype.ye=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.ee(),i=e.data.ee();n.ae();){var r=n.ce().key,s=i.ce().key;if(0!==this.J(r,s))return!1}return!0},t.prototype.rt=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.J);return n.data=e,n},t}(),Tc=function(){function t(t){this.ge=t}return t.prototype.ce=function(){return this.ge.ce().key},t.prototype.ae=function(){return this.ge.ae()},t}(),kc=new xc(Co.J);function Ac(){return kc}function Dc(){return Ac()}var Pc=new xc(Co.J);function jc(){return Pc}var Nc=new xc(Co.J);function Rc(){return Nc}var Lc=new Ic(Co.J);function Mc(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Lc,i=0,r=t;i<r.length;i++){var s=r[i];n=n.add(s)}return n}var Fc=new Ic(Xs);function Vc(){return Fc}var Bc=function(){function t(t){this.J=t?function(e,n){return t(e,n)||Co.J(e.key,n.key)}:function(t,e){return Co.J(t.key,e.key)},this.Ve=jc(),this.pe=new xc(this.J)}return t.be=function(e){return new t(e.J)},t.prototype.has=function(t){return null!=this.Ve.get(t)},t.prototype.get=function(t){return this.Ve.get(t)},t.prototype.first=function(){return this.pe.Yt()},t.prototype.last=function(){return this.pe.Xt()},t.prototype.nt=function(){return this.pe.nt()},t.prototype.indexOf=function(t){var e=this.Ve.get(t);return e?this.pe.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.pe.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.pe.Zt((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ve.Ht(t.key,t),e.pe.Ht(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ve.remove(t),this.pe.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.pe.ee(),i=e.pe.ee();n.ae();){var r=n.ce().key,s=i.ce().key;if(!r.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var i=new t;return i.J=this.J,i.Ve=e,i.pe=n,i},t}(),Hc=function(){function t(){this.ve=new xc(Co.J)}return t.prototype.track=function(t){var e=t.doc.key,n=this.ve.get(e);n?0!==t.type&&3===n.type?this.ve=this.ve.Ht(e,t):3===t.type&&1!==n.type?this.ve=this.ve.Ht(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.ve=this.ve.Ht(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.ve=this.ve.remove(e):1===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):Gs():this.ve=this.ve.Ht(e,t)},t.prototype.Se=function(){var t=[];return this.ve.Zt((function(e,n){t.push(n)})),t},t}(),zc=function(){function t(t,e,n,i,r,s,o,a){this.query=t,this.docs=e,this.De=n,this.docChanges=i,this.Ce=r,this.fromCache=s,this.xe=o,this.Ne=a}return t.Oe=function(e,n,i,r){var s=[];return n.forEach((function(t){s.push({type:0,doc:t})})),new t(e,n,Bc.be(n),s,i,r,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Ce.nt()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.xe===t.xe&&this.Ce.isEqual(t.Ce)&&ja(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.De.isEqual(t.De)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var i=0;i<e.length;i++)if(e[i].type!==n[i].type||!e[i].doc.isEqual(n[i].doc))return!1;return!0},t}(),Uc=function(){function t(t,e,n,i,r){this.Mt=t,this.Fe=e,this.ke=n,this.Me=i,this.Le=r}return t.$e=function(e,n){var i=new Map;return i.set(e,qc.Be(e,n)),new t(yo.min(),i,Vc(),Ac(),Mc())},t}(),qc=function(){function t(t,e,n,i,r){this.resumeToken=t,this.qe=e,this.Ue=n,this.Qe=i,this.Ke=r}return t.Be=function(e,n){return new t(Js.h,n,Mc(),Mc(),Mc())},t}(),Gc=function(t,e,n,i){this.je=t,this.removedTargetIds=e,this.key=n,this.We=i},Qc=function(t,e){this.targetId=t,this.Ge=e},Wc=function(t,e,n,i){void 0===n&&(n=Js.h),void 0===i&&(i=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=i},Kc=function(){function t(){this.ze=0,this.He=Yc(),this.Je=Js.h,this.Ye=!1,this.Xe=!0}return Object.defineProperty(t.prototype,"qe",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return 0!==this.ze},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tn",{get:function(){return this.Xe},enumerable:!1,configurable:!0}),t.prototype.en=function(t){t.o()>0&&(this.Xe=!0,this.Je=t)},t.prototype.nn=function(){var t=Mc(),e=Mc(),n=Mc();return this.He.forEach((function(i,r){switch(r){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:n=n.add(i);break;default:Gs()}})),new qc(this.Je,this.Ye,t,e,n)},t.prototype.sn=function(){this.Xe=!1,this.He=Yc()},t.prototype.rn=function(t,e){this.Xe=!0,this.He=this.He.Ht(t,e)},t.prototype.on=function(t){this.Xe=!0,this.He=this.He.remove(t)},t.prototype.cn=function(){this.ze+=1},t.prototype.an=function(){this.ze-=1},t.prototype.un=function(){this.Xe=!0,this.Ye=!0},t}(),$c=function(){function t(t){this.hn=t,this.ln=new Map,this._n=Ac(),this.fn=Xc(),this.dn=new Ic(Xs)}return t.prototype.wn=function(t){for(var e=0,n=t.je;e<n.length;e++){var i=n[e];t.We instanceof Jo?this.En(i,t.We):t.We instanceof ta&&this.Tn(i,t.key,t.We)}for(var r=0,s=t.removedTargetIds;r<s.length;r++)this.Tn(i=s[r],t.key,t.We)},t.prototype.In=function(t){var e=this;this.mn(t,(function(n){var i=e.An(n);switch(t.state){case 0:e.Rn(n)&&i.en(t.resumeToken);break;case 1:i.an(),i.Ze||i.sn(),i.en(t.resumeToken);break;case 2:i.an(),i.Ze||e.removeTarget(n);break;case 3:e.Rn(n)&&(i.un(),i.en(t.resumeToken));break;case 4:e.Rn(n)&&(e.Pn(n),i.en(t.resumeToken));break;default:Gs()}}))},t.prototype.mn=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.ln.forEach((function(t,i){n.Rn(i)&&e(i)}))},t.prototype.yn=function(t){var e=t.targetId,n=t.Ge.count,i=this.gn(e);if(i){var r=i.target;if(oa(r))if(0===n){var s=new Co(r.path);this.Tn(e,s,new ta(s,yo.min()))}else Qs(1===n);else this.Vn(e)!==n&&(this.Pn(e),this.dn=this.dn.add(e))}},t.prototype.pn=function(t){var e=this,n=new Map;this.ln.forEach((function(i,r){var s=e.gn(r);if(s){if(i.qe&&oa(s.target)){var o=new Co(s.target.path);null!==e._n.get(o)||e.bn(r,o)||e.Tn(r,o,new ta(o,t))}i.tn&&(n.set(r,i.nn()),i.sn())}}));var i=Mc();this.fn.forEach((function(t,n){var r=!0;n.Re((function(t){var n=e.gn(t);return!n||2===n.kt||(r=!1,!1)})),r&&(i=i.add(t))}));var r=new Uc(t,n,this.dn,this._n,i);return this._n=Ac(),this.fn=Xc(),this.dn=new Ic(Xs),r},t.prototype.En=function(t,e){if(this.Rn(t)){var n=this.bn(t,e.key)?2:0;this.An(t).rn(e.key,n),this._n=this._n.Ht(e.key,e),this.fn=this.fn.Ht(e.key,this.vn(e.key).add(t))}},t.prototype.Tn=function(t,e,n){if(this.Rn(t)){var i=this.An(t);this.bn(t,e)?i.rn(e,1):i.on(e),this.fn=this.fn.Ht(e,this.vn(e).delete(t)),n&&(this._n=this._n.Ht(e,n))}},t.prototype.removeTarget=function(t){this.ln.delete(t)},t.prototype.Vn=function(t){var e=this.An(t).nn();return this.hn.Sn(t).size+e.Ue.size-e.Ke.size},t.prototype.cn=function(t){this.An(t).cn()},t.prototype.An=function(t){var e=this.ln.get(t);return e||(e=new Kc,this.ln.set(t,e)),e},t.prototype.vn=function(t){var e=this.fn.get(t);return e||(e=new Ic(Xs),this.fn=this.fn.Ht(t,e)),e},t.prototype.Rn=function(t){var e=null!==this.gn(t);return e||Hs("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.gn=function(t){var e=this.ln.get(t);return e&&e.Ze?null:this.hn.Dn(t)},t.prototype.Pn=function(t){var e=this;this.ln.set(t,new Kc),this.hn.Sn(t).forEach((function(n){e.Tn(t,n,null)}))},t.prototype.bn=function(t,e){return this.hn.Sn(t).has(e)},t}();function Xc(){return new xc(Co.J)}function Yc(){return new xc(Co.J)}var Zc={asc:"ASCENDING",desc:"DESCENDING"},Jc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tu=function(t,e){this.T=t,this.qt=e};function eu(t,e){return t.qt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function nu(t,e){return t.qt?e.toBase64():e.toUint8Array()}function iu(t,e){return eu(t,e.G())}function ru(t){return Qs(!!t),yo.j(function(t){var e=ko(t);return new bo(e.seconds,e.nanos)}(t))}function su(t,e){return function(t){return new vo(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).ot()}function ou(t){var e=vo.ct(t);return Qs(ku(e)),e}function au(t,e){return su(t.T,e.path)}function cu(t,e){var n=ou(e);if(n.get(1)!==t.T.projectId)throw new eo(to.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.T.projectId);if(n.get(3)!==t.T.database)throw new eo(to.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.T.database);return new Co(du(n))}function uu(t,e){return su(t.T,e)}function lu(t){var e=ou(t);return 4===e.length?vo.at():du(e)}function hu(t){return new vo(["projects",t.T.projectId,"databases",t.T.database]).ot()}function du(t){return Qs(t.length>4&&"documents"===t.get(4)),t.X(5)}function fu(t,e,n){return{name:au(t,e),fields:n.proto.mapValue.fields}}function pu(t,e,n){var i=cu(t,e.name),r=ru(e.updateTime),s=new $o({mapValue:{fields:e.fields}});return new Jo(i,r,s,{hasCommittedMutations:!!n})}function mu(t,e){var n;if(e instanceof hc)n={update:fu(t,e.key,e.value)};else if(e instanceof _c)n={delete:au(t,e.key)};else if(e instanceof dc)n={update:fu(t,e.key,e.data),updateMask:Tu(e.zt)};else{if(!(e instanceof vc))return Gs();n={verify:au(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Wa)return{fieldPath:e.field.ot(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ka)return{fieldPath:e.field.ot(),appendMissingElements:{values:n.elements}};if(n instanceof Xa)return{fieldPath:e.field.ot(),removeAllFromArray:{values:n.elements}};if(n instanceof Za)return{fieldPath:e.field.ot(),increment:n.Qt};throw Gs()}(0,t)}))),e.Gt.Wt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:iu(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Gs()}(t,e.Gt)),n}function gu(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?ic.updateTime(ru(t.updateTime)):void 0!==t.exists?ic.exists(t.exists):ic.jt()}(e.currentDocument):ic.jt(),i=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(Qs("REQUEST_TIME"===e.setToServerValue),n=new Wa):"appendMissingElements"in e?n=new Ka(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Xa(e.removeAllFromArray.values||[]):"increment"in e?n=new Za(t,e.increment):Gs();var i=Eo._t(e.fieldPath);return new ec(i,n)}(t,e)})):[];if(e.update){var r=cu(t,e.update.name),s=new $o({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new Io((t.fieldPaths||[]).map((function(t){return Eo._t(t)})))}(e.updateMask);return new dc(r,s,o,n,i)}return new hc(r,s,n,i)}if(e.delete){var a=cu(t,e.delete);return new _c(a,n)}if(e.verify){var c=cu(t,e.verify);return new vc(c,n)}return Gs()}function bu(t,e){return{documents:[uu(t,e.path)]}}function yu(t,e){var n={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(n.parent=uu(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=uu(t,i.Z()),n.structuredQuery.from=[{collectionId:i.et()}]);var r=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(Wo(t.value))return{unaryFilter:{field:xu(t.field),op:"IS_NAN"}};if(Qo(t.value))return{unaryFilter:{field:xu(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Wo(t.value))return{unaryFilter:{field:xu(t.field),op:"IS_NOT_NAN"}};if(Qo(t.value))return{unaryFilter:{field:xu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xu(t.field),op:Cu(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);r&&(n.structuredQuery.where=r);var s=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:xu(t.field),direction:Eu(t.dir)}}(t)}))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.qt||No(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=vu(e.startAt)),e.endAt&&(n.structuredQuery.endAt=vu(e.endAt)),n}function _u(t){var e=lu(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){Qs(1===i);var s=n.from[0];s.allDescendants?r=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=function t(e){return e?void 0!==e.unaryFilter?[Iu(e)]:void 0!==e.fieldFilter?[Ou(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):Gs():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new ya(Su(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var c=null;n.limit&&(c=function(t){var e;return No(e="object"==typeof t?t.value:t)?null:e}(n.limit));var u=null;n.startAt&&(u=wu(n.startAt));var l=null;return n.endAt&&(l=wu(n.endAt)),Ca(e,r,a,o,c,"F",u,l)}function vu(t){return{before:t.before,values:t.position}}function wu(t){return new ga(t.values||[],!!t.before)}function Eu(t){return Zc[t]}function Cu(t){return Jc[t]}function xu(t){return{fieldPath:t.ot()}}function Su(t){return Eo._t(t.fieldPath)}function Ou(t){return aa.create(Su(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Gs()}}(t.fieldFilter.op),t.fieldFilter.value)}function Iu(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Su(t.unaryFilter.field);return aa.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Su(t.unaryFilter.field);return aa.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var i=Su(t.unaryFilter.field);return aa.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var r=Su(t.unaryFilter.field);return aa.create(r,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Gs()}}function Tu(t){var e=[];return t.fields.forEach((function(t){return e.push(t.ot())})),{fieldPaths:e}}function ku(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Au=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Du=function(){function t(t){var e=this;this.Cn=null,this.xn=null,this.result=void 0,this.error=void 0,this.Nn=!1,this.On=!1,t((function(t){e.Nn=!0,e.result=t,e.Cn&&e.Cn(t)}),(function(t){e.Nn=!0,e.error=t,e.xn&&e.xn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var i=this;return this.On&&Gs(),this.On=!0,this.Nn?this.error?this.Fn(n,this.error):this.kn(e,this.result):new t((function(t,r){i.Cn=function(n){i.kn(e,n).next(t,r)},i.xn=function(e){i.Fn(n,e).next(t,r)}}))},t.prototype.Mn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Ln=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.kn=function(e,n){return e?this.Ln((function(){return e(n)})):t.resolve(n)},t.prototype.Fn=function(e,n){return e?this.Ln((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.$n=function(e){return new t((function(t,n){var i=0,r=0,s=!1;e.forEach((function(e){++i,e.next((function(){++r,s&&r===i&&t()}),(function(t){return n(t)}))})),s=!0,r===i&&t()}))},t.Bn=function(e){for(var n=t.resolve(!1),i=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},r=0,s=e;r<s.length;r++)i(s[r]);return n},t.forEach=function(t,e){var n=this,i=[];return t.forEach((function(t,r){i.push(e.call(n,t,r))})),this.$n(i)},t}(),Pu=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.qn=new Au,this.transaction.oncomplete=function(){n.qn.resolve()},this.transaction.onabort=function(){e.error?n.qn.reject(new Ru(t,e.error)):n.qn.resolve()},this.transaction.onerror=function(e){var i=Bu(e.target.error);n.qn.reject(new Ru(t,i))}}return t.open=function(e,n,i,r){try{return new t(n,e.transaction(r,i))}catch(e){throw new Ru(n,e)}},Object.defineProperty(t.prototype,"Un",{get:function(){return this.qn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.qn.reject(t),this.aborted||(Hs("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Mu(e)},t}(),ju=function(){function t(e,n,i){this.name=e,this.version=n,this.Qn=i,12.2===t.Kn(Object(Me.g)())&&zs("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Hs("SimpleDb","Removing database:",t),Fu(window.indexedDB.deleteDatabase(t)).Mn()},t.jn=function(){if("undefined"==typeof indexedDB)return!1;if(t.Wn())return!0;var e=Object(Me.g)(),n=t.Kn(e),i=0<n&&n<10,r=t.Gn(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||s)},t.Wn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.zn)},t.Hn=function(t,e){return t.store(e)},t.Kn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Gn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Jn=function(t){return Object(Fs.b)(this,void 0,void 0,(function(){var e,n=this;return Object(Fs.d)(this,(function(i){switch(i.label){case 0:return this.db?[3,2]:(Hs("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,i){var r=indexedDB.open(n.name,n.version);r.onsuccess=function(t){e(t.target.result)},r.onblocked=function(){i(new Ru(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=function(e){var n=e.target.error;i("VersionError"===n.name?new eo(to.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Ru(t,n))},r.onupgradeneeded=function(t){Hs("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Qn.Yn(t.target.result,r.transaction,t.oldVersion,n.version).next((function(){Hs("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=i.sent(),i.label=2;case 2:return[2,(this.Xn&&(this.db.onversionchange=function(t){return n.Xn(t)}),this.db)]}}))}))},t.prototype.Zn=function(t){this.Xn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,i){return Object(Fs.b)(this,void 0,void 0,(function(){var r,s,o,a,c;return Object(Fs.d)(this,(function(u){switch(u.label){case 0:r="readonly"===e,s=0,o=function(){var e,o,c,u,l;return Object(Fs.d)(this,(function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Jn(t)];case 2:return a.db=h.sent(),e=Pu.open(a.db,t,r?"readonly":"readwrite",n),o=i(e).catch((function(t){return e.abort(t),Du.reject(t)})).Mn(),c={},o.catch((function(){})),[4,e.Un];case 3:return[2,(c.value=(h.sent(),o),c)];case 4:return Hs("SimpleDb","Transaction failed with error:",(u=h.sent()).message,"Retrying:",l="FirebaseError"!==u.name&&s<3),a.close(),l?[3,5]:[2,{value:Promise.reject(u)}];case 5:return[2]}}))},a=this,u.label=1;case 1:return[5,o()];case 2:if("object"==typeof(c=u.sent()))return[2,c.value];u.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Nu=function(){function t(t){this.ts=t,this.es=!1,this.ns=null}return Object.defineProperty(t.prototype,"Nn",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ss",{get:function(){return this.ns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ts=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.es=!0},t.prototype.rs=function(t){this.ns=t},t.prototype.delete=function(){return Fu(this.ts.delete())},t}(),Ru=function(t){function e(e,n){var i=this;return(i=t.call(this,to.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",i}return Object(Fs.c)(e,t),e}(eo);function Lu(t){return"IndexedDbTransactionError"===t.name}var Mu=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Hs("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Hs("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Fu(n)},t.prototype.add=function(t){return Hs("SimpleDb","ADD",this.store.name,t,t),Fu(this.store.add(t))},t.prototype.get=function(t){var e=this;return Fu(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Hs("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return Hs("SimpleDb","DELETE",this.store.name,t),Fu(this.store.delete(t))},t.prototype.count=function(){return Hs("SimpleDb","COUNT",this.store.name),Fu(this.store.count())},t.prototype.os=function(t,e){var n=this.cursor(this.options(t,e)),i=[];return this.cs(n,(function(t,e){i.push(e)})).next((function(){return i}))},t.prototype.us=function(t,e){Hs("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.hs=!1;var i=this.cursor(n);return this.cs(i,(function(t,e,n){return n.delete()}))},t.prototype.ls=function(t,e){var n;e?n=t:(n={},e=t);var i=this.cursor(n);return this.cs(i,e)},t.prototype._s=function(t){var e=this.cursor({});return new Du((function(n,i){e.onerror=function(t){var e=Bu(t.target.error);i(e)},e.onsuccess=function(e){var i=e.target.result;i?t(i.primaryKey,i.value).next((function(t){t?i.continue():n()})):n()}}))},t.prototype.cs=function(t,e){var n=[];return new Du((function(i,r){t.onerror=function(t){r(t.target.error)},t.onsuccess=function(t){var r=t.target.result;if(r){var s=new Nu(r),o=e(r.primaryKey,r.value,s);if(o instanceof Du){var a=o.catch((function(t){return s.done(),Du.reject(t)}));n.push(a)}s.Nn?i():null===s.ss?r.continue():r.continue(s.ss)}else i()}})).next((function(){return Du.$n(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.hs?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Fu(t){return new Du((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Bu(t.target.error);n(e)}}))}var Vu=!1;function Bu(t){var e=ju.Kn(Object(Me.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var i=new eo("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Vu||(Vu=!0,setTimeout((function(){throw i}),0)),i}}return t}var Hu=function(){function t(t,e,n,i,r){this.fs=t,this.ds=e,this.ws=n,this.op=i,this.Es=r,this.Ts=new Au,this.then=this.Ts.promise.then.bind(this.Ts.promise),this.Ts.promise.catch((function(t){}))}return t.Is=function(e,n,i,r,s){var o=new t(e,n,Date.now()+i,r,s);return o.start(i),o},t.prototype.start=function(t){var e=this;this.As=setTimeout((function(){return e.Rs()}),t)},t.prototype.Ps=function(){return this.Rs()},t.prototype.cancel=function(t){null!==this.As&&(this.clearTimeout(),this.Ts.reject(new eo(to.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Rs=function(){var t=this;this.fs.ys((function(){return null!==t.As?(t.clearTimeout(),t.op().then((function(e){return t.Ts.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.As&&(this.Es(this),clearTimeout(this.As),this.As=null)},t}();function zu(t,e){if(zs("AsyncQueue",e+": "+t),Lu(t))return new eo(to.UNAVAILABLE,e+": "+t);throw t}var Uu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",qu=function(){function t(){this.gs=[]}return t.prototype.Vs=function(t){this.gs.push(t)},t.prototype.ps=function(){this.gs.forEach((function(t){return t()}))},t}();function Gu(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Wu(e)),e=Qu(t.get(n),e);return Wu(e)}function Qu(t,e){for(var n=e,i=t.length,r=0;r<i;r++){var s=t.charAt(r);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function Wu(t){return t+"\x01\x01"}function Ku(t){var e=t.length;if(Qs(e>=2),2===e)return Qs("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),vo.at();for(var n=e-2,i=[],r="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&Gs(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),c=void 0;0===r.length?c=a:(c=r+=a,r=""),i.push(c);break;case"\x10":r+=t.substring(s,o),r+="\0";break;case"\x11":r+=t.substring(s,o+1);break;default:Gs()}s=o+2}return new vo(i)}var $u=function(t,e){this.seconds=t,this.nanoseconds=e},Xu=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Xu.store="owner",Xu.key="owner";var Yu=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Yu.store="mutationQueues",Yu.keyPath="userId";var Zu=function(t,e,n,i,r){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=i,this.mutations=r};Zu.store="mutations",Zu.keyPath="batchId",Zu.userMutationsIndex="userMutationsIndex",Zu.userMutationsKeyPath=["userId","batchId"];var Ju=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Gu(e)]},t.key=function(t,e,n){return[t,Gu(e),n]},t}();Ju.store="documentMutations",Ju.PLACEHOLDER=new Ju;var tl=function(t,e){this.path=t,this.readTime=e},el=function(t,e){this.path=t,this.version=e},nl=function(t,e,n,i,r,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=i,this.readTime=r,this.parentPath=s};nl.store="remoteDocuments",nl.readTimeIndex="readTimeIndex",nl.readTimeIndexPath="readTime",nl.collectionReadTimeIndex="collectionReadTimeIndex",nl.collectionReadTimeIndexPath=["parentPath","readTime"];var il=function(t){this.byteSize=t};il.store="remoteDocumentGlobal",il.key="remoteDocumentGlobalKey";var rl=function(t,e,n,i,r,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=i,this.lastListenSequenceNumber=r,this.lastLimboFreeSnapshotVersion=s,this.query=o};rl.store="targets",rl.keyPath="targetId",rl.queryTargetsIndexName="queryTargetsIndex",rl.queryTargetsKeyPath=["canonicalId","targetId"];var sl=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};sl.store="targetDocuments",sl.keyPath=["targetId","path"],sl.documentTargetsIndex="documentTargetsIndex",sl.documentTargetsKeyPath=["path","targetId"];var ol=function(t,e,n,i){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=i};ol.key="targetGlobalKey",ol.store="targetGlobal";var al=function(t,e){this.collectionId=t,this.parent=e};al.store="collectionParents",al.keyPath=["collectionId","parent"];var cl=function(t,e,n,i){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=i};cl.store="clientMetadata",cl.keyPath="clientId";var ul=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};ul.store="bundles",ul.keyPath="bundleId";var ll=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};ll.store="namedQueries",ll.keyPath="name";var hl=Object(Fs.g)(Object(Fs.g)(Object(Fs.g)(Object(Fs.g)([Yu.store,Zu.store,Ju.store,nl.store,rl.store,Xu.store,ol.store,sl.store],[cl.store]),[il.store]),[al.store]),[ul.store,ll.store]),dl=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).bs=e,i.vs=n,i}return Object(Fs.c)(e,t),e}(qu);function fl(t,e){var n=Ws(t);return ju.Hn(n.bs,e)}var pl=function(){function t(t,e,n,i){this.batchId=t,this.Ss=e,this.baseMutations=n,this.mutations=i}return t.prototype.Ds=function(t,e,n){for(var i=n.Cs,r=0;r<this.mutations.length;r++){var s=this.mutations[r];s.key.isEqual(t)&&(e=oc(s,e,i[r]))}return e},t.prototype.xs=function(t,e){for(var n=0,i=this.baseMutations;n<i.length;n++)(o=i[n]).key.isEqual(t)&&(e=ac(o,e,0,this.Ss));for(var r=0,s=this.mutations;r<s.length;r++){var o;(o=s[r]).key.isEqual(t)&&(e=ac(o,e,0,this.Ss))}return e},t.prototype.Ns=function(t){var e=this,n=t;return this.mutations.forEach((function(i){var r=e.xs(i.key,t.get(i.key));r&&(n=n.Ht(i.key,r))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Mc())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Ys(this.mutations,t.mutations,(function(t,e){return uc(t,e)}))&&Ys(this.baseMutations,t.baseMutations,(function(t,e){return uc(t,e)}))},t}(),ml=function(){function t(t,e,n,i){this.batch=t,this.Os=e,this.Cs=n,this.Fs=i}return t.from=function(e,n,i){Qs(e.mutations.length===i.length);for(var r=Rc(),s=e.mutations,o=0;o<s.length;o++)r=r.Ht(s[o].key,i[o].version);return new t(e,n,i,r)},t}(),gl=function(t){this.ks=t};function bl(t,e){if(e.document)return pu(t.ks,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Co.Tt(e.noDocument.path),i=El(e.noDocument.readTime);return new ta(n,i,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var r=Co.Tt(e.unknownDocument.path);return i=El(e.unknownDocument.version),new ea(r,i)}return Gs()}function yl(t,e,n){var i=_l(n),r=e.key.path.Z().rt();if(e instanceof Jo){var s=function(t,e){return{name:au(t,e.key),fields:e.vt().mapValue.fields,updateTime:eu(t,e.version.G())}}(t.ks,e),o=e.hasCommittedMutations;return new nl(null,null,s,o,i,r)}if(e instanceof ta){var a=e.key.path.rt(),c=wl(e.version);return o=e.hasCommittedMutations,new nl(null,new tl(a,c),null,o,i,r)}if(e instanceof ea){var u=e.key.path.rt(),l=wl(e.version);return new nl(new el(u,l),null,null,!0,i,r)}return Gs()}function _l(t){var e=t.G();return[e.seconds,e.nanoseconds]}function vl(t){var e=new bo(t[0],t[1]);return yo.j(e)}function wl(t){var e=t.G();return new $u(e.seconds,e.nanoseconds)}function El(t){var e=new bo(t.seconds,t.nanoseconds);return yo.j(e)}function Cl(t,e){for(var n=(e.baseMutations||[]).map((function(e){return gu(t.ks,e)})),i=e.mutations.length-1;i>=0;--i){var r=e.mutations[i];void 0!==(null==r?void 0:r.transform)&&(e.mutations[i-1].updateTransforms=r.transform.fieldTransforms,e.mutations.splice(i,1),--i)}var s=e.mutations.map((function(e){return gu(t.ks,e)})),o=bo.fromMillis(e.localWriteTimeMs);return new pl(e.batchId,o,n,s)}function xl(t){var e,n,i=El(t.readTime),r=void 0!==t.lastLimboFreeSnapshotVersion?El(t.lastLimboFreeSnapshotVersion):yo.min();return void 0!==t.query.documents?(Qs(1===(n=t.query).documents.length),e=Da(xa(lu(n.documents[0])))):e=function(t){return Da(_u(t))}(t.query),new Va(e,t.targetId,0,t.lastListenSequenceNumber,i,r,Js.fromBase64String(t.resumeToken))}function Sl(t,e){var n,i=wl(e.Mt),r=wl(e.lastLimboFreeSnapshotVersion);n=oa(e.target)?bu(t.ks,e.target):yu(t.ks,e.target);var s=e.resumeToken.toBase64();return new rl(e.targetId,ra(e.target),i,s,e.sequenceNumber,r,n)}function Ol(t){var e=_u({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Pa(e,e.limit,"L"):e}var Il=function(){function t(){}return t.prototype.Ms=function(t,e){return Tl(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:El(e.createTime),version:e.version};var e}))},t.prototype.Ls=function(t,e){return Tl(t).put({bundleId:(n=e).id,createTime:wl(ru(n.createTime)),version:n.version});var n},t.prototype.$s=function(t,e){return kl(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:Ol(e.bundledQuery),readTime:El(e.readTime)};var e}))},t.prototype.Bs=function(t,e){return kl(t).put(function(t){return{name:t.name,readTime:wl(ru(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Tl(t){return fl(t,ul.store)}function kl(t){return fl(t,ll.store)}var Al=function(){function t(){this.qs=new Dl}return t.prototype.Us=function(t,e){return this.qs.add(e),Du.resolve()},t.prototype.Qs=function(t,e){return Du.resolve(this.qs.getEntries(e))},t}(),Dl=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.et(),n=t.Z(),i=this.index[e]||new Ic(vo.J),r=!i.has(n);return this.index[e]=i.add(n),r},t.prototype.has=function(t){var e=t.et(),n=t.Z(),i=this.index[e];return i&&i.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Ic(vo.J)).rt()},t}(),Pl=function(){function t(){this.Ks=new Dl}return t.prototype.Us=function(t,e){var n=this;if(!this.Ks.has(e)){var i=e.et(),r=e.Z();t.Vs((function(){n.Ks.add(e)}));var s={collectionId:i,parent:Gu(r)};return jl(t).put(s)}return Du.resolve()},t.prototype.Qs=function(t,e){var n=[],i=IDBKeyRange.bound([e,""],[Zs(e),""],!1,!0);return jl(t).os(i).next((function(t){for(var i=0,r=t;i<r.length;i++){var s=r[i];if(s.collectionId!==e)break;n.push(Ku(s.parent))}return n}))},t}();function jl(t){return fl(t,al.store)}var Nl={js:!1,Ws:0,Gs:0,zs:0},Rl=function(){function t(t,e,n){this.Hs=t,this.Js=e,this.Ys=n}return t.Xs=function(e){return new t(e,t.Zs,t.ti)},t}();function Ll(t){return Object(Fs.b)(this,void 0,void 0,(function(){return Object(Fs.d)(this,(function(e){if(t.code!==to.FAILED_PRECONDITION||t.message!==Uu)throw t;return Hs("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}Rl.Zs=10,Rl.ti=1e3,Rl.ei=new Rl(41943040,Rl.Zs,Rl.ti),Rl.ni=new Rl(-1,0,0);var Ml=function(){function t(t,e){this.si=t,this.ii=e,this.ri={}}return t.prototype.get=function(t){var e=this.si(t),n=this.ri[e];if(void 0!==n)for(var i=0,r=n;i<r.length;i++){var s=r[i],o=s[1];if(this.ii(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.si(t),i=this.ri[n];if(void 0!==i){for(var r=0;r<i.length;r++)if(this.ii(i[r][0],t))return void(i[r]=[t,e]);i.push([t,e])}else this.ri[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.si(t),n=this.ri[e];if(void 0===n)return!1;for(var i=0;i<n.length;i++)if(this.ii(n[i][0],t))return 1===n.length?delete this.ri[e]:n.splice(i,1),!0;return!1},t.prototype.forEach=function(t){So(this.ri,(function(e,n){for(var i=0,r=n;i<r.length;i++){var s=r[i];t(s[0],s[1])}}))},t.prototype.nt=function(){return Oo(this.ri)},t}(),Fl=function(){function t(){this.oi=new Ml((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.ci=!1}return t.prototype.ai=function(t){var e=this.oi.get(t);return e?e.readTime:yo.min()},t.prototype.ui=function(t,e){this.hi(),this.oi.set(t.key,{li:t,readTime:e})},t.prototype._i=function(t,e){void 0===e&&(e=null),this.hi(),this.oi.set(t,{li:null,readTime:e})},t.prototype.fi=function(t,e){this.hi();var n=this.oi.get(e);return void 0!==n?Du.resolve(n.li):this.di(t,e)},t.prototype.getEntries=function(t,e){return this.wi(t,e)},t.prototype.apply=function(t){return this.hi(),this.ci=!0,this.Ei(t)},t.prototype.hi=function(){},t}();function Vl(t,e,n){var i=t.store(Zu.store),r=t.store(Ju.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,c=i.ls({range:o},(function(t,e,n){return a++,n.delete()}));s.push(c.next((function(){Qs(1===a)})));for(var u=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],f=Ju.key(e,d.key.path,n.batchId);s.push(r.delete(f)),u.push(d.key)}return Du.$n(s).next((function(){return u}))}function Bl(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Gs();e=t.noDocument}return JSON.stringify(e).length}var Hl=function(){function t(t,e,n,i){this.userId=t,this.Kt=e,this.Ti=n,this.Ii=i,this.mi={}}return t.Ai=function(e,n,i,r){return Qs(""!==e.uid),new t(e.A()?e.uid:"",n,i,r)},t.prototype.Ri=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ul(t).ls({index:Zu.userMutationsIndex,range:n},(function(t,n,i){e=!1,i.done()})).next((function(){return e}))},t.prototype.Pi=function(t,e,n,i){var r=this,s=ql(t),o=Ul(t);return o.add({}).next((function(a){Qs("number"==typeof a);for(var c=new pl(a,e,n,i),u=function(t,e,n){var i=n.baseMutations.map((function(e){return mu(t.ks,e)})),r=n.mutations.map((function(e){return mu(t.ks,e)}));return new Zu(e,n.batchId,n.Ss.toMillis(),i,r)}(r.Kt,r.userId,c),l=[],h=new Ic((function(t,e){return Xs(t.ot(),e.ot())})),d=0,f=i;d<f.length;d++){var p=f[d],m=Ju.key(r.userId,p.key.path,a);h=h.add(p.key.path.Z()),l.push(o.put(u)),l.push(s.put(m,Ju.PLACEHOLDER))}return h.forEach((function(e){l.push(r.Ti.Us(t,e))})),t.Vs((function(){r.mi[a]=c.keys()})),Du.$n(l).next((function(){return c}))}))},t.prototype.yi=function(t,e){var n=this;return Ul(t).get(e).next((function(t){return t?(Qs(t.userId===n.userId),Cl(n.Kt,t)):null}))},t.prototype.gi=function(t,e){var n=this;return this.mi[e]?Du.resolve(this.mi[e]):this.yi(t,e).next((function(t){if(t){var i=t.keys();return n.mi[e]=i,i}return null}))},t.prototype.Vi=function(t,e){var n=this,i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]),s=null;return Ul(t).ls({index:Zu.userMutationsIndex,range:r},(function(t,e,r){e.userId===n.userId&&(Qs(e.batchId>=i),s=Cl(n.Kt,e)),r.done()})).next((function(){return s}))},t.prototype.pi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Ul(t).ls({index:Zu.userMutationsIndex,range:e,reverse:!0},(function(t,e,i){n=e.batchId,i.done()})).next((function(){return n}))},t.prototype.bi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ul(t).os(Zu.userMutationsIndex,n).next((function(t){return t.map((function(t){return Cl(e.Kt,t)}))}))},t.prototype.vi=function(t,e){var n=this,i=Ju.prefixForPath(this.userId,e.path),r=IDBKeyRange.lowerBound(i),s=[];return ql(t).ls({range:r},(function(i,r,o){var a=i[0],c=i[2],u=Ku(i[1]);if(a===n.userId&&e.path.isEqual(u))return Ul(t).get(c).next((function(t){if(!t)throw Gs();Qs(t.userId===n.userId),s.push(Cl(n.Kt,t))}));o.done()})).next((function(){return s}))},t.prototype.Si=function(t,e){var n=this,i=new Ic(Xs),r=[];return e.forEach((function(e){var s=Ju.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=ql(t).ls({range:o},(function(t,r,s){var o=t[0],a=t[2],c=Ku(t[1]);o===n.userId&&e.path.isEqual(c)?i=i.add(a):s.done()}));r.push(a)})),Du.$n(r).next((function(){return n.Di(t,i)}))},t.prototype.Ci=function(t,e){var n=this,i=e.path,r=i.length+1,s=Ju.prefixForPath(this.userId,i),o=IDBKeyRange.lowerBound(s),a=new Ic(Xs);return ql(t).ls({range:o},(function(t,e,s){var o=t[0],c=t[2],u=Ku(t[1]);o===n.userId&&i.st(u)?u.length===r&&(a=a.add(c)):s.done()})).next((function(){return n.Di(t,a)}))},t.prototype.Di=function(t,e){var n=this,i=[],r=[];return e.forEach((function(e){r.push(Ul(t).get(e).next((function(t){if(null===t)throw Gs();Qs(t.userId===n.userId),i.push(Cl(n.Kt,t))})))})),Du.$n(r).next((function(){return i}))},t.prototype.xi=function(t,e){var n=this;return Vl(t.bs,this.userId,e).next((function(i){return t.Vs((function(){n.Ni(e.batchId)})),Du.forEach(i,(function(e){return n.Ii.Oi(t,e)}))}))},t.prototype.Ni=function(t){delete this.mi[t]},t.prototype.Fi=function(t){var e=this;return this.Ri(t).next((function(n){if(!n)return Du.resolve();var i=IDBKeyRange.lowerBound(Ju.prefixForUser(e.userId)),r=[];return ql(t).ls({range:i},(function(t,n,i){if(t[0]===e.userId){var s=Ku(t[1]);r.push(s)}else i.done()})).next((function(){Qs(0===r.length)}))}))},t.prototype.ki=function(t,e){return zl(t,this.userId,e)},t.prototype.Mi=function(t){var e=this;return Gl(t).get(this.userId).next((function(t){return t||new Yu(e.userId,-1,"")}))},t}();function zl(t,e,n){var i=Ju.prefixForPath(e,n.path),r=i[1],s=IDBKeyRange.lowerBound(i),o=!1;return ql(t).ls({range:s,hs:!0},(function(t,n,i){t[0]===e&&t[1]===r&&(o=!0),i.done()})).next((function(){return o}))}function Ul(t){return fl(t,Zu.store)}function ql(t){return fl(t,Ju.store)}function Gl(t){return fl(t,Yu.store)}var Ql=function(){function t(t){this.Li=t}return t.prototype.next=function(){return this.Li+=2,this.Li},t.$i=function(){return new t(0)},t.Bi=function(){return new t(-1)},t}(),Wl=function(){function t(t,e){this.Ii=t,this.Kt=e}return t.prototype.qi=function(t){var e=this;return this.Ui(t).next((function(n){var i=new Ql(n.highestTargetId);return n.highestTargetId=i.next(),e.Qi(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Ki=function(t){return this.Ui(t).next((function(t){return yo.j(new bo(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.ji=function(t){return this.Ui(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.Wi=function(t,e,n){var i=this;return this.Ui(t).next((function(r){return r.highestListenSequenceNumber=e,n&&(r.lastRemoteSnapshotVersion=n.G()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),i.Qi(t,r)}))},t.prototype.Gi=function(t,e){var n=this;return this.zi(t,e).next((function(){return n.Ui(t).next((function(i){return i.targetCount+=1,n.Hi(e,i),n.Qi(t,i)}))}))},t.prototype.Ji=function(t,e){return this.zi(t,e)},t.prototype.Yi=function(t,e){var n=this;return this.Xi(t,e.targetId).next((function(){return Kl(t).delete(e.targetId)})).next((function(){return n.Ui(t)})).next((function(e){return Qs(e.targetCount>0),e.targetCount-=1,n.Qi(t,e)}))},t.prototype.Zi=function(t,e,n){var i=this,r=0,s=[];return Kl(t).ls((function(o,a){var c=xl(a);c.sequenceNumber<=e&&null===n.get(c.targetId)&&(r++,s.push(i.Yi(t,c)))})).next((function(){return Du.$n(s)})).next((function(){return r}))},t.prototype.mn=function(t,e){return Kl(t).ls((function(t,n){var i=xl(n);e(i)}))},t.prototype.Ui=function(t){return $l(t).get(ol.key).next((function(t){return Qs(null!==t),t}))},t.prototype.Qi=function(t,e){return $l(t).put(ol.key,e)},t.prototype.zi=function(t,e){return Kl(t).put(Sl(this.Kt,e))},t.prototype.Hi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.tr=function(t){return this.Ui(t).next((function(t){return t.targetCount}))},t.prototype.er=function(t,e){var n=ra(e),i=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),r=null;return Kl(t).ls({range:i,index:rl.queryTargetsIndexName},(function(t,n,i){var s=xl(n);sa(e,s.target)&&(r=s,i.done())})).next((function(){return r}))},t.prototype.nr=function(t,e,n){var i=this,r=[],s=Xl(t);return e.forEach((function(e){var o=Gu(e.path);r.push(s.put(new sl(n,o))),r.push(i.Ii.sr(t,n,e))})),Du.$n(r)},t.prototype.ir=function(t,e,n){var i=this,r=Xl(t);return Du.forEach(e,(function(e){var s=Gu(e.path);return Du.$n([r.delete([n,s]),i.Ii.rr(t,n,e)])}))},t.prototype.Xi=function(t,e){var n=Xl(t),i=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(i)},t.prototype.cr=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),i=Xl(t),r=Mc();return i.ls({range:n,hs:!0},(function(t,e,n){var i=Ku(t[1]),s=new Co(i);r=r.add(s)})).next((function(){return r}))},t.prototype.ki=function(t,e){var n=Gu(e.path),i=IDBKeyRange.bound([n],[Zs(n)],!1,!0),r=0;return Xl(t).ls({index:sl.documentTargetsIndex,hs:!0,range:i},(function(t,e,n){0!==t[0]&&(r++,n.done())})).next((function(){return r>0}))},t.prototype.Dn=function(t,e){return Kl(t).get(e).next((function(t){return t?xl(t):null}))},t}();function Kl(t){return fl(t,rl.store)}function $l(t){return fl(t,ol.store)}function Xl(t){return fl(t,sl.store)}function Yl(t,e){var n=t[1],i=e[1],r=Xs(t[0],e[0]);return 0===r?Xs(n,i):r}var Zl=function(){function t(t){this.ar=t,this.buffer=new Ic(Yl),this.ur=0}return t.prototype.hr=function(){return++this.ur},t.prototype.lr=function(t){var e=[t,this.hr()];if(this.buffer.size<this.ar)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Yl(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Jl=function(){function t(t,e){this._r=t,this.fs=e,this.dr=!1,this.wr=null}return t.prototype.start=function(t){-1!==this._r.params.Hs&&this.Er(t)},t.prototype.stop=function(){this.wr&&(this.wr.cancel(),this.wr=null)},Object.defineProperty(t.prototype,"Tr",{get:function(){return null!==this.wr},enumerable:!1,configurable:!0}),t.prototype.Er=function(t){var e=this,n=this.dr?3e5:6e4;Hs("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.wr=this.fs.Ir("lru_garbage_collection",n,(function(){return Object(Fs.b)(e,void 0,void 0,(function(){var e;return Object(Fs.d)(this,(function(n){switch(n.label){case 0:this.wr=null,this.dr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.mr(this._r)];case 2:return n.sent(),[3,7];case 3:return Lu(e=n.sent())?(Hs("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Ll(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Er(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),th=function(){function t(t,e){this.Ar=t,this.params=e}return t.prototype.Rr=function(t,e){return this.Ar.Pr(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.yr=function(t,e){var n=this;if(0===e)return Du.resolve(go.U);var i=new Zl(e);return this.Ar.mn(t,(function(t){return i.lr(t.sequenceNumber)})).next((function(){return n.Ar.gr(t,(function(t){return i.lr(t)}))})).next((function(){return i.maxValue}))},t.prototype.Zi=function(t,e,n){return this.Ar.Zi(t,e,n)},t.prototype.Vr=function(t,e){return this.Ar.Vr(t,e)},t.prototype.pr=function(t,e){var n=this;return-1===this.params.Hs?(Hs("LruGarbageCollector","Garbage collection skipped; disabled"),Du.resolve(Nl)):this.br(t).next((function(i){return i<n.params.Hs?(Hs("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+n.params.Hs),Nl):n.vr(t,e)}))},t.prototype.br=function(t){return this.Ar.br(t)},t.prototype.vr=function(t,e){var n,i,r,s,o,a,c,u=this,l=Date.now();return this.Rr(t,this.params.Js).next((function(e){return e>u.params.Ys?(Hs("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+u.params.Ys+" from "+e),i=u.params.Ys):i=e,s=Date.now(),u.yr(t,i)})).next((function(i){return n=i,o=Date.now(),u.Zi(t,n,e)})).next((function(e){return r=e,a=Date.now(),u.Vr(t,n)})).next((function(t){return c=Date.now(),Bs()<=Le.a.DEBUG&&Hs("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-l)+"ms\n\tDetermined least recently used "+i+" in "+(o-s)+"ms\n\tRemoved "+r+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(c-a)+"ms\nTotal Duration: "+(c-l)+"ms"),Du.resolve({js:!0,Ws:i,Gs:r,zs:t})}))},t}(),eh=function(){function t(t,e){this.db=t,this._r=function(t,e){return new th(t,e)}(this,e)}return t.prototype.Pr=function(t){var e=this.Sr(t);return this.db.Dr().tr(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Sr=function(t){var e=0;return this.gr(t,(function(t){e++})).next((function(){return e}))},t.prototype.mn=function(t,e){return this.db.Dr().mn(t,e)},t.prototype.gr=function(t,e){return this.Cr(t,(function(t,n){return e(n)}))},t.prototype.sr=function(t,e,n){return nh(t,n)},t.prototype.rr=function(t,e,n){return nh(t,n)},t.prototype.Zi=function(t,e,n){return this.db.Dr().Zi(t,e,n)},t.prototype.Oi=function(t,e){return nh(t,e)},t.prototype.Nr=function(t,e){return function(t,e){var n=!1;return Gl(t)._s((function(i){return zl(t,i,e).next((function(t){return t&&(n=!0),Du.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.Vr=function(t,e){var n=this,i=this.db.Fr().Or(),r=[],s=0;return this.Cr(t,(function(o,a){if(a<=e){var c=n.Nr(t,o).next((function(e){if(!e)return s++,i.fi(t,o).next((function(){return i._i(o),Xl(t).delete([0,Gu(o.path)])}))}));r.push(c)}})).next((function(){return Du.$n(r)})).next((function(){return i.apply(t)})).next((function(){return s}))},t.prototype.removeTarget=function(t,e){var n=e.Lt(t.vs);return this.db.Dr().Ji(t,n)},t.prototype.kr=function(t,e){return nh(t,e)},t.prototype.Cr=function(t,e){var n,i=Xl(t),r=go.U;return i.ls({index:sl.documentTargetsIndex},(function(t,i){var s=i.path,o=i.sequenceNumber;0===t[0]?(r!==go.U&&e(new Co(Ku(n)),r),r=o,n=s):r=go.U})).next((function(){r!==go.U&&e(new Co(Ku(n)),r)}))},t.prototype.br=function(t){return this.db.Fr().Mr(t)},t}();function nh(t,e){return Xl(t).put(function(t,e){return new sl(0,Gu(t.path),e)}(e,t.vs))}var ih=function(){function t(t,e){this.Kt=t,this.Ti=e}return t.prototype.ui=function(t,e,n){return oh(t).put(ah(e),n)},t.prototype._i=function(t,e){var n=oh(t),i=ah(e);return n.delete(i)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(i){return i.byteSize+=e,n.Lr(t,i)}))},t.prototype.fi=function(t,e){var n=this;return oh(t).get(ah(e)).next((function(t){return n.$r(t)}))},t.prototype.Br=function(t,e){var n=this;return oh(t).get(ah(e)).next((function(t){var e=n.$r(t);return e?{li:e,size:Bl(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,i=Dc();return this.qr(t,e,(function(t,e){var r=n.$r(e);i=i.Ht(t,r)})).next((function(){return i}))},t.prototype.Ur=function(t,e){var n=this,i=Dc(),r=new xc(Co.J);return this.qr(t,e,(function(t,e){var s=n.$r(e);s?(i=i.Ht(t,s),r=r.Ht(t,Bl(e))):(i=i.Ht(t,null),r=r.Ht(t,0))})).next((function(){return{Qr:i,Kr:r}}))},t.prototype.qr=function(t,e,n){if(e.nt())return Du.resolve();var i=IDBKeyRange.bound(e.first().path.rt(),e.last().path.rt()),r=e.ee(),s=r.ce();return oh(t).ls({range:i},(function(t,e,i){for(var o=Co.Tt(t);s&&Co.J(s,o)<0;)n(s,null),s=r.ce();s&&s.isEqual(o)&&(n(s,e),s=r.ae()?r.ce():null),s?i.rs(s.path.rt()):i.done()})).next((function(){for(;s;)n(s,null),s=r.ae()?r.ce():null}))},t.prototype.jr=function(t,e,n){var i=this,r=jc(),s=e.path.length+1,o={};if(n.isEqual(yo.min())){var a=e.path.rt();o.range=IDBKeyRange.lowerBound(a)}else{var c=e.path.rt(),u=_l(n);o.range=IDBKeyRange.lowerBound([c,u],!0),o.index=nl.collectionReadTimeIndex}return oh(t).ls(o,(function(t,n,o){if(t.length===s){var a=bl(i.Kt,n);e.path.st(a.key.path)?a instanceof Jo&&La(e,a)&&(r=r.Ht(a.key,a)):o.done()}})).next((function(){return r}))},t.prototype.Or=function(t){return new rh(this,!!t&&t.Wr)},t.prototype.Mr=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return sh(t).get(il.key).next((function(t){return Qs(!!t),t}))},t.prototype.Lr=function(t,e){return sh(t).put(il.key,e)},t.prototype.$r=function(t){if(t){var e=bl(this.Kt,t);return e instanceof ta&&e.version.isEqual(yo.min())?null:e}return null},t}(),rh=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).Gr=e,i.Wr=n,i.zr=new Ml((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),i}return Object(Fs.c)(e,t),e.prototype.Ei=function(t){var e=this,n=[],i=0,r=new Ic((function(t,e){return Xs(t.ot(),e.ot())}));return this.oi.forEach((function(s,o){var a=e.zr.get(s);if(o.li){var c=yl(e.Gr.Kt,o.li,e.ai(s));r=r.add(s.path.Z());var u=Bl(c);i+=u-a,n.push(e.Gr.ui(t,s,c))}else if(i-=a,e.Wr){var l=yl(e.Gr.Kt,new ta(s,yo.min()),e.ai(s));n.push(e.Gr.ui(t,s,l))}else n.push(e.Gr._i(t,s))})),r.forEach((function(i){n.push(e.Gr.Ti.Us(t,i))})),n.push(this.Gr.updateMetadata(t,i)),Du.$n(n)},e.prototype.di=function(t,e){var n=this;return this.Gr.Br(t,e).next((function(t){return null===t?(n.zr.set(e,0),null):(n.zr.set(e,t.size),t.li)}))},e.prototype.wi=function(t,e){var n=this;return this.Gr.Ur(t,e).next((function(t){var e=t.Qr;return t.Kr.forEach((function(t,e){n.zr.set(t,e)})),e}))},e}(Fl);function sh(t){return fl(t,il.store)}function oh(t){return fl(t,nl.store)}function ah(t){return t.path.rt()}var ch=function(){function t(t){this.Kt=t}return t.prototype.Yn=function(t,e,n,i){var r=this;Qs(n<i&&n>=0&&i<=11);var s=new Pu("createOrUpgrade",e);n<1&&i>=1&&(function(t){t.createObjectStore(Xu.store)}(t),function(t){t.createObjectStore(Yu.store,{keyPath:Yu.keyPath}),t.createObjectStore(Zu.store,{keyPath:Zu.keyPath,autoIncrement:!0}).createIndex(Zu.userMutationsIndex,Zu.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Ju.store)}(t),uh(t),function(t){t.createObjectStore(nl.store)}(t));var o=Du.resolve();return n<3&&i>=3&&(0!==n&&(function(t){t.deleteObjectStore(sl.store),t.deleteObjectStore(rl.store),t.deleteObjectStore(ol.store)}(t),uh(t)),o=o.next((function(){return function(t){var e=t.store(ol.store),n=new ol(0,0,yo.min().G(),0);return e.put(ol.key,n)}(s)}))),n<4&&i>=4&&(0!==n&&(o=o.next((function(){return function(t,e){return e.store(Zu.store).os().next((function(n){t.deleteObjectStore(Zu.store),t.createObjectStore(Zu.store,{keyPath:Zu.keyPath,autoIncrement:!0}).createIndex(Zu.userMutationsIndex,Zu.userMutationsKeyPath,{unique:!0});var i=e.store(Zu.store),r=n.map((function(t){return i.put(t)}));return Du.$n(r)}))}(t,s)}))),o=o.next((function(){!function(t){t.createObjectStore(cl.store,{keyPath:cl.keyPath})}(t)}))),n<5&&i>=5&&(o=o.next((function(){return r.Hr(s)}))),n<6&&i>=6&&(o=o.next((function(){return function(t){t.createObjectStore(il.store)}(t),r.Jr(s)}))),n<7&&i>=7&&(o=o.next((function(){return r.Yr(s)}))),n<8&&i>=8&&(o=o.next((function(){return r.Xr(t,s)}))),n<9&&i>=9&&(o=o.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(nl.store);e.createIndex(nl.readTimeIndex,nl.readTimeIndexPath,{unique:!1}),e.createIndex(nl.collectionReadTimeIndex,nl.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&i>=10&&(o=o.next((function(){return r.Zr(s)}))),n<11&&i>=11&&(o=o.next((function(){!function(t){t.createObjectStore(ul.store,{keyPath:ul.keyPath})}(t),function(t){t.createObjectStore(ll.store,{keyPath:ll.keyPath})}(t)}))),o},t.prototype.Jr=function(t){var e=0;return t.store(nl.store).ls((function(t,n){e+=Bl(n)})).next((function(){var n=new il(e);return t.store(il.store).put(il.key,n)}))},t.prototype.Hr=function(t){var e=this,n=t.store(Yu.store),i=t.store(Zu.store);return n.os().next((function(n){return Du.forEach(n,(function(n){var r=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return i.os(Zu.userMutationsIndex,r).next((function(i){return Du.forEach(i,(function(i){Qs(i.userId===n.userId);var r=Cl(e.Kt,i);return Vl(t,n.userId,r).next((function(){}))}))}))}))}))},t.prototype.Yr=function(t){var e=t.store(sl.store),n=t.store(nl.store);return t.store(ol.store).get(ol.key).next((function(t){var i=[];return n.ls((function(n,r){var s=new vo(n),o=function(t){return[0,Gu(t)]}(s);i.push(e.get(o).next((function(n){return n?Du.resolve():function(n){return e.put(new sl(0,Gu(n),t.highestListenSequenceNumber))}(s)})))})).next((function(){return Du.$n(i)}))}))},t.prototype.Xr=function(t,e){t.createObjectStore(al.store,{keyPath:al.keyPath});var n=e.store(al.store),i=new Dl,r=function(t){if(i.add(t)){var e=t.et(),r=t.Z();return n.put({collectionId:e,parent:Gu(r)})}};return e.store(nl.store).ls({hs:!0},(function(t,e){var n=new vo(t);return r(n.Z())})).next((function(){return e.store(Ju.store).ls({hs:!0},(function(t,e){var n=Ku(t[1]);return r(n.Z())}))}))},t.prototype.Zr=function(t){var e=this,n=t.store(rl.store);return n.ls((function(t,i){var r=xl(i),s=Sl(e.Kt,r);return n.put(s)}))},t}();function uh(t){t.createObjectStore(sl.store,{keyPath:sl.keyPath}).createIndex(sl.documentTargetsIndex,sl.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(rl.store,{keyPath:rl.keyPath}).createIndex(rl.queryTargetsIndexName,rl.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(ol.store)}var lh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",hh=function(){function t(e,n,i,r,s,o,a,c,u,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=i,this.eo=s,this.window=o,this.document=a,this.no=u,this.so=l,this.io=null,this.ro=!1,this.isPrimary=!1,this.networkEnabled=!0,this.oo=null,this.inForeground=!1,this.co=null,this.ao=null,this.uo=Number.NEGATIVE_INFINITY,this.ho=function(t){return Promise.resolve()},!t.jn())throw new eo(to.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ii=new eh(this,r),this.lo=n+"main",this.Kt=new gl(c),this._o=new ju(this.lo,11,new ch(this.Kt)),this.fo=new Wl(this.Ii,this.Kt),this.Ti=new Pl,this.wo=function(t,e){return new ih(t,e)}(this.Kt,this.Ti),this.Eo=new Il,this.window&&this.window.localStorage?this.To=this.window.localStorage:(this.To=null,!1===l&&zs("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.Io().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new eo(to.FAILED_PRECONDITION,lh);return t.mo(),t.Ao(),t.Ro(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.fo.ji(e)}))})).then((function(e){t.io=new go(e,t.no)})).then((function(){t.ro=!0})).catch((function(e){return t._o&&t._o.close(),Promise.reject(e)}))},t.prototype.Po=function(t){var e=this;return this.ho=function(n){return Object(Fs.b)(e,void 0,void 0,(function(){return Object(Fs.d)(this,(function(e){return this.Tr?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.yo=function(t){var e=this;this._o.Zn((function(n){return Object(Fs.b)(e,void 0,void 0,(function(){return Object(Fs.d)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.Vo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.eo.ys((function(){return Object(Fs.b)(e,void 0,void 0,(function(){return Object(Fs.d)(this,(function(t){switch(t.label){case 0:return this.Tr?[4,this.Io()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.Io=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return fh(e).put(new cl(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.po(e).next((function(e){e||(t.isPrimary=!1,t.eo.bo((function(){return t.ho(!1)})))}))})).next((function(){return t.vo(e)})).next((function(n){return t.isPrimary&&!n?t.So(e).next((function(){return!1})):!!n&&t.Do(e).next((function(){return!0}))}))})).catch((function(e){if(Lu(e))return Hs("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Hs("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.eo.bo((function(){return t.ho(e)})),t.isPrimary=e}))},t.prototype.po=function(t){var e=this;return dh(t).get(Xu.key).next((function(t){return Du.resolve(e.Co(t))}))},t.prototype.xo=function(t){return fh(t).delete(this.clientId)},t.prototype.No=function(){return Object(Fs.b)(this,void 0,void 0,(function(){var t,e,n,i=this;return Object(Fs.d)(this,(function(r){switch(r.label){case 0:return!this.isPrimary||this.Oo(this.uo,18e5)?[3,2]:(this.uo=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=fl(t,cl.store);return e.os().next((function(t){var n=i.Fo(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return Du.forEach(r,(function(t){return e.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=r.sent(),this.To)for(e=0,n=t;e<n.length;e++)this.To.removeItem(this.ko(n[e].clientId));r.label=2;case 2:return[2]}}))}))},t.prototype.Ro=function(){var t=this;this.ao=this.eo.Ir("client_metadata_refresh",4e3,(function(){return t.Io().then((function(){return t.No()})).then((function(){return t.Ro()}))}))},t.prototype.Co=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.vo=function(t){var e=this;return this.so?Du.resolve(!0):dh(t).get(Xu.key).next((function(n){if(null!==n&&e.Oo(n.leaseTimestampMs,5e3)&&!e.Mo(n.ownerId)){if(e.Co(n)&&e.networkEnabled)return!0;if(!e.Co(n)){if(!n.allowTabSynchronization)throw new eo(to.FAILED_PRECONDITION,lh);return!1}}return!(!e.networkEnabled||!e.inForeground)||fh(t).os().next((function(t){return void 0===e.Fo(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&Hs("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.Lo=function(){return Object(Fs.b)(this,void 0,void 0,(function(){var t=this;return Object(Fs.d)(this,(function(e){switch(e.label){case 0:return this.ro=!1,this.$o(),this.ao&&(this.ao.cancel(),this.ao=null),this.Bo(),this.qo(),[4,this._o.runTransaction("shutdown","readwrite",[Xu.store,cl.store],(function(e){var n=new dl(e,go.U);return t.So(n).next((function(){return t.xo(n)}))}))];case 1:return e.sent(),this._o.close(),this.Uo(),[2]}}))}))},t.prototype.Fo=function(t,e){var n=this;return t.filter((function(t){return n.Oo(t.updateTimeMs,e)&&!n.Mo(t.clientId)}))},t.prototype.Qo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return fh(e).os().next((function(e){return t.Fo(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"Tr",{get:function(){return this.ro},enumerable:!1,configurable:!0}),t.prototype.Ko=function(t){return Hl.Ai(t,this.Kt,this.Ti,this.Ii)},t.prototype.Dr=function(){return this.fo},t.prototype.Fr=function(){return this.wo},t.prototype.jo=function(){return this.Ti},t.prototype.Wo=function(){return this.Eo},t.prototype.runTransaction=function(t,e,n){var i,r=this;return Hs("IndexedDbPersistence","Starting transaction:",t),this._o.runTransaction(t,"readonly"===e?"readonly":"readwrite",hl,(function(s){return i=new dl(s,r.io?r.io.next():go.U),"readwrite-primary"===e?r.po(i).next((function(t){return!!t||r.vo(i)})).next((function(e){if(!e)throw zs("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.eo.bo((function(){return r.ho(!1)})),new eo(to.FAILED_PRECONDITION,Uu);return n(i)})).next((function(t){return r.Do(i).next((function(){return t}))})):r.Go(i).next((function(){return n(i)}))})).then((function(t){return i.ps(),t}))},t.prototype.Go=function(t){var e=this;return dh(t).get(Xu.key).next((function(t){if(null!==t&&e.Oo(t.leaseTimestampMs,5e3)&&!e.Mo(t.ownerId)&&!e.Co(t)&&!(e.so||e.allowTabSynchronization&&t.allowTabSynchronization))throw new eo(to.FAILED_PRECONDITION,lh)}))},t.prototype.Do=function(t){var e=new Xu(this.clientId,this.allowTabSynchronization,Date.now());return dh(t).put(Xu.key,e)},t.jn=function(){return ju.jn()},t.prototype.So=function(t){var e=this,n=dh(t);return n.get(Xu.key).next((function(t){return e.Co(t)?(Hs("IndexedDbPersistence","Releasing primary lease."),n.delete(Xu.key)):Du.resolve()}))},t.prototype.Oo=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(zs("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.mo=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.co=function(){t.eo.ys((function(){return t.inForeground="visible"===t.document.visibilityState,t.Io()}))},this.document.addEventListener("visibilitychange",this.co),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Bo=function(){this.co&&(this.document.removeEventListener("visibilitychange",this.co),this.co=null)},t.prototype.Ao=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.oo=function(){e.$o(),e.eo.ys((function(){return e.Lo()}))},this.window.addEventListener("unload",this.oo))},t.prototype.qo=function(){this.oo&&(this.window.removeEventListener("unload",this.oo),this.oo=null)},t.prototype.Mo=function(t){var e;try{var n=null!==(null===(e=this.To)||void 0===e?void 0:e.getItem(this.ko(t)));return Hs("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return zs("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.$o=function(){if(this.To)try{this.To.setItem(this.ko(this.clientId),String(Date.now()))}catch(t){zs("Failed to set zombie client id.",t)}},t.prototype.Uo=function(){if(this.To)try{this.To.removeItem(this.ko(this.clientId))}catch(t){}},t.prototype.ko=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function dh(t){return fl(t,Xu.store)}function fh(t){return fl(t,cl.store)}function ph(t,e){var n=t.projectId;return t.m||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var mh=function(t,e){this.progress=t,this.zo=e},gh=function(){function t(t,e,n){this.wo=t,this.Ho=e,this.Ti=n}return t.prototype.Jo=function(t,e){var n=this;return this.Ho.vi(t,e).next((function(i){return n.Yo(t,e,i)}))},t.prototype.Yo=function(t,e,n){return this.wo.fi(t,e).next((function(t){for(var i=0,r=n;i<r.length;i++)t=r[i].xs(e,t);return t}))},t.prototype.Xo=function(t,e,n){var i=Dc();return e.forEach((function(t,e){for(var r=0,s=n;r<s.length;r++)e=s[r].xs(t,e);i=i.Ht(t,e)})),i},t.prototype.Zo=function(t,e){var n=this;return this.wo.getEntries(t,e).next((function(e){return n.tc(t,e)}))},t.prototype.tc=function(t,e){var n=this;return this.Ho.Si(t,e).next((function(i){var r=n.Xo(t,e,i),s=Ac();return r.forEach((function(t,e){e||(e=new ta(t,yo.min())),s=s.Ht(t,e)})),s}))},t.prototype.jr=function(t,e,n){return function(t){return Co.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.ec(t,e.path):ka(e)?this.nc(t,e,n):this.sc(t,e,n)},t.prototype.ec=function(t,e){return this.Jo(t,new Co(e)).next((function(t){var e=jc();return t instanceof Jo&&(e=e.Ht(t.key,t)),e}))},t.prototype.nc=function(t,e,n){var i=this,r=e.collectionGroup,s=jc();return this.Ti.Qs(t,r).next((function(o){return Du.forEach(o,(function(o){var a=function(t,e){return new Ea(e,null,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(r));return i.sc(t,a,n).next((function(t){t.forEach((function(t,e){s=s.Ht(t,e)}))}))})).next((function(){return s}))}))},t.prototype.sc=function(t,e,n){var i,r,s=this;return this.wo.jr(t,e,n).next((function(n){return i=n,s.Ho.Ci(t,e)})).next((function(e){return s.ic(t,r=e,i).next((function(t){i=t;for(var e=0,n=r;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var c=a[o],u=c.key,l=ac(c,i.get(u),0,s.Ss);i=l instanceof Jo?i.Ht(u,l):i.remove(u)}}))})).next((function(){return i.forEach((function(t,n){La(e,n)||(i=i.remove(t))})),i}))},t.prototype.ic=function(t,e,n){for(var i=Mc(),r=0,s=e;r<s.length;r++)for(var o=0,a=s[r].mutations;o<a.length;o++){var c=a[o];c instanceof dc&&null===n.get(c.key)&&(i=i.add(c.key))}var u=n;return this.wo.getEntries(t,i).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof Jo&&(u=u.Ht(t,e))})),u}))},t}(),bh=function(){function t(t,e,n,i){this.targetId=t,this.fromCache=e,this.rc=n,this.oc=i}return t.cc=function(e,n){for(var i=Mc(),r=Mc(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}}return new t(e,n.fromCache,i,r)},t}(),yh=function(){function t(){}return t.prototype.ac=function(t){this.uc=t},t.prototype.jr=function(t,e,n,i){var r=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Nt.length||1===t.Nt.length&&t.Nt[0].field.ht())}(e)||n.isEqual(yo.min())?this.hc(t,e):this.uc.Zo(t,i).next((function(s){var o=r.lc(e,s);return(Sa(e)||Oa(e))&&r._c(e.limitType,o,i,n)?r.hc(t,e):(Bs()<=Le.a.DEBUG&&Hs("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Ra(e)),r.uc.jr(t,e,n).next((function(t){return o.forEach((function(e){t=t.Ht(e.key,e)})),t})))}))},t.prototype.lc=function(t,e){var n=new Ic(Ma(t));return e.forEach((function(e,i){i instanceof Jo&&La(t,i)&&(n=n.add(i))})),n},t.prototype._c=function(t,e,n,i){if(n.size!==e.size)return!0;var r="F"===t?e.last():e.first();return!!r&&(r.hasPendingWrites||r.version.u(i)>0)},t.prototype.hc=function(t,e){return Bs()<=Le.a.DEBUG&&Hs("QueryEngine","Using full collection scan to execute query:",Ra(e)),this.uc.jr(t,e,yo.min())},t}(),_h=function(){function t(t,e,n,i){this.persistence=t,this.fc=e,this.Kt=i,this.dc=new xc(Xs),this.wc=new Ml((function(t){return ra(t)}),sa),this.Ec=yo.min(),this.Ho=t.Ko(n),this.Tc=t.Fr(),this.fo=t.Dr(),this.Ic=new gh(this.Tc,this.Ho,this.persistence.jo()),this.Eo=t.Wo(),this.fc.ac(this.Ic)}return t.prototype.mr=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.pr(n,e.dc)}))},t}();function vh(t,e,n,i){return new _h(t,e,n,i)}function wh(t,e){return Object(Fs.b)(this,void 0,void 0,(function(){var n,i,r,s;return Object(Fs.d)(this,(function(o){switch(o.label){case 0:return n=Ws(t),i=n.Ho,r=n.Ic,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var s;return n.Ho.bi(t).next((function(o){return s=o,i=n.persistence.Ko(e),r=new gh(n.Tc,i,n.persistence.jo()),i.bi(t)})).next((function(e){for(var n=[],i=[],o=Mc(),a=0,c=s;a<c.length;a++){var u=c[a];n.push(u.batchId);for(var l=0,h=u.mutations;l<h.length;l++)o=o.add(h[l].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];i.push(p.batchId);for(var m=0,g=p.mutations;m<g.length;m++)o=o.add(g[m].key)}return r.Zo(t,o).next((function(t){return{mc:t,Ac:n,Rc:i}}))}))}))];case 1:return s=o.sent(),[2,(n.Ho=i,n.Ic=r,n.fc.ac(n.Ic),s)]}}))}))}function Eh(t,e){var n=Ws(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var i=e.batch.keys(),r=n.Tc.Or({Wr:!0});return function(t,e,n,i){var r=n.batch,s=r.keys(),o=Du.resolve();return s.forEach((function(t){o=o.next((function(){return i.fi(e,t)})).next((function(e){var s=e,o=n.Fs.get(t);Qs(null!==o),(!s||s.version.u(o)<0)&&(s=r.Ds(t,s,n))&&i.ui(s,n.Os)}))})),o.next((function(){return t.Ho.xi(e,r)}))}(n,t,e,r).next((function(){return r.apply(t)})).next((function(){return n.Ho.Fi(t)})).next((function(){return n.Ic.Zo(t,i)}))}))}function Ch(t){var e=Ws(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.fo.Ki(t)}))}function xh(t,e){var n=Ws(t),i=e.Mt,r=n.dc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var s=n.Tc.Or({Wr:!0});r=n.dc;var o=[];e.Fe.forEach((function(e,s){var a=r.get(s);if(a){o.push(n.fo.ir(t,e.Ke,s).next((function(){return n.fo.nr(t,e.Ue,s)})));var c=e.resumeToken;if(c.o()>0){var u=a.$t(c,i).Lt(t.vs);r=r.Ht(s,u),function(t,e,n){return Qs(e.resumeToken.o()>0),0===t.resumeToken.o()||e.Mt.W()-t.Mt.W()>=3e8||n.Ue.size+n.Qe.size+n.Ke.size>0}(a,u,e)&&o.push(n.fo.Ji(t,u))}}}));var a=Ac();if(e.Me.forEach((function(i,r){e.Le.has(i)&&o.push(n.persistence.Ii.kr(t,i))})),o.push(Sh(t,s,e.Me,i,void 0).next((function(t){a=t}))),!i.isEqual(yo.min())){var c=n.fo.Ki(t).next((function(e){return n.fo.Wi(t,t.vs,i)}));o.push(c)}return Du.$n(o).next((function(){return s.apply(t)})).next((function(){return n.Ic.tc(t,a)}))})).then((function(t){return n.dc=r,t}))}function Sh(t,e,n,i,r){var s=Mc();return n.forEach((function(t){return s=s.add(t)})),e.getEntries(t,s).next((function(t){var s=Ac();return n.forEach((function(n,o){var a=t.get(n),c=(null==r?void 0:r.get(n))||i;o instanceof ta&&o.version.isEqual(yo.min())?(e._i(n,c),s=s.Ht(n,o)):null==a||o.version.u(a.version)>0||0===o.version.u(a.version)&&a.hasPendingWrites?(e.ui(o,c),s=s.Ht(n,o)):Hs("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),s}))}function Oh(t,e){var n=Ws(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.Ho.Vi(t,e)}))}function Ih(t,e){var n=Ws(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var i;return n.fo.er(t,e).next((function(r){return r?Du.resolve(i=r):n.fo.qi(t).next((function(r){return i=new Va(e,r,0,t.vs),n.fo.Gi(t,i).next((function(){return i}))}))}))})).then((function(t){var i=n.dc.get(t.targetId);return(null===i||t.Mt.u(i.Mt)>0)&&(n.dc=n.dc.Ht(t.targetId,t),n.wc.set(e,t.targetId)),t}))}function Th(t,e,n){return Object(Fs.b)(this,void 0,void 0,(function(){var i,r,s,o;return Object(Fs.d)(this,(function(a){switch(a.label){case 0:i=Ws(t),r=i.dc.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",s,(function(t){return i.persistence.Ii.removeTarget(t,r)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Lu(o=a.sent()))throw o;return Hs("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return i.dc=i.dc.remove(e),i.wc.delete(r.target),[2]}}))}))}function kh(t,e,n){var i=Ws(t),r=yo.min(),s=Mc();return i.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var i=Ws(t),r=i.wc.get(n);return void 0!==r?Du.resolve(i.dc.get(r)):i.fo.er(e,n)}(i,t,Da(e)).next((function(e){if(e)return r=e.lastLimboFreeSnapshotVersion,i.fo.cr(t,e.targetId).next((function(t){s=t}))})).next((function(){return i.fc.jr(t,e,n?r:yo.min(),n?s:Mc())})).next((function(t){return{documents:t,Pc:s}}))}))}function Ah(t,e){var n=Ws(t),i=Ws(n.fo),r=n.dc.get(e);return r?Promise.resolve(r.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return i.Dn(t,e).next((function(t){return t?t.target:null}))}))}function Dh(t){var e=Ws(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var i=Ws(t),r=Ac(),s=_l(n),o=oh(e),a=IDBKeyRange.lowerBound(s,!0);return o.ls({index:nl.readTimeIndex,range:a},(function(t,e){var n=bl(i.Kt,e);r=r.Ht(n.key,n),s=e.readTime})).next((function(){return{zo:r,readTime:vl(s)}}))}(e.Tc,t,e.Ec)})).then((function(t){var n=t.zo;return e.Ec=t.readTime,n}))}function Ph(t){return Object(Fs.b)(this,void 0,void 0,(function(){var e;return Object(Fs.d)(this,(function(n){return[2,(e=Ws(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=oh(t),n=yo.min();return e.ls({index:nl.readTimeIndex,reverse:!0},(function(t,e,i){e.readTime&&(n=vl(e.readTime)),i.done()})).next((function(){return n}))}(t)})).then((function(t){e.Ec=t}))]}))}))}function jh(t,e,n,i){return Object(Fs.b)(this,void 0,void 0,(function(){var r,s,o,a,c,u,l,h,d,f;return Object(Fs.d)(this,(function(p){switch(p.label){case 0:for(r=Ws(t),s=Mc(),o=Ac(),a=Rc(),c=0,u=n;c<u.length;c++)h=e.yc((l=u[c]).metadata.name),l.document&&(s=s.add(h)),o=o.Ht(h,e.gc(l)),a=a.Ht(h,e.Vc(l.metadata.readTime));return d=r.Tc.Or({Wr:!0}),[4,Ih(r,function(t){return Da(xa(vo.ct("__bundle__/docs/"+t)))}(i))];case 1:return f=p.sent(),[2,r.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return Sh(t,d,o,yo.min(),a).next((function(e){return d.apply(t),e})).next((function(e){return r.fo.Xi(t,f.targetId).next((function(){return r.fo.nr(t,s,f.targetId)})).next((function(){return r.Ic.tc(t,e)}))}))}))]}}))}))}function Nh(t,e,n){return void 0===n&&(n=Mc()),Object(Fs.b)(this,void 0,void 0,(function(){var i,r;return Object(Fs.d)(this,(function(s){switch(s.label){case 0:return[4,Ih(t,Da(Ol(e.bundledQuery)))];case 1:return i=s.sent(),[2,(r=Ws(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var s=ru(e.readTime);if(i.Mt.u(s)>=0)return r.Eo.Bs(t,e);var o=i.$t(Js.h,s);return r.dc=r.dc.Ht(o.targetId,o),r.fo.Ji(t,o).next((function(){return r.fo.Xi(t,i.targetId)})).next((function(){return r.fo.nr(t,n,i.targetId)})).next((function(){return r.Eo.Bs(t,e)}))}))]}}))}))}var Rh=function(){function t(t){this.Kt=t,this.bc=new Map,this.vc=new Map}return t.prototype.Ms=function(t,e){return Du.resolve(this.bc.get(e))},t.prototype.Ls=function(t,e){var n;return this.bc.set(e.id,{id:(n=e).id,version:n.version,createTime:ru(n.createTime)}),Du.resolve()},t.prototype.$s=function(t,e){return Du.resolve(this.vc.get(e))},t.prototype.Bs=function(t,e){return this.vc.set(e.name,function(t){return{name:t.name,query:Ol(t.bundledQuery),readTime:ru(t.readTime)}}(e)),Du.resolve()},t}(),Lh=function(){function t(){this.Sc=new Ic(Mh.Dc),this.Cc=new Ic(Mh.xc)}return t.prototype.nt=function(){return this.Sc.nt()},t.prototype.sr=function(t,e){var n=new Mh(t,e);this.Sc=this.Sc.add(n),this.Cc=this.Cc.add(n)},t.prototype.Nc=function(t,e){var n=this;t.forEach((function(t){return n.sr(t,e)}))},t.prototype.rr=function(t,e){this.Oc(new Mh(t,e))},t.prototype.Fc=function(t,e){var n=this;t.forEach((function(t){return n.rr(t,e)}))},t.prototype.kc=function(t){var e=this,n=new Co(new vo([])),i=new Mh(n,t),r=new Mh(n,t+1),s=[];return this.Cc.Ae([i,r],(function(t){e.Oc(t),s.push(t.key)})),s},t.prototype.Mc=function(){var t=this;this.Sc.forEach((function(e){return t.Oc(e)}))},t.prototype.Oc=function(t){this.Sc=this.Sc.delete(t),this.Cc=this.Cc.delete(t)},t.prototype.Lc=function(t){var e=new Co(new vo([])),n=new Mh(e,t),i=new Mh(e,t+1),r=Mc();return this.Cc.Ae([n,i],(function(t){r=r.add(t.key)})),r},t.prototype.ki=function(t){var e=new Mh(t,0),n=this.Sc.Pe(e);return null!==n&&t.isEqual(n.key)},t}(),Mh=function(){function t(t,e){this.key=t,this.$c=e}return t.Dc=function(t,e){return Co.J(t.key,e.key)||Xs(t.$c,e.$c)},t.xc=function(t,e){return Xs(t.$c,e.$c)||Co.J(t.key,e.key)},t}(),Fh=function(){function t(t,e){this.Ti=t,this.Ii=e,this.Ho=[],this.Bc=1,this.qc=new Ic(Mh.Dc)}return t.prototype.Ri=function(t){return Du.resolve(0===this.Ho.length)},t.prototype.Pi=function(t,e,n,i){var r=this.Bc;this.Bc++;var s=new pl(r,e,n,i);this.Ho.push(s);for(var o=0,a=i;o<a.length;o++){var c=a[o];this.qc=this.qc.add(new Mh(c.key,r)),this.Ti.Us(t,c.key.path.Z())}return Du.resolve(s)},t.prototype.yi=function(t,e){return Du.resolve(this.Uc(e))},t.prototype.Vi=function(t,e){var n=this.Qc(e+1),i=n<0?0:n;return Du.resolve(this.Ho.length>i?this.Ho[i]:null)},t.prototype.pi=function(){return Du.resolve(0===this.Ho.length?-1:this.Bc-1)},t.prototype.bi=function(t){return Du.resolve(this.Ho.slice())},t.prototype.vi=function(t,e){var n=this,i=new Mh(e,0),r=new Mh(e,Number.POSITIVE_INFINITY),s=[];return this.qc.Ae([i,r],(function(t){var e=n.Uc(t.$c);s.push(e)})),Du.resolve(s)},t.prototype.Si=function(t,e){var n=this,i=new Ic(Xs);return e.forEach((function(t){var e=new Mh(t,0),r=new Mh(t,Number.POSITIVE_INFINITY);n.qc.Ae([e,r],(function(t){i=i.add(t.$c)}))})),Du.resolve(this.Kc(i))},t.prototype.Ci=function(t,e){var n=e.path,i=n.length+1,r=n;Co.Et(r)||(r=r.child(""));var s=new Mh(new Co(r),0),o=new Ic(Xs);return this.qc.Re((function(t){var e=t.key.path;return!!n.st(e)&&(e.length===i&&(o=o.add(t.$c)),!0)}),s),Du.resolve(this.Kc(o))},t.prototype.Kc=function(t){var e=this,n=[];return t.forEach((function(t){var i=e.Uc(t);null!==i&&n.push(i)})),n},t.prototype.xi=function(t,e){var n=this;Qs(0===this.jc(e.batchId,"removed")),this.Ho.shift();var i=this.qc;return Du.forEach(e.mutations,(function(r){var s=new Mh(r.key,e.batchId);return i=i.delete(s),n.Ii.Oi(t,r.key)})).next((function(){n.qc=i}))},t.prototype.Ni=function(t){},t.prototype.ki=function(t,e){var n=new Mh(e,0),i=this.qc.Pe(n);return Du.resolve(e.isEqual(i&&i.key))},t.prototype.Fi=function(t){return Du.resolve()},t.prototype.jc=function(t,e){return this.Qc(t)},t.prototype.Qc=function(t){return 0===this.Ho.length?0:t-this.Ho[0].batchId},t.prototype.Uc=function(t){var e=this.Qc(t);return e<0||e>=this.Ho.length?null:this.Ho[e]},t}(),Vh=function(){function t(t,e){this.Ti=t,this.Wc=e,this.docs=new xc(Co.J),this.size=0}return t.prototype.ui=function(t,e,n){var i=e.key,r=this.docs.get(i),s=r?r.size:0,o=this.Wc(e);return this.docs=this.docs.Ht(i,{li:e,size:o,readTime:n}),this.size+=o-s,this.Ti.Us(t,i.path.Z())},t.prototype._i=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.fi=function(t,e){var n=this.docs.get(e);return Du.resolve(n?n.li:null)},t.prototype.getEntries=function(t,e){var n=this,i=Dc();return e.forEach((function(t){var e=n.docs.get(t);i=i.Ht(t,e?e.li:null)})),Du.resolve(i)},t.prototype.jr=function(t,e,n){for(var i=jc(),r=new Co(e.path.child("")),s=this.docs.ne(r);s.ae();){var o=s.ce(),a=o.value,c=a.li,u=a.readTime;if(!e.path.st(o.key.path))break;u.u(n)<=0||c instanceof Jo&&La(e,c)&&(i=i.Ht(c.key,c))}return Du.resolve(i)},t.prototype.Gc=function(t,e){return Du.forEach(this.docs,(function(t){return e(t)}))},t.prototype.Or=function(t){return new Bh(this)},t.prototype.Mr=function(t){return Du.resolve(this.size)},t}(),Bh=function(t){function e(e){var n=this;return(n=t.call(this)||this).Gr=e,n}return Object(Fs.c)(e,t),e.prototype.Ei=function(t){var e=this,n=[];return this.oi.forEach((function(i,r){r&&r.li?n.push(e.Gr.ui(t,r.li,e.ai(i))):e.Gr._i(i)})),Du.$n(n)},e.prototype.di=function(t,e){return this.Gr.fi(t,e)},e.prototype.wi=function(t,e){return this.Gr.getEntries(t,e)},e}(Fl),Hh=function(){function t(t){this.persistence=t,this.zc=new Ml((function(t){return ra(t)}),sa),this.lastRemoteSnapshotVersion=yo.min(),this.highestTargetId=0,this.Hc=0,this.Jc=new Lh,this.targetCount=0,this.Yc=Ql.$i()}return t.prototype.mn=function(t,e){return this.zc.forEach((function(t,n){return e(n)})),Du.resolve()},t.prototype.Ki=function(t){return Du.resolve(this.lastRemoteSnapshotVersion)},t.prototype.ji=function(t){return Du.resolve(this.Hc)},t.prototype.qi=function(t){return this.highestTargetId=this.Yc.next(),Du.resolve(this.highestTargetId)},t.prototype.Wi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Hc&&(this.Hc=e),Du.resolve()},t.prototype.zi=function(t){this.zc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Yc=new Ql(e),this.highestTargetId=e),t.sequenceNumber>this.Hc&&(this.Hc=t.sequenceNumber)},t.prototype.Gi=function(t,e){return this.zi(e),this.targetCount+=1,Du.resolve()},t.prototype.Ji=function(t,e){return this.zi(e),Du.resolve()},t.prototype.Yi=function(t,e){return this.zc.delete(e.target),this.Jc.kc(e.targetId),this.targetCount-=1,Du.resolve()},t.prototype.Zi=function(t,e,n){var i=this,r=0,s=[];return this.zc.forEach((function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(i.zc.delete(o),s.push(i.Xi(t,a.targetId)),r++)})),Du.$n(s).next((function(){return r}))},t.prototype.tr=function(t){return Du.resolve(this.targetCount)},t.prototype.er=function(t,e){var n=this.zc.get(e)||null;return Du.resolve(n)},t.prototype.nr=function(t,e,n){return this.Jc.Nc(e,n),Du.resolve()},t.prototype.ir=function(t,e,n){this.Jc.Fc(e,n);var i=this.persistence.Ii,r=[];return i&&e.forEach((function(e){r.push(i.Oi(t,e))})),Du.$n(r)},t.prototype.Xi=function(t,e){return this.Jc.kc(e),Du.resolve()},t.prototype.cr=function(t,e){var n=this.Jc.Lc(e);return Du.resolve(n)},t.prototype.ki=function(t,e){return Du.resolve(this.Jc.ki(e))},t}(),zh=function(){function t(t,e){var n=this;this.Xc={},this.io=new go(0),this.ro=!1,this.ro=!0,this.Ii=t(this),this.fo=new Hh(this),this.Ti=new Al,this.wo=function(t,e){return new Vh(t,(function(t){return n.Ii.Zc(t)}))}(this.Ti),this.Kt=new gl(e),this.Eo=new Rh(this.Kt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Lo=function(){return this.ro=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Tr",{get:function(){return this.ro},enumerable:!1,configurable:!0}),t.prototype.yo=function(){},t.prototype.Vo=function(){},t.prototype.jo=function(){return this.Ti},t.prototype.Ko=function(t){var e=this.Xc[t.R()];return e||(e=new Fh(this.Ti,this.Ii),this.Xc[t.R()]=e),e},t.prototype.Dr=function(){return this.fo},t.prototype.Fr=function(){return this.wo},t.prototype.Wo=function(){return this.Eo},t.prototype.runTransaction=function(t,e,n){var i=this;Hs("MemoryPersistence","Starting transaction:",t);var r=new Uh(this.io.next());return this.Ii.ta(),n(r).next((function(t){return i.Ii.ea(r).next((function(){return t}))})).Mn().then((function(t){return r.ps(),t}))},t.prototype.na=function(t,e){return Du.Bn(Object.values(this.Xc).map((function(n){return function(){return n.ki(t,e)}})))},t}(),Uh=function(t){function e(e){var n=this;return(n=t.call(this)||this).vs=e,n}return Object(Fs.c)(e,t),e}(qu),qh=function(){function t(t){this.persistence=t,this.sa=new Lh,this.ia=null}return t.ra=function(e){return new t(e)},Object.defineProperty(t.prototype,"oa",{get:function(){if(this.ia)return this.ia;throw Gs()},enumerable:!1,configurable:!0}),t.prototype.sr=function(t,e,n){return this.sa.sr(n,e),this.oa.delete(n.toString()),Du.resolve()},t.prototype.rr=function(t,e,n){return this.sa.rr(n,e),this.oa.add(n.toString()),Du.resolve()},t.prototype.Oi=function(t,e){return this.oa.add(e.toString()),Du.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.sa.kc(e.targetId).forEach((function(t){return n.oa.add(t.toString())}));var i=this.persistence.Dr();return i.cr(t,e.targetId).next((function(t){t.forEach((function(t){return n.oa.add(t.toString())}))})).next((function(){return i.Yi(t,e)}))},t.prototype.ta=function(){this.ia=new Set},t.prototype.ea=function(t){var e=this,n=this.persistence.Fr().Or();return Du.forEach(this.oa,(function(i){var r=Co.ft(i);return e.ca(t,r).next((function(t){t||n._i(r)}))})).next((function(){return e.ia=null,n.apply(t)}))},t.prototype.kr=function(t,e){var n=this;return this.ca(t,e).next((function(t){t?n.oa.delete(e.toString()):n.oa.add(e.toString())}))},t.prototype.Zc=function(t){return 0},t.prototype.ca=function(t,e){var n=this;return Du.Bn([function(){return Du.resolve(n.sa.ki(e))},function(){return n.persistence.Dr().ki(t,e)},function(){return n.persistence.na(t,e)}])},t}();function Gh(t,e){return"firestore_clients_"+t+"_"+e}function Qh(t,e,n){var i="firestore_mutations_"+t+"_"+n;return e.A()&&(i+="_"+e.uid),i}function Wh(t,e){return"firestore_targets_"+t+"_"+e}var Kh=function(){function t(t,e,n,i){this.user=t,this.batchId=e,this.state=n,this.error=i}return t.aa=function(e,n,i){var r=JSON.parse(i),s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new eo(r.error.code,r.error.message)),s?new t(e,n,r.state,o):(zs("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+i),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),$h=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.aa=function(e,n){var i=JSON.parse(n),r="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return r&&i.error&&(r="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new eo(i.error.code,i.error.message)),r?new t(e,i.state,s):(zs("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Xh=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.aa=function(e,n){for(var i=JSON.parse(n),r="object"==typeof i&&i.activeTargetIds instanceof Array,s=Vc(),o=0;r&&o<i.activeTargetIds.length;++o)r=Lo(i.activeTargetIds[o]),s=s.add(i.activeTargetIds[o]);return r?new t(e,s):(zs("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Yh=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.aa=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(zs("SharedClientState","Failed to parse online state: "+e),null)},t}(),Zh=function(){function t(){this.activeTargetIds=Vc()}return t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.la=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ua=function(){var t={activeTargetIds:this.activeTargetIds.rt(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Jh=function(){function t(t,e,n,i,r){this.window=t,this.eo=e,this.persistenceKey=n,this._a=i,this.fa=null,this.da=null,this.L=null,this.wa=this.Ea.bind(this),this.Ta=new xc(Xs),this.Tr=!1,this.Ia=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=r,this.ma=Gh(this.persistenceKey,this._a),this.Aa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ta=this.Ta.Ht(this._a,new Zh),this.Ra=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Pa=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.ya=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.ga=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Va=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.wa)}return t.jn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Fs.b)(this,void 0,void 0,(function(){var t,e,n,i,r,s,o,a,c,u,l=this;return Object(Fs.d)(this,(function(h){switch(h.label){case 0:return[4,this.fa.Qo()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(i=n[e])!==this._a&&(r=this.getItem(Gh(this.persistenceKey,i)))&&(s=Xh.aa(i,r))&&(this.Ta=this.Ta.Ht(s.clientId,s));for(this.pa(),(o=this.storage.getItem(this.ga))&&(a=this.ba(o))&&this.va(a),c=0,u=this.Ia;c<u.length;c++)this.Ea(u[c]);return this.Ia=[],this.window.addEventListener("unload",(function(){return l.Lo()})),this.Tr=!0,[2]}}))}))},t.prototype.q=function(t){this.setItem(this.Aa,JSON.stringify(t))},t.prototype.Sa=function(){return this.Da(this.Ta)},t.prototype.Ca=function(t){var e=!1;return this.Ta.forEach((function(n,i){i.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.xa=function(t){this.Na(t,"pending")},t.prototype.Oa=function(t,e,n){this.Na(t,e,n),this.Fa(t)},t.prototype.ka=function(t){var e="not-current";if(this.Ca(t)){var n=this.storage.getItem(Wh(this.persistenceKey,t));if(n){var i=$h.aa(t,n);i&&(e=i.state)}}return this.Ma.ha(t),this.pa(),e},t.prototype.La=function(t){this.Ma.la(t),this.pa()},t.prototype.$a=function(t){return this.Ma.activeTargetIds.has(t)},t.prototype.Ba=function(t){this.removeItem(Wh(this.persistenceKey,t))},t.prototype.qa=function(t,e,n){this.Ua(t,e,n)},t.prototype.Qa=function(t,e,n){var i=this;e.forEach((function(t){i.Fa(t)})),this.currentUser=t,n.forEach((function(t){i.xa(t)}))},t.prototype.Ka=function(t){this.ja(t)},t.prototype.Wa=function(){this.Ga()},t.prototype.Lo=function(){this.Tr&&(this.window.removeEventListener("storage",this.wa),this.removeItem(this.ma),this.Tr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Hs("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Hs("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Hs("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Ea=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Hs("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ma)return void zs("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.eo.bo((function(){return Object(Fs.b)(e,void 0,void 0,(function(){var t,e,i,r,s,o;return Object(Fs.d)(this,(function(a){if(this.Tr){if(null!==n.key)if(this.Ra.test(n.key)){if(null==n.newValue)return t=this.za(n.key),[2,this.Ha(t,null)];if(e=this.Ja(n.key,n.newValue))return[2,this.Ha(e.clientId,e)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(i=this.Ya(n.key,n.newValue)))return[2,this.Xa(i)]}else if(this.ya.test(n.key)){if(null!==n.newValue&&(r=this.Za(n.key,n.newValue)))return[2,this.tu(r)]}else if(n.key===this.ga){if(null!==n.newValue&&(s=this.ba(n.newValue)))return[2,this.va(s)]}else if(n.key===this.Aa)(o=function(t){var e=go.U;if(null!=t)try{var n=JSON.parse(t);Qs("number"==typeof n),e=n}catch(t){zs("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==go.U&&this.L(o);else if(n.key===this.Va)return[2,this.fa.eu()]}else this.Ia.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Ma",{get:function(){return this.Ta.get(this._a)},enumerable:!1,configurable:!0}),t.prototype.pa=function(){this.setItem(this.ma,this.Ma.ua())},t.prototype.Na=function(t,e,n){var i=new Kh(this.currentUser,t,e,n),r=Qh(this.persistenceKey,this.currentUser,t);this.setItem(r,i.ua())},t.prototype.Fa=function(t){var e=Qh(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.ja=function(t){this.storage.setItem(this.ga,JSON.stringify({clientId:this._a,onlineState:t}))},t.prototype.Ua=function(t,e,n){var i=Wh(this.persistenceKey,t),r=new $h(t,e,n);this.setItem(i,r.ua())},t.prototype.Ga=function(){this.setItem(this.Va,"value-not-used")},t.prototype.za=function(t){var e=this.Ra.exec(t);return e?e[1]:null},t.prototype.Ja=function(t,e){var n=this.za(t);return Xh.aa(n,e)},t.prototype.Ya=function(t,e){var n=this.Pa.exec(t),i=Number(n[1]);return Kh.aa(new uo(void 0!==n[2]?n[2]:null),i,e)},t.prototype.Za=function(t,e){var n=this.ya.exec(t),i=Number(n[1]);return $h.aa(i,e)},t.prototype.ba=function(t){return Yh.aa(t)},t.prototype.Xa=function(t){return Object(Fs.b)(this,void 0,void 0,(function(){return Object(Fs.d)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.fa.nu(t.batchId,t.state,t.error)]:(Hs("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.tu=function(t){return this.fa.su(t.targetId,t.state,t.error)},t.prototype.Ha=function(t,e){var n=this,i=e?this.Ta.Ht(t,e):this.Ta.remove(t),r=this.Da(this.Ta),s=this.Da(i),o=[],a=[];return s.forEach((function(t){r.has(t)||o.push(t)})),r.forEach((function(t){s.has(t)||a.push(t)})),this.fa.iu(o,a).then((function(){n.Ta=i}))},t.prototype.va=function(t){this.Ta.get(t.clientId)&&this.da(t.onlineState)},t.prototype.Da=function(t){var e=Vc();return t.forEach((function(t,n){e=e.ye(n.activeTargetIds)})),e},t}(),td=function(){function t(){this.ru=new Zh,this.ou={},this.da=null,this.L=null}return t.prototype.xa=function(t){},t.prototype.Oa=function(t,e,n){},t.prototype.ka=function(t){return this.ru.ha(t),this.ou[t]||"not-current"},t.prototype.qa=function(t,e,n){this.ou[t]=e},t.prototype.La=function(t){this.ru.la(t)},t.prototype.$a=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.Ba=function(t){delete this.ou[t]},t.prototype.Sa=function(){return this.ru.activeTargetIds},t.prototype.Ca=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.start=function(){return this.ru=new Zh,Promise.resolve()},t.prototype.Qa=function(t,e,n){},t.prototype.Ka=function(t){},t.prototype.Lo=function(){},t.prototype.q=function(t){},t.prototype.Wa=function(){},t}(),ed=function(){function t(){}return t.prototype.cu=function(t){},t.prototype.Lo=function(){},t}(),nd=function(){function t(){var t=this;this.au=function(){return t.uu()},this.hu=function(){return t.lu()},this._u=[],this.fu()}return t.prototype.cu=function(t){this._u.push(t)},t.prototype.Lo=function(){window.removeEventListener("online",this.au),window.removeEventListener("offline",this.hu)},t.prototype.fu=function(){window.addEventListener("online",this.au),window.addEventListener("offline",this.hu)},t.prototype.uu=function(){Hs("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(0)},t.prototype.lu=function(){Hs("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(1)},t.jn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),id={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},rd=function(){function t(t){this.du=t.du,this.wu=t.wu}return t.prototype.Eu=function(t){this.Tu=t},t.prototype.Iu=function(t){this.mu=t},t.prototype.onMessage=function(t){this.Au=t},t.prototype.close=function(){this.wu()},t.prototype.send=function(t){this.du(t)},t.prototype.Ru=function(){this.Tu()},t.prototype.Pu=function(t){this.mu(t)},t.prototype.yu=function(t){this.Au(t)},t}(),sd=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.I=e.I,n}return Object(Fs.c)(e,t),e.prototype.Du=function(t,e,n,i){return new Promise((function(r,s){var o=new Ms;o.listenOnce(Ns.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case js.NO_ERROR:var e=o.getResponseJson();Hs("Connection","XHR received:",JSON.stringify(e)),r(e);break;case js.TIMEOUT:Hs("Connection",'RPC "'+t+'" timed out'),s(new eo(to.DEADLINE_EXCEEDED,"Request time out"));break;case js.HTTP_ERROR:var n=o.getStatus();if(Hs("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var i=o.getResponseJson().error;if(i&&i.status&&i.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(to).indexOf(e)>=0?e:to.UNKNOWN}(i.status);s(new eo(a,i.message))}else s(new eo(to.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new eo(to.UNAVAILABLE,"Connection failed."));break;default:Gs()}}finally{Hs("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(i);o.send(e,"POST",a,n,15)}))},e.prototype.xu=function(t,e){var n=[this.Vu,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=new Ts,r=Di(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.T.projectId+"/databases/"+this.T.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.I};this.Su(s.initMessageHeaders,e),Object(Me.l)()||Object(Me.n)()||Object(Me.j)()||Object(Me.k)()||Object(Me.o)()||Object(Me.i)()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");Hs("Connection","Creating WebChannel: "+o,s);var a=i.createWebChannel(o,s),c=!1,u=!1,l=new rd({du:function(t){u?Hs("Connection","Not sending because WebChannel is closed:",t):(c||(Hs("Connection","Opening WebChannel transport."),a.open(),c=!0),Hs("Connection","WebChannel sending:",t),a.send(t))},wu:function(){return a.close()}}),h=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(a,Ls.EventType.OPEN,(function(){u||Hs("Connection","WebChannel transport opened.")})),h(a,Ls.EventType.CLOSE,(function(){u||(u=!0,Hs("Connection","WebChannel transport closed"),l.Pu())})),h(a,Ls.EventType.ERROR,(function(t){u||(u=!0,Us("Connection","WebChannel transport errored:",t),l.Pu(new eo(to.UNAVAILABLE,"The operation could not be completed")))})),h(a,Ls.EventType.MESSAGE,(function(t){var e;if(!u){var n=t.data[0];Qs(!!n);var i=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(i){Hs("Connection","WebChannel received error:",i);var r=i.status,s=function(t){var e=bc[t];if(void 0!==e)return Cc(e)}(r),o=i.message;void 0===s&&(s=to.INTERNAL,o="Unknown error status: "+r+" with message "+i.message),u=!0,l.Pu(new eo(s,o)),a.close()}else Hs("Connection","WebChannel received:",n),l.yu(n)}})),h(r,Rs.STAT_EVENT,(function(t){10===t.stat?Hs("Connection","Detected buffering proxy"):11===t.stat&&Hs("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Ru()}),0),l},e}(function(){function t(t){this.gu=t,this.T=t.T,this.Vu=(t.ssl?"https":"http")+"://"+t.host,this.pu="projects/"+this.T.projectId+"/databases/"+this.T.database+"/documents"}return t.prototype.bu=function(t,e,n,i){var r=this.vu(t,e);Hs("RestConnection","Sending: ",r,n);var s={};return this.Su(s,i),this.Du(t,r,s,n).then((function(t){return Hs("RestConnection","Received: ",t),t}),(function(e){throw Us("RestConnection",t+" failed with error: ",e,"url: ",r,"request:",n),e}))},t.prototype.Cu=function(t,e,n,i){return this.bu(t,e,n,i)},t.prototype.Su=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.2",t["Content-Type"]="text/plain",e)for(var n in e.V)e.V.hasOwnProperty(n)&&(t[n]=e.V[n])},t.prototype.vu=function(t,e){return this.Vu+"/v1/"+e+":"+id[t]},t}());function od(){return"undefined"!=typeof window?window:null}function ad(){return"undefined"!=typeof document?document:null}function cd(t){return new tu(t,!0)}var ud=function(){function t(t,e,n,i,r){void 0===n&&(n=1e3),void 0===i&&(i=1.5),void 0===r&&(r=6e4),this.eo=t,this.ds=e,this.Nu=n,this.Ou=i,this.Fu=r,this.ku=0,this.Mu=null,this.Lu=Date.now(),this.reset()}return t.prototype.reset=function(){this.ku=0},t.prototype.$u=function(){this.ku=this.Fu},t.prototype.Bu=function(t){var e=this;this.cancel();var n=Math.floor(this.ku+this.qu()),i=Math.max(0,Date.now()-this.Lu),r=Math.max(0,n-i);r>0&&Hs("ExponentialBackoff","Backing off for "+r+" ms (base delay: "+this.ku+" ms, delay with jitter: "+n+" ms, last attempt: "+i+" ms ago)"),this.Mu=this.eo.Ir(this.ds,r,(function(){return e.Lu=Date.now(),t()})),this.ku*=this.Ou,this.ku<this.Nu&&(this.ku=this.Nu),this.ku>this.Fu&&(this.ku=this.Fu)},t.prototype.Uu=function(){null!==this.Mu&&(this.Mu.Ps(),this.Mu=null)},t.prototype.cancel=function(){null!==this.Mu&&(this.Mu.cancel(),this.Mu=null)},t.prototype.qu=function(){return(Math.random()-.5)*this.ku},t}(),ld=function(){function t(t,e,n,i,r,s){this.eo=t,this.Qu=n,this.Ku=i,this.ju=r,this.listener=s,this.state=0,this.Wu=0,this.Gu=null,this.stream=null,this.zu=new ud(t,e)}return t.prototype.Hu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Ju=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Yu()},t.prototype.stop=function(){return Object(Fs.b)(this,void 0,void 0,(function(){return Object(Fs.d)(this,(function(t){switch(t.label){case 0:return this.Hu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Xu=function(){this.state=0,this.zu.reset()},t.prototype.Zu=function(){var t=this;this.Ju()&&null===this.Gu&&(this.Gu=this.eo.Ir(this.Qu,6e4,(function(){return t.th()})))},t.prototype.eh=function(t){this.nh(),this.stream.send(t)},t.prototype.th=function(){return Object(Fs.b)(this,void 0,void 0,(function(){return Object(Fs.d)(this,(function(t){return this.Ju()?[2,this.close(0)]:[2]}))}))},t.prototype.nh=function(){this.Gu&&(this.Gu.cancel(),this.Gu=null)},t.prototype.close=function(t,e){return Object(Fs.b)(this,void 0,void 0,(function(){return Object(Fs.d)(this,(function(n){switch(n.label){case 0:return this.nh(),this.zu.cancel(),this.Wu++,3!==t?this.zu.reset():e&&e.code===to.RESOURCE_EXHAUSTED?(zs(e.toString()),zs("Using maximum backoff delay to prevent overloading the backend."),this.zu.$u()):e&&e.code===to.UNAUTHENTICATED&&this.ju.v(),null!==this.stream&&(this.sh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Iu(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.sh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.ih(this.Wu),n=this.Wu;this.ju.getToken().then((function(e){t.Wu===n&&t.rh(e)}),(function(n){e((function(){var e=new eo(to.UNKNOWN,"Fetching auth token failed: "+n.message);return t.oh(e)}))}))},t.prototype.rh=function(t){var e=this,n=this.ih(this.Wu);this.stream=this.ah(t),this.stream.Eu((function(){n((function(){return e.state=2,e.listener.Eu()}))})),this.stream.Iu((function(t){n((function(){return e.oh(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.Yu=function(){var t=this;this.state=4,this.zu.Bu((function(){return Object(Fs.b)(t,void 0,void 0,(function(){return Object(Fs.d)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.oh=function(t){return Hs("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.ih=function(t){var e=this;return function(n){e.eo.ys((function(){return e.Wu===t?n():(Hs("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),hd=function(t){function e(e,n,i,r,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,i,s)||this).Kt=r,o}return Object(Fs.c)(e,t),e.prototype.ah=function(t){return this.Ku.xu("Listen",t)},e.prototype.onMessage=function(t){this.zu.reset();var e=function(t,e){var n;if("targetChange"in e){var i=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Gs()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(t,e){return t.qt?(Qs(void 0===e||"string"==typeof e),Js.fromBase64String(e||"")):(Qs(void 0===e||e instanceof Uint8Array),Js.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?to.UNKNOWN:Cc(t.code);return new eo(e,t.message||"")}(a);n=new Wc(i,r,s,o||null)}else if("documentChange"in e){r=cu(t,(i=e.documentChange).document.name),s=ru(i.document.updateTime);var a=new $o({mapValue:{fields:i.document.fields}}),c=(o=new Jo(r,s,a,{}),i.targetIds||[]);n=new Gc(c,i.removedTargetIds||[],o.key,o)}else if("documentDelete"in e)r=cu(t,(i=e.documentDelete).document),s=i.readTime?ru(i.readTime):yo.min(),a=new ta(r,s),n=new Gc([],o=i.removedTargetIds||[],a.key,a);else if("documentRemove"in e)r=cu(t,(i=e.documentRemove).document),n=new Gc([],s=i.removedTargetIds||[],r,null);else{if(!("filter"in e))return Gs();var u=e.filter;r=new wc(i=u.count||0),n=new Qc(s=u.targetId,r)}return n}(this.Kt,t),n=function(t){if(!("targetChange"in t))return yo.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?yo.min():e.readTime?ru(e.readTime):yo.min()}(t);return this.listener.uh(e,n)},e.prototype.hh=function(t){var e={};e.database=hu(this.Kt),e.addTarget=function(t,e){var n,i=e.target;return(n=oa(i)?{documents:bu(t,i)}:{query:yu(t,i)}).targetId=e.targetId,e.resumeToken.o()>0?n.resumeToken=nu(t,e.resumeToken):e.Mt.u(yo.min())>0&&(n.readTime=eu(t,e.Mt.G())),n}(this.Kt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Gs()}}(0,e.kt);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.eh(e)},e.prototype.lh=function(t){var e={};e.database=hu(this.Kt),e.removeTarget=t,this.eh(e)},e}(ld),dd=function(t){function e(e,n,i,r,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,i,s)||this).Kt=r,o._h=!1,o}return Object(Fs.c)(e,t),Object.defineProperty(e.prototype,"fh",{get:function(){return this._h},enumerable:!1,configurable:!0}),e.prototype.start=function(){this._h=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.sh=function(){this._h&&this.dh([])},e.prototype.ah=function(t){return this.Ku.xu("Write",t)},e.prototype.onMessage=function(t){if(Qs(!!t.streamToken),this.lastStreamToken=t.streamToken,this._h){this.zu.reset();var e=function(t,e){return t&&t.length>0?(Qs(void 0!==e),t.map((function(t){return function(t,e){var n=ru(t.updateTime?t.updateTime:e);n.isEqual(yo.min())&&(n=ru(e));var i=null;return t.transformResults&&t.transformResults.length>0&&(i=t.transformResults),new nc(n,i)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=ru(t.commitTime);return this.listener.wh(n,e)}return Qs(!t.writeResults||0===t.writeResults.length),this._h=!0,this.listener.Eh()},e.prototype.Th=function(){var t={};t.database=hu(this.Kt),this.eh(t)},e.prototype.dh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return mu(e.Kt,t)}))};this.eh(n)},e}(ld),fd=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).credentials=e,r.Ku=n,r.Kt=i,r.Ih=!1,r}return Object(Fs.c)(e,t),e.prototype.mh=function(){if(this.Ih)throw new eo(to.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.bu=function(t,e,n){var i=this;return this.mh(),this.credentials.getToken().then((function(r){return i.Ku.bu(t,e,n,r)})).catch((function(t){throw t.code===to.UNAUTHENTICATED&&i.credentials.v(),t}))},e.prototype.Cu=function(t,e,n){var i=this;return this.mh(),this.credentials.getToken().then((function(r){return i.Ku.Cu(t,e,n,r)})).catch((function(t){throw t.code===to.UNAUTHENTICATED&&i.credentials.v(),t}))},e.prototype.terminate=function(){this.Ih=!1},e}((function(){})),pd=function(){function t(t,e){this.fs=t,this.da=e,this.state="Unknown",this.Ah=0,this.Rh=null,this.Ph=!0}return t.prototype.yh=function(){var t=this;0===this.Ah&&(this.gh("Unknown"),this.Rh=this.fs.Ir("online_state_timeout",1e4,(function(){return t.Rh=null,t.Vh("Backend didn't respond within 10 seconds."),t.gh("Offline"),Promise.resolve()})))},t.prototype.ph=function(t){"Online"===this.state?this.gh("Unknown"):(this.Ah++,this.Ah>=1&&(this.bh(),this.Vh("Connection failed 1 times. Most recent error: "+t.toString()),this.gh("Offline")))},t.prototype.set=function(t){this.bh(),this.Ah=0,"Online"===t&&(this.Ph=!1),this.gh(t)},t.prototype.gh=function(t){t!==this.state&&(this.state=t,this.da(t))},t.prototype.Vh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Ph?(zs(e),this.Ph=!1):Hs("OnlineStateTracker",e)},t.prototype.bh=function(){null!==this.Rh&&(this.Rh.cancel(),this.Rh=null)},t}(),md=function(t,e,n,i,r){var s=this;this.Sh=t,this.Dh=e,this.fs=n,this.Ch={},this.xh=[],this.Nh=new Map,this.Oh=new Set,this.Fh=[],this.kh=r,this.kh.cu((function(t){n.ys((function(){return Object(Fs.b)(s,void 0,void 0,(function(){return Object(Fs.d)(this,(function(t){switch(t.label){case 0:return xd(this)?(Hs("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Fs.b)(this,void 0,void 0,(function(){var e;return Object(Fs.d)(this,(function(n){switch(n.label){case 0:return(e=Ws(t)).Oh.add(4),[4,bd(e)];case 1:return n.sent(),e.Mh.set("Unknown"),e.Oh.delete(4),[4,gd(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Mh=new pd(n,i)};function gd(t){return Object(Fs.b)(this,void 0,void 0,(function(){var e,n;return Object(Fs.d)(this,(function(i){switch(i.label){case 0:if(!xd(t))return[3,4];e=0,n=t.Fh,i.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:i.sent(),i.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function bd(t){return Object(Fs.b)(this,void 0,void 0,(function(){var e,n;return Object(Fs.d)(this,(function(i){switch(i.label){case 0:e=0,n=t.Fh,i.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:i.sent(),i.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function yd(t,e){var n=Ws(t);n.Nh.has(e.targetId)||(n.Nh.set(e.targetId,e),Cd(n)?Ed(n):Vd(n).Ju()&&vd(n,e))}function _d(t,e){var n=Ws(t),i=Vd(n);n.Nh.delete(e),i.Ju()&&wd(n,e),0===n.Nh.size&&(i.Ju()?i.Zu():xd(n)&&n.Mh.set("Unknown"))}function vd(t,e){t.Lh.cn(e.targetId),Vd(t).hh(e)}function wd(t,e){t.Lh.cn(e),Vd(t).lh(e)}function Ed(t){t.Lh=new $c({Sn:function(e){return t.Ch.Sn(e)},Dn:function(e){return t.Nh.get(e)||null}}),Vd(t).start(),t.Mh.yh()}function Cd(t){return xd(t)&&!Vd(t).Hu()&&t.Nh.size>0}function xd(t){return 0===Ws(t).Oh.size}function Sd(t){t.Lh=void 0}function Od(t){return Object(Fs.b)(this,void 0,void 0,(function(){return Object(Fs.d)(this,(function(e){return t.Nh.forEach((function(e,n){vd(t,e)})),[2]}))}))}function Id(t,e){return Object(Fs.b)(this,void 0,void 0,(function(){return Object(Fs.d)(this,(function(n){return Sd(t),Cd(t)?(t.Mh.ph(e),Ed(t)):t.Mh.set("Unknown"),[2]}))}))}function Td(t,e,n){return Object(Fs.b)(this,void 0,void 0,(function(){var i,r,s;return Object(Fs.d)(this,(function(o){switch(o.label){case 0:if(t.Mh.set("Online"),!(e instanceof Wc&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return Object(Fs.b)(this,void 0,void 0,(function(){var n,i,r,s;return Object(Fs.d)(this,(function(o){switch(o.label){case 0:n=e.cause,i=0,r=e.targetIds,o.label=1;case 1:return i<r.length?t.Nh.has(s=r[i])?[4,t.Ch.$h(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.Nh.delete(s),t.Lh.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return i++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return o.sent(),[3,5];case 3:return i=o.sent(),Hs("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),[4,kd(t,i)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Gc?t.Lh.wn(e):e instanceof Qc?t.Lh.yn(e):t.Lh.In(e),n.isEqual(yo.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,Ch(t.Sh)];case 8:return r=o.sent(),n.u(r)>=0?[4,function(t,e){var n=t.Lh.pn(e);return n.Fe.forEach((function(n,i){if(n.resumeToken.o()>0){var r=t.Nh.get(i);r&&t.Nh.set(i,r.$t(n.resumeToken,e))}})),n.ke.forEach((function(e){var n=t.Nh.get(e);if(n){t.Nh.set(e,n.$t(Js.h,n.Mt)),wd(t,e);var i=new Va(n.target,e,1,n.sequenceNumber);vd(t,i)}})),t.Ch.Bh(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return Hs("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,kd(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}}))}))}function kd(t,e,n){return Object(Fs.b)(this,void 0,void 0,(function(){var i=this;return Object(Fs.d)(this,(function(r){switch(r.label){case 0:if(!Lu(e))throw e;return t.Oh.add(1),[4,bd(t)];case 1:return r.sent(),t.Mh.set("Offline"),n||(n=function(){return Ch(t.Sh)}),t.fs.bo((function(){return Object(Fs.b)(i,void 0,void 0,(function(){return Object(Fs.d)(this,(function(e){switch(e.label){case 0:return Hs("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Oh.delete(1),[4,gd(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Ad(t,e){return e().catch((function(n){return kd(t,n,e)}))}function Dd(t){return Object(Fs.b)(this,void 0,void 0,(function(){var e,n,i,r,s;return Object(Fs.d)(this,(function(o){switch(o.label){case 0:e=Ws(t),n=Bd(e),i=e.xh.length>0?e.xh[e.xh.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return xd(t)&&t.xh.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,Oh(e.Sh,i)];case 3:return null===(r=o.sent())?(0===e.xh.length&&n.Zu(),[3,7]):(i=r.batchId,function(t,e){t.xh.push(e);var n=Bd(t);n.Ju()&&n.fh&&n.dh(e.mutations)}(e,r),[3,6]);case 4:return s=o.sent(),[4,kd(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return Pd(e)&&jd(e),[2]}}))}))}function Pd(t){return xd(t)&&!Bd(t).Hu()&&t.xh.length>0}function jd(t){Bd(t).start()}function Nd(t){return Object(Fs.b)(this,void 0,void 0,(function(){return Object(Fs.d)(this,(function(e){return Bd(t).Th(),[2]}))}))}function Rd(t){return Object(Fs.b)(this,void 0,void 0,(function(){var e,n,i;return Object(Fs.d)(this,(function(r){for(e=Bd(t),n=0,i=t.xh;n<i.length;n++)e.dh(i[n].mutations);return[2]}))}))}function Ld(t,e,n){return Object(Fs.b)(this,void 0,void 0,(function(){var i,r;return Object(Fs.d)(this,(function(s){switch(s.label){case 0:return i=t.xh.shift(),r=ml.from(i,e,n),[4,Ad(t,(function(){return t.Ch.qh(r)}))];case 1:return s.sent(),[4,Dd(t)];case 2:return s.sent(),[2]}}))}))}function Md(t,e){return Object(Fs.b)(this,void 0,void 0,(function(){return Object(Fs.d)(this,(function(n){switch(n.label){case 0:return e&&Bd(t).fh?[4,function(t,e){return Object(Fs.b)(this,void 0,void 0,(function(){var n,i;return Object(Fs.d)(this,(function(r){switch(r.label){case 0:return Ec(i=e.code)&&i!==to.ABORTED?(n=t.xh.shift(),Bd(t).Xu(),[4,Ad(t,(function(){return t.Ch.Uh(n.batchId,e)}))]):[3,3];case 1:return r.sent(),[4,Dd(t)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Pd(t)&&jd(t),[2]}}))}))}function Fd(t,e){return Object(Fs.b)(this,void 0,void 0,(function(){var n;return Object(Fs.d)(this,(function(i){switch(i.label){case 0:return n=Ws(t),e?(n.Oh.delete(2),[4,gd(n)]):[3,2];case 1:return i.sent(),[3,5];case 2:return e?[3,4]:(n.Oh.add(2),[4,bd(n)]);case 3:i.sent(),n.Mh.set("Unknown"),i.label=4;case 4:i.label=5;case 5:return[2]}}))}))}function Vd(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var i=Ws(t);return i.mh(),new hd(e,i.Ku,i.credentials,i.Kt,n)}(t.Dh,t.fs,{Eu:Od.bind(null,t),Iu:Id.bind(null,t),uh:Td.bind(null,t)}),t.Fh.push((function(n){return Object(Fs.b)(e,void 0,void 0,(function(){return Object(Fs.d)(this,(function(e){switch(e.label){case 0:return n?(t.Qh.Xu(),Cd(t)?Ed(t):t.Mh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Qh.stop()];case 2:e.sent(),Sd(t),e.label=3;case 3:return[2]}}))}))}))),t.Qh}function Bd(t){var e=this;return t.Kh||(t.Kh=function(t,e,n){var i=Ws(t);return i.mh(),new dd(e,i.Ku,i.credentials,i.Kt,n)}(t.Dh,t.fs,{Eu:Nd.bind(null,t),Iu:Md.bind(null,t),Eh:Rd.bind(null,t),wh:Ld.bind(null,t)}),t.Fh.push((function(n){return Object(Fs.b)(e,void 0,void 0,(function(){return Object(Fs.d)(this,(function(e){switch(e.label){case 0:return n?(t.Kh.Xu(),[4,Dd(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kh.stop()];case 3:e.sent(),t.xh.length>0&&(Hs("RemoteStore","Stopping write stream with "+t.xh.length+" pending writes"),t.xh=[]),e.label=4;case 4:return[2]}}))}))}))),t.Kh}var Hd=function(){this.jh=void 0,this.listeners=[]},zd=function(){this.queries=new Ml((function(t){return Na(t)}),ja),this.onlineState="Unknown",this.Wh=new Set};function Ud(t,e){return Object(Fs.b)(this,void 0,void 0,(function(){var n,i,r,s,o,a,c;return Object(Fs.d)(this,(function(u){switch(u.label){case 0:if(n=Ws(t),r=!1,(s=n.queries.get(i=e.query))||(r=!0,s=new Hd),!r)return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),o=s,[4,n.Gh(i)];case 2:return o.jh=u.sent(),[3,4];case 3:return a=u.sent(),c=zu(a,"Initialization of query '"+Ra(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.queries.set(i,s),s.listeners.push(e),e.zh(n.onlineState),s.jh&&e.Hh(s.jh)&&Wd(n),[2]}}))}))}function qd(t,e){return Object(Fs.b)(this,void 0,void 0,(function(){var n,i,r,s,o;return Object(Fs.d)(this,(function(a){return n=Ws(t),r=!1,(s=n.queries.get(i=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),r=0===s.listeners.length),r?[2,(n.queries.delete(i),n.Jh(i))]:[2]}))}))}function Gd(t,e){for(var n=Ws(t),i=!1,r=0,s=e;r<s.length;r++){var o=s[r],a=n.queries.get(o.query);if(a){for(var c=0,u=a.listeners;c<u.length;c++)u[c].Hh(o)&&(i=!0);a.jh=o}}i&&Wd(n)}function Qd(t,e,n){var i=Ws(t),r=i.queries.get(e);if(r)for(var s=0,o=r.listeners;s<o.length;s++)o[s].onError(n);i.queries.delete(e)}function Wd(t){t.Wh.forEach((function(t){t.next()}))}var Kd=function(){function t(t,e,n){this.query=t,this.Yh=e,this.Xh=!1,this.Zh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,i=t.docChanges;n<i.length;n++){var r=i[n];3!==r.type&&e.push(r)}t=new zc(t.query,t.docs,t.De,e,t.Ce,t.fromCache,t.xe,!0)}var s=!1;return this.Xh?this.tl(t)&&(this.Yh.next(t),s=!0):this.el(t,this.onlineState)&&(this.nl(t),s=!0),this.Zh=t,s},t.prototype.onError=function(t){this.Yh.error(t)},t.prototype.zh=function(t){this.onlineState=t;var e=!1;return this.Zh&&!this.Xh&&this.el(this.Zh,t)&&(this.nl(this.Zh),e=!0),e},t.prototype.el=function(t,e){return!t.fromCache||!(this.options.sl&&"Offline"!==e||t.docs.nt()&&"Offline"!==e)},t.prototype.tl=function(t){return t.docChanges.length>0||!!(t.xe||this.Zh&&this.Zh.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.nl=function(t){t=zc.Oe(t.query,t.docs,t.Ce,t.fromCache),this.Xh=!0,this.Yh.next(t)},t}(),$d=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.il=function(){return"metadata"in this.payload},t}(),Xd=function(){function t(t){this.Kt=t}return t.prototype.yc=function(t){return cu(this.Kt,t)},t.prototype.gc=function(t){return t.metadata.exists?pu(this.Kt,t.document,!1):new ta(this.yc(t.metadata.name),this.Vc(t.metadata.readTime))},t.prototype.Vc=function(t){return ru(t)},t}();!function(){function t(t,e,n){this.rl=t,this.Sh=e,this.Kt=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.ol=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.cl=function(t){for(var e=new Map,n=new Xd(this.Kt),i=0,r=t;i<r.length;i++){var s=r[i];if(s.metadata.queries)for(var o=n.yc(s.metadata.name),a=0,c=s.metadata.queries;a<c.length;a++){var u=c[a],l=(e.get(u)||Mc()).add(o);e.set(u,l)}}return e},t.prototype.complete=function(){return Object(Fs.b)(this,void 0,void 0,(function(){var t,e,n,i,r;return Object(Fs.d)(this,(function(s){switch(s.label){case 0:return[4,jh(this.Sh,new Xd(this.Kt),this.documents,this.rl.id)];case 1:t=s.sent(),e=this.cl(this.documents),n=0,i=this.queries,s.label=2;case 2:return n<i.length?[4,Nh(this.Sh,r=i[n],e.get(r.name))]:[3,5];case 3:s.sent(),s.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new mh(Object.assign({},this.progress),t))]}}))}))}}();var Yd=function(t){this.key=t},Zd=function(t){this.key=t},Jd=function(){function t(t,e){this.query=t,this.al=e,this.ul=null,this.qe=!1,this.hl=Mc(),this.Ce=Mc(),this.ll=Ma(t),this._l=new Bc(this.ll)}return Object.defineProperty(t.prototype,"fl",{get:function(){return this.al},enumerable:!1,configurable:!0}),t.prototype.dl=function(t,e){var n=this,i=e?e.wl:new Hc,r=e?e._l:this._l,s=e?e.Ce:this.Ce,o=r,a=!1,c=Sa(this.query)&&r.size===this.query.limit?r.last():null,u=Oa(this.query)&&r.size===this.query.limit?r.first():null;if(t.Zt((function(t,e){var l=r.get(t),h=e instanceof Jo?e:null;h&&(h=La(n.query,h)?h:null);var d=!!l&&n.Ce.has(l.key),f=!!h&&(h.bt||n.Ce.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?d!==f&&(i.track({type:3,doc:h}),p=!0):n.El(l,h)||(i.track({type:2,doc:h}),p=!0,(c&&n.ll(h,c)>0||u&&n.ll(h,u)<0)&&(a=!0)):!l&&h?(i.track({type:0,doc:h}),p=!0):l&&!h&&(i.track({type:1,doc:l}),p=!0,(c||u)&&(a=!0)),p&&(h?(o=o.add(h),s=f?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))})),Sa(this.query)||Oa(this.query))for(;o.size>this.query.limit;){var l=Sa(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),i.track({type:1,doc:l})}return{_l:o,wl:i,_c:a,Ce:s}},t.prototype.El=function(t,e){return t.bt&&e.hasCommittedMutations&&!e.bt},t.prototype.Ei=function(t,e,n){var i=this,r=this._l;this._l=t._l,this.Ce=t.Ce;var s=t.wl.Se();s.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Gs()}};return n(t)-n(e)}(t.type,e.type)||i.ll(t.doc,e.doc)})),this.Tl(n);var o=e?this.Il():[],a=0===this.hl.size&&this.qe?1:0,c=a!==this.ul;return this.ul=a,0!==s.length||c?{snapshot:new zc(this.query,t._l,r,s,t.Ce,0===a,c,!1),ml:o}:{ml:o}},t.prototype.zh=function(t){return this.qe&&"Offline"===t?(this.qe=!1,this.Ei({_l:this._l,wl:new Hc,Ce:this.Ce,_c:!1},!1)):{ml:[]}},t.prototype.Al=function(t){return!this.al.has(t)&&!!this._l.has(t)&&!this._l.get(t).bt},t.prototype.Tl=function(t){var e=this;t&&(t.Ue.forEach((function(t){return e.al=e.al.add(t)})),t.Qe.forEach((function(t){})),t.Ke.forEach((function(t){return e.al=e.al.delete(t)})),this.qe=t.qe)},t.prototype.Il=function(){var t=this;if(!this.qe)return[];var e=this.hl;this.hl=Mc(),this._l.forEach((function(e){t.Al(e.key)&&(t.hl=t.hl.add(e.key))}));var n=[];return e.forEach((function(e){t.hl.has(e)||n.push(new Zd(e))})),this.hl.forEach((function(t){e.has(t)||n.push(new Yd(t))})),n},t.prototype.Rl=function(t){this.al=t.Pc,this.hl=Mc();var e=this.dl(t.documents);return this.Ei(e,!0)},t.prototype.Pl=function(){return zc.Oe(this.query,this._l,this.Ce,0===this.ul)},t}(),tf=function(t,e,n){this.query=t,this.targetId=e,this.view=n},ef=function(t){this.key=t,this.yl=!1},nf=function(){function t(t,e,n,i,r,s){this.Sh=t,this.gl=e,this.Vl=n,this.pl=i,this.currentUser=r,this.bl=s,this.vl={},this.Sl=new Ml((function(t){return Na(t)}),ja),this.Dl=new Map,this.Cl=[],this.xl=new xc(Co.J),this.Nl=new Map,this.Ol=new Lh,this.Fl={},this.kl=new Map,this.Ml=Ql.Bi(),this.onlineState="Unknown",this.Ll=void 0}return Object.defineProperty(t.prototype,"$l",{get:function(){return!0===this.Ll},enumerable:!1,configurable:!0}),t}();function rf(t,e){return Object(Fs.b)(this,void 0,void 0,(function(){var n,i,r,s,o;return Object(Fs.d)(this,(function(a){switch(a.label){case 0:return n=jf(t),(r=n.Sl.get(e))?(n.pl.ka(r.targetId),i=r.view.Pl(),[3,4]):[3,1];case 1:return[4,Ih(n.Sh,Da(e))];case 2:return s=a.sent(),o=n.pl.ka(s.targetId),[4,sf(n,e,s.targetId,"current"===o)];case 3:i=a.sent(),n.$l&&yd(n.gl,s),a.label=4;case 4:return[2,i]}}))}))}function sf(t,e,n,i){return Object(Fs.b)(this,void 0,void 0,(function(){var r,s,o,a,c,u;return Object(Fs.d)(this,(function(l){switch(l.label){case 0:return t.Bl=function(e,n,i){return function(t,e,n,i){return Object(Fs.b)(this,void 0,void 0,(function(){var r,s,o;return Object(Fs.d)(this,(function(a){switch(a.label){case 0:return(r=e.view.dl(n))._c?[4,kh(t.Sh,e.query,!1).then((function(t){return e.view.dl(t.documents,r)}))]:[3,2];case 1:r=a.sent(),a.label=2;case 2:return s=i&&i.Fe.get(e.targetId),o=e.view.Ei(r,t.$l,s),[2,(yf(t,e.targetId,o.ml),o.snapshot)]}}))}))}(t,e,n,i)},[4,kh(t.Sh,e,!0)];case 1:return r=l.sent(),s=new Jd(e,r.Pc),o=s.dl(r.documents),a=qc.Be(n,i&&"Offline"!==t.onlineState),c=s.Ei(o,t.$l,a),yf(t,n,c.ml),u=new tf(e,n,s),[2,(t.Sl.set(e,u),t.Dl.has(n)?t.Dl.get(n).push(e):t.Dl.set(n,[e]),c.snapshot)]}}))}))}function of(t,e){return Object(Fs.b)(this,void 0,void 0,(function(){var n,i,r;return Object(Fs.d)(this,(function(s){switch(s.label){case 0:return n=Ws(t),i=n.Sl.get(e),(r=n.Dl.get(i.targetId)).length>1?[2,(n.Dl.set(i.targetId,r.filter((function(t){return!ja(t,e)}))),void n.Sl.delete(e))]:n.$l?(n.pl.La(i.targetId),n.pl.Ca(i.targetId)?[3,2]:[4,Th(n.Sh,i.targetId,!1).then((function(){n.pl.Ba(i.targetId),_d(n.gl,i.targetId),gf(n,i.targetId)})).catch(Ll)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return gf(n,i.targetId),[4,Th(n.Sh,i.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}}))}))}function af(t,e,n){return Object(Fs.b)(this,void 0,void 0,(function(){var i,r,s,o;return Object(Fs.d)(this,(function(a){switch(a.label){case 0:i=Nf(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,i=Ws(t),r=bo.now(),s=e.reduce((function(t,e){return t.add(e.key)}),Mc());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return i.Ic.Zo(t,s).next((function(s){n=s;for(var o=[],a=0,c=e;a<c.length;a++){var u=c[a],l=cc(u,n.get(u.key));null!=l&&o.push(new dc(u.key,l,Yo(l.proto.mapValue),ic.exists(!0)))}return i.Ho.Pi(t,r,o,e)}))})).then((function(t){var e=t.Ns(n);return{batchId:t.batchId,oi:e}}))}(i.Sh,e)];case 2:return r=a.sent(),i.pl.xa(r.batchId),function(t,e,n){var i=t.Fl[t.currentUser.R()];i||(i=new xc(Xs)),i=i.Ht(e,n),t.Fl[t.currentUser.R()]=i}(i,r.batchId,n),[4,wf(i,r.oi)];case 3:return a.sent(),[4,Dd(i.gl)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=zu(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}}))}))}function cf(t,e){return Object(Fs.b)(this,void 0,void 0,(function(){var n,i;return Object(Fs.d)(this,(function(r){switch(r.label){case 0:n=Ws(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,xh(n.Sh,e)];case 2:return i=r.sent(),e.Fe.forEach((function(t,e){var i=n.Nl.get(e);i&&(Qs(t.Ue.size+t.Qe.size+t.Ke.size<=1),t.Ue.size>0?i.yl=!0:t.Qe.size>0?Qs(i.yl):t.Ke.size>0&&(Qs(i.yl),i.yl=!1))})),[4,wf(n,i,e)];case 3:return r.sent(),[3,6];case 4:return[4,Ll(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function uf(t,e,n){var i=Ws(t);if(i.$l&&0===n||!i.$l&&1===n){var r=[];i.Sl.forEach((function(t,n){var i=n.view.zh(e);i.snapshot&&r.push(i.snapshot)})),function(t,e){var n=Ws(t);n.onlineState=e;var i=!1;n.queries.forEach((function(t,n){for(var r=0,s=n.listeners;r<s.length;r++)s[r].zh(e)&&(i=!0)})),i&&Wd(n)}(i.Vl,e),r.length&&i.vl.uh(r),i.onlineState=e,i.$l&&i.pl.Ka(e)}}function lf(t,e,n){return Object(Fs.b)(this,void 0,void 0,(function(){var i,r,s,o,a,c;return Object(Fs.d)(this,(function(u){switch(u.label){case 0:return(i=Ws(t)).pl.qa(e,"rejected",n),r=i.Nl.get(e),(s=r&&r.key)?(o=(o=new xc(Co.J)).Ht(s,new ta(s,yo.min())),a=Mc().add(s),c=new Uc(yo.min(),new Map,new Ic(Xs),o,a),[4,cf(i,c)]):[3,2];case 1:return u.sent(),i.xl=i.xl.remove(s),i.Nl.delete(e),vf(i),[3,4];case 2:return[4,Th(i.Sh,e,!1).then((function(){return gf(i,e,n)})).catch(Ll)];case 3:u.sent(),u.label=4;case 4:return[2]}}))}))}function hf(t,e){return Object(Fs.b)(this,void 0,void 0,(function(){var n,i,r;return Object(Fs.d)(this,(function(s){switch(s.label){case 0:n=Ws(t),i=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,Eh(n.Sh,e)];case 2:return r=s.sent(),mf(n,i,null),pf(n,i),n.pl.Oa(i,"acknowledged"),[4,wf(n,r)];case 3:return s.sent(),[3,6];case 4:return[4,Ll(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}}))}))}function df(t,e,n){return Object(Fs.b)(this,void 0,void 0,(function(){var i,r;return Object(Fs.d)(this,(function(s){switch(s.label){case 0:i=Ws(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=Ws(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var i;return n.Ho.yi(t,e).next((function(e){return Qs(null!==e),i=e.keys(),n.Ho.xi(t,e)})).next((function(){return n.Ho.Fi(t)})).next((function(){return n.Ic.Zo(t,i)}))}))}(i.Sh,e)];case 2:return r=s.sent(),mf(i,e,n),pf(i,e),i.pl.Oa(e,"rejected",n),[4,wf(i,r)];case 3:return s.sent(),[3,6];case 4:return[4,Ll(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}}))}))}function ff(t,e){return Object(Fs.b)(this,void 0,void 0,(function(){var n,i,r,s,o;return Object(Fs.d)(this,(function(a){switch(a.label){case 0:xd((n=Ws(t)).gl)||Hs("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Ws(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.Ho.pi(t)}))}(n.Sh)];case 2:return-1===(i=a.sent())?[2,void e.resolve()]:((r=n.kl.get(i)||[]).push(e),n.kl.set(i,r),[3,4]);case 3:return s=a.sent(),o=zu(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}}))}))}function pf(t,e){(t.kl.get(e)||[]).forEach((function(t){t.resolve()})),t.kl.delete(e)}function mf(t,e,n){var i=Ws(t),r=i.Fl[i.currentUser.R()];if(r){var s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.Fl[i.currentUser.R()]=r}}function gf(t,e,n){void 0===n&&(n=null),t.pl.La(e);for(var i=0,r=t.Dl.get(e);i<r.length;i++){var s=r[i];t.Sl.delete(s),n&&t.vl.ql(s,n)}t.Dl.delete(e),t.$l&&t.Ol.kc(e).forEach((function(e){t.Ol.ki(e)||bf(t,e)}))}function bf(t,e){var n=t.xl.get(e);null!==n&&(_d(t.gl,n),t.xl=t.xl.remove(e),t.Nl.delete(n),vf(t))}function yf(t,e,n){for(var i=0,r=n;i<r.length;i++){var s=r[i];s instanceof Yd?(t.Ol.sr(s.key,e),_f(t,s)):s instanceof Zd?(Hs("SyncEngine","Document no longer in limbo: "+s.key),t.Ol.rr(s.key,e),t.Ol.ki(s.key)||bf(t,s.key)):Gs()}}function _f(t,e){var n=e.key;t.xl.get(n)||(Hs("SyncEngine","New document in limbo: "+n),t.Cl.push(n),vf(t))}function vf(t){for(;t.Cl.length>0&&t.xl.size<t.bl;){var e=t.Cl.shift(),n=t.Ml.next();t.Nl.set(n,new ef(e)),t.xl=t.xl.Ht(e,n),yd(t.gl,new Va(Da(xa(e.path)),n,2,go.U))}}function wf(t,e,n){return Object(Fs.b)(this,void 0,void 0,(function(){var i,r,s,o;return Object(Fs.d)(this,(function(a){switch(a.label){case 0:return i=Ws(t),r=[],s=[],o=[],i.Sl.nt()?[3,3]:(i.Sl.forEach((function(t,a){o.push(i.Bl(a,e,n).then((function(t){if(t){i.$l&&i.pl.qa(a.targetId,t.fromCache?"not-current":"current"),r.push(t);var e=bh.cc(a.targetId,t);s.push(e)}})))})),[4,Promise.all(o)]);case 1:return a.sent(),i.vl.uh(r),[4,function(t,e){return Object(Fs.b)(this,void 0,void 0,(function(){var n,i,r,s,o,a,c,u;return Object(Fs.d)(this,(function(l){switch(l.label){case 0:n=Ws(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return Du.forEach(e,(function(e){return Du.forEach(e.rc,(function(i){return n.persistence.Ii.sr(t,e.targetId,i)})).next((function(){return Du.forEach(e.oc,(function(i){return n.persistence.Ii.rr(t,e.targetId,i)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!Lu(i=l.sent()))throw i;return Hs("LocalStore","Failed to update sequence numbers: "+i),[3,4];case 4:for(r=0,s=e;r<s.length;r++)a=(o=s[r]).targetId,o.fromCache||(c=n.dc.get(a),u=c.Bt(c.Mt),n.dc=n.dc.Ht(a,u));return[2]}}))}))}(i.Sh,s)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function Ef(t,e){return Object(Fs.b)(this,void 0,void 0,(function(){var n,i;return Object(Fs.d)(this,(function(r){switch(r.label){case 0:return(n=Ws(t)).currentUser.isEqual(e)?[3,3]:(Hs("SyncEngine","User change. New user:",e.R()),[4,wh(n.Sh,e)]);case 1:return i=r.sent(),n.currentUser=e,function(t,e){t.kl.forEach((function(t){t.forEach((function(t){t.reject(new eo(to.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.kl.clear()}(n),n.pl.Qa(e,i.Ac,i.Rc),[4,wf(n,i.mc)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))}function Cf(t,e){var n=Ws(t),i=n.Nl.get(e);if(i&&i.yl)return Mc().add(i.key);var r=Mc(),s=n.Dl.get(e);if(!s)return r;for(var o=0,a=s;o<a.length;o++){var c=n.Sl.get(a[o]);r=r.ye(c.view.fl)}return r}function xf(t,e){return Object(Fs.b)(this,void 0,void 0,(function(){var n,i,r;return Object(Fs.d)(this,(function(s){switch(s.label){case 0:return[4,kh((n=Ws(t)).Sh,e.query,!0)];case 1:return i=s.sent(),r=e.view.Rl(i),[2,(n.$l&&yf(n,e.targetId,r.ml),r)]}}))}))}function Sf(t){return Object(Fs.b)(this,void 0,void 0,(function(){var e;return Object(Fs.d)(this,(function(n){return[2,Dh((e=Ws(t)).Sh).then((function(t){return wf(e,t)}))]}))}))}function Of(t,e,n,i){return Object(Fs.b)(this,void 0,void 0,(function(){var r,s;return Object(Fs.d)(this,(function(o){switch(o.label){case 0:return[4,function(t,e){var n=Ws(t),i=Ws(n.Ho);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return i.gi(t,e).next((function(e){return e?n.Ic.Zo(t,e):Du.resolve(null)}))}))}((r=Ws(t)).Sh,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,Dd(r.gl)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(mf(r,e,i||null),pf(r,e),function(t,e){Ws(Ws(t).Ho).Ni(e)}(r.Sh,e)):Gs(),o.label=4;case 4:return[4,wf(r,s)];case 5:return o.sent(),[3,7];case 6:Hs("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}}))}))}function If(t,e){return Object(Fs.b)(this,void 0,void 0,(function(){var n,i,r,s,o,a,c;return Object(Fs.d)(this,(function(u){switch(u.label){case 0:return jf(n=Ws(t)),Nf(n),!0!==e||!0===n.Ll?[3,3]:(i=n.pl.Sa(),[4,Tf(n,i.rt())]);case 1:return r=u.sent(),n.Ll=!0,[4,Fd(n.gl,!0)];case 2:for(u.sent(),s=0,o=r;s<o.length;s++)yd(n.gl,o[s]);return[3,7];case 3:return!1!==e||!1===n.Ll?[3,7]:(a=[],c=Promise.resolve(),n.Dl.forEach((function(t,e){n.pl.$a(e)?a.push(e):c=c.then((function(){return gf(n,e),Th(n.Sh,e,!0)})),_d(n.gl,e)})),[4,c]);case 4:return u.sent(),[4,Tf(n,a)];case 5:return u.sent(),function(t){var e=Ws(t);e.Nl.forEach((function(t,n){_d(e.gl,n)})),e.Ol.Mc(),e.Nl=new Map,e.xl=new xc(Co.J)}(n),n.Ll=!1,[4,Fd(n.gl,!1)];case 6:u.sent(),u.label=7;case 7:return[2]}}))}))}function Tf(t,e,n){return Object(Fs.b)(this,void 0,void 0,(function(){var n,i,r,s,o,a,c,u,l,h,d,f,p;return Object(Fs.d)(this,(function(m){switch(m.label){case 0:n=Ws(t),i=[],r=[],s=0,o=e,m.label=1;case 1:return s<o.length?(c=void 0,(u=n.Dl.get(a=o[s]))&&0!==u.length?[4,Ih(n.Sh,Da(u[0]))]:[3,7]):[3,13];case 2:c=m.sent(),l=0,h=u,m.label=3;case 3:return l<h.length?(d=n.Sl.get(h[l]),[4,xf(n,d)]):[3,6];case 4:(f=m.sent()).snapshot&&r.push(f.snapshot),m.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Ah(n.Sh,a)];case 8:return p=m.sent(),[4,Ih(n.Sh,p)];case 9:return c=m.sent(),[4,sf(n,kf(p),a,!1)];case 10:m.sent(),m.label=11;case 11:i.push(c),m.label=12;case 12:return s++,[3,1];case 13:return[2,(n.vl.uh(r),i)]}}))}))}function kf(t){return Ca(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Af(t){var e=Ws(t);return Ws(Ws(e.Sh).persistence).Qo()}function Df(t,e,n,i){return Object(Fs.b)(this,void 0,void 0,(function(){var r,s,o;return Object(Fs.d)(this,(function(a){switch(a.label){case 0:return(r=Ws(t)).Ll?(Hs("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!r.Dl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Dh(r.Sh)];case 3:return s=a.sent(),o=Uc.$e(e,"current"===n),[4,wf(r,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,Th(r.Sh,e,!0)];case 6:return a.sent(),gf(r,e,i),[3,8];case 7:Gs(),a.label=8;case 8:return[2]}}))}))}function Pf(t,e,n){return Object(Fs.b)(this,void 0,void 0,(function(){var i,r,s,o,a,c,u,l,h;return Object(Fs.d)(this,(function(d){switch(d.label){case 0:if(!(i=jf(t)).Ll)return[3,10];r=0,s=e,d.label=1;case 1:return r<s.length?i.Dl.has(o=s[r])?(Hs("SyncEngine","Adding an already active target "+o),[3,5]):[4,Ah(i.Sh,o)]:[3,6];case 2:return a=d.sent(),[4,Ih(i.Sh,a)];case 3:return c=d.sent(),[4,sf(i,kf(a),c.targetId,!1)];case 4:d.sent(),yd(i.gl,c),d.label=5;case 5:return r++,[3,1];case 6:u=function(t){return Object(Fs.d)(this,(function(e){switch(e.label){case 0:return i.Dl.has(t)?[4,Th(i.Sh,t,!1).then((function(){_d(i.gl,t),gf(i,t)})).catch(Ll)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,d.label=7;case 7:return l<h.length?[5,u(h[l])]:[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function jf(t){var e=Ws(t);return e.gl.Ch.Bh=cf.bind(null,e),e.gl.Ch.Sn=Cf.bind(null,e),e.gl.Ch.$h=lf.bind(null,e),e.vl.uh=Gd.bind(null,e.Vl),e.vl.ql=Qd.bind(null,e.Vl),e}function Nf(t){var e=Ws(t);return e.gl.Ch.qh=hf.bind(null,e),e.gl.Ch.Uh=df.bind(null,e),e}var Rf=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Fs.b)(this,void 0,void 0,(function(){return Object(Fs.d)(this,(function(e){switch(e.label){case 0:return this.Kt=cd(t.gu.T),this.pl=this.Wl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Sh=this.Jl(t),[2]}}))}))},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return vh(this.persistence,new yh,t.Yl,this.Kt)},t.prototype.Gl=function(t){return new zh(qh.ra,this.Kt)},t.prototype.Wl=function(t){return new td},t.prototype.terminate=function(){return Object(Fs.b)(this,void 0,void 0,(function(){return Object(Fs.d)(this,(function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.pl.Lo()];case 1:return t.sent(),[4,this.persistence.Lo()];case 2:return t.sent(),[2]}}))}))},t}(),Lf=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).Xl=e,r.cacheSizeBytes=n,r.forceOwnership=i,r.synchronizeTabs=!1,r}return Object(Fs.c)(e,t),e.prototype.initialize=function(e){return Object(Fs.b)(this,void 0,void 0,(function(){return Object(Fs.d)(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Ph(this.Sh)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,Nf(this.Xl.fa)];case 4:return n.sent(),[4,Dd(this.Xl.gl)];case 5:return n.sent(),[2]}}))}))},e.prototype.Jl=function(t){return vh(this.persistence,new yh,t.Yl,this.Kt)},e.prototype.Hl=function(t){return new Jl(this.persistence.Ii._r,t.fs)},e.prototype.Gl=function(t){var e=ph(t.gu.T,t.gu.persistenceKey),n=void 0!==this.cacheSizeBytes?Rl.Xs(this.cacheSizeBytes):Rl.ei;return new hh(this.synchronizeTabs,e,t.clientId,n,t.fs,od(),ad(),this.Kt,this.pl,!!this.forceOwnership)},e.prototype.Wl=function(t){return new td},e}(Rf),Mf=function(t){function e(e,n){var i=this;return(i=t.call(this,e,n,!1)||this).Xl=e,i.cacheSizeBytes=n,i.synchronizeTabs=!0,i}return Object(Fs.c)(e,t),e.prototype.initialize=function(e){return Object(Fs.b)(this,void 0,void 0,(function(){var n,i=this;return Object(Fs.d)(this,(function(r){switch(r.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return r.sent(),n=this.Xl.fa,this.pl instanceof Jh?(this.pl.fa={nu:Of.bind(null,n),su:Df.bind(null,n),iu:Pf.bind(null,n),Qo:Af.bind(null,n),eu:Sf.bind(null,n)},[4,this.pl.start()]):[3,3];case 2:r.sent(),r.label=3;case 3:return[4,this.persistence.Po((function(t){return Object(Fs.b)(i,void 0,void 0,(function(){return Object(Fs.d)(this,(function(e){switch(e.label){case 0:return[4,If(this.Xl.fa,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.Tr?this.zl.start(this.Sh):t||this.zl.stop()),[2]}}))}))}))];case 4:return r.sent(),[2]}}))}))},e.prototype.Wl=function(t){var e=od();if(!Jh.jn(e))throw new eo(to.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=ph(t.gu.T,t.gu.persistenceKey);return new Jh(e,t.fs,n,t.clientId,t.Yl)},e}(Lf),Ff=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Fs.b)(this,void 0,void 0,(function(){var n=this;return Object(Fs.d)(this,(function(i){switch(i.label){case 0:return this.Sh?[3,2]:(this.Sh=t.Sh,this.pl=t.pl,this.Dh=this.Zl(e),this.gl=this.t_(e),this.Vl=this.e_(e),this.fa=this.n_(e,!t.synchronizeTabs),this.pl.da=function(t){return uf(n.fa,t,1)},this.gl.Ch.s_=Ef.bind(null,this.fa),[4,Fd(this.gl,this.fa.$l)]);case 1:i.sent(),i.label=2;case 2:return[2]}}))}))},t.prototype.e_=function(t){return new zd},t.prototype.Zl=function(t){var e=cd(t.gu.T),n=new sd(t.gu);return function(t,e,n){return new fd(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,i,r,s,o=this;return e=this.Sh,n=this.Dh,i=t.fs,r=function(t){return uf(o.fa,t,0)},s=nd.jn()?new nd:new ed,new md(e,n,i,r,s)},t.prototype.n_=function(t,e){return function(t,e,n,i,r,s,o){var a=new nf(t,e,n,i,r,s);return o&&(a.Ll=!0),a}(this.Sh,this.gl,this.Vl,this.pl,t.Yl,t.bl,e)},t.prototype.terminate=function(){return function(t){return Object(Fs.b)(this,void 0,void 0,(function(){var e;return Object(Fs.d)(this,(function(n){switch(n.label){case 0:return e=Ws(t),Hs("RemoteStore","RemoteStore shutting down."),e.Oh.add(5),[4,bd(e)];case 1:return n.sent(),e.kh.Lo(),e.Mh.set("Unknown"),[2]}}))}))}(this.gl)},t}(),Vf=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),Bf=(function(){function t(t,e){var n=this;this.o_=t,this.Kt=e,this.metadata=new Au,this.buffer=new Uint8Array,this.c_=new TextDecoder("utf-8"),this.a_().then((function(t){t&&t.il()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}t.prototype.close=function(){return this.o_.cancel()},t.prototype.getMetadata=function(){return Object(Fs.b)(this,void 0,void 0,(function(){return Object(Fs.d)(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Kl=function(){return Object(Fs.b)(this,void 0,void 0,(function(){return Object(Fs.d)(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.a_())]}}))}))},t.prototype.a_=function(){return Object(Fs.b)(this,void 0,void 0,(function(){var t,e,n,i;return Object(Fs.d)(this,(function(r){switch(r.label){case 0:return[4,this.u_()];case 1:return null===(t=r.sent())?[2,null]:(e=this.c_.decode(t),n=Number(e),isNaN(n)&&this.h_("length string ("+e+") is not valid number"),[4,this.l_(n)]);case 2:return i=r.sent(),[2,new $d(JSON.parse(i),t.length+n)]}}))}))},t.prototype.__=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.u_=function(){return Object(Fs.b)(this,void 0,void 0,(function(){var t,e;return Object(Fs.d)(this,(function(n){switch(n.label){case 0:return this.__()<0?[4,this.f_()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.__())<0&&this.h_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.l_=function(t){return Object(Fs.b)(this,void 0,void 0,(function(){var e;return Object(Fs.d)(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.f_()]:[3,3];case 1:n.sent()&&this.h_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.c_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.h_=function(t){throw this.o_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.f_=function(){return Object(Fs.b)(this,void 0,void 0,(function(){var t,e;return Object(Fs.d)(this,(function(n){switch(n.label){case 0:return[4,this.o_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new eo(to.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.d_=new Eo(t)}return t.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},t}()),Hf=function(t){this._methodName=t};function zf(t,e,n){if(!n)throw new eo(to.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Uf(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new eo(to.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function qf(t,e,n,i){if(!0===e&&!0===i)throw new eo(to.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Gf(t){if(!Co.Et(t))throw new eo(to.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Qf(t){if(Co.Et(t))throw new eo(to.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Wf(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Gs()}function Kf(t,e){if("_delegate"in t&&(t=t._),!(t instanceof e)){if(e.name===t.constructor.name)throw new eo(to.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Wf(t);throw new eo(to.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function $f(t,e){if(e<=0)throw new eo(to.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Xf=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new eo(to.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new eo(to.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,qf("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Yf=new Map,Zf=function(){function t(t,e){this.w_="(lite)",this.E_=new Xf({}),this.T_=!1,t instanceof co?(this.I_=t,this.m_=new ho):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new eo(to.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new co(t.options.projectId)}(t),this.m_=new fo(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new eo(to.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new eo(to.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new Xf(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new ho;switch(t.type){case"gapi":var e=t.client;return Qs(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new mo(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new eo(to.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.b_=function(){return(t=Yf.get(this))&&(Hs("ComponentProvider","Removing Datastore"),Yf.delete(this),t.terminate()),Promise.resolve();var t},t}(),Jf=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new ep(this.firestore,this.v_,this.S_.path.Z())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),tp=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),ep=function(t){function e(e,n,i){var r=this;return(r=t.call(this,e,n,xa(i))||this).firestore=e,r.D_=i,r.type="collection",r}return Object(Fs.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.Z();return t.nt()?null:new Jf(this.firestore,null,new Co(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(tp);function np(t,e){for(var n,i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];if(t instanceof io&&(t=t._),zf("collection","path",e),t instanceof Zf)return Qf(n=vo.ct.apply(vo,Object(Fs.g)([e],i))),new ep(t,null,n);if(!(t instanceof Jf||t instanceof ep))throw new eo(to.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Qf(n=vo.ct.apply(vo,Object(Fs.g)([t.path],i)).child(vo.ct(e))),new ep(t.firestore,null,n)}function ip(t,e){for(var n,i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];if(t instanceof io&&(t=t._),1===arguments.length&&(e=$s.t()),zf("doc","path",e),t instanceof Zf)return Gf(n=vo.ct.apply(vo,Object(Fs.g)([e],i))),new Jf(t,null,new Co(n));if(!(t instanceof Jf||t instanceof ep))throw new eo(to.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Gf(n=t.D_.child(vo.ct.apply(vo,Object(Fs.g)([e],i)))),new Jf(t.firestore,t instanceof ep?t.v_:null,new Co(n))}function rp(t,e){return t instanceof io&&(t=t._),e instanceof io&&(e=e._),(t instanceof Jf||t instanceof ep)&&(e instanceof Jf||e instanceof ep)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function sp(t,e){return t instanceof io&&(t=t._),e instanceof io&&(e=e._),t instanceof tp&&e instanceof tp&&t.firestore===e.firestore&&ja(t.C_,e.C_)&&t.v_===e.v_}var op=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new eo(to.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new eo(to.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.K=function(t){return Xs(this.x_,t.x_)||Xs(this.N_,t.N_)},t}(),ap=/^__.*__$/,cp=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.O_=function(t,e){return null!==this.zt?new dc(t,this.data,this.zt,e,this.fieldTransforms):new hc(t,this.data,e,this.fieldTransforms)},t}(),up=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.O_=function(t,e){return new dc(t,this.data,this.zt,e,this.fieldTransforms)},t}();function lp(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Gs()}}var hp=function(){function t(t,e,n,i,r,s){this.settings=t,this.T=e,this.Kt=n,this.ignoreUndefinedProperties=i,void 0===r&&this.F_(),this.fieldTransforms=r||[],this.zt=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.T,this.Kt,this.ignoreUndefinedProperties,this.fieldTransforms,this.zt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.M_({path:n,B_:!1});return i.q_(t),i},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.M_({path:n,B_:!1});return i.F_(),i},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return Dp(t,this.settings.methodName,this.settings.j_||!1,this.path,this.settings.W_)},t.prototype.contains=function(t){return void 0!==this.zt.find((function(e){return t.st(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.st(e.field)}))},t.prototype.F_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(lp(this.k_)&&ap.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),dp=function(){function t(t,e,n){this.T=t,this.ignoreUndefinedProperties=e,this.Kt=n||cd(t)}return t.prototype.G_=function(t,e,n,i){return void 0===i&&(i=!1),new hp({k_:t,methodName:e,W_:n,path:Eo.at(),B_:!1,j_:i},this.T,this.Kt,this.ignoreUndefinedProperties)},t}();function fp(t){var e=t.p_(),n=cd(t.I_);return new dp(t.I_,!!e.ignoreUndefinedProperties,n)}function pp(t,e,n,i,r,s){void 0===s&&(s={});var o=t.G_(s.merge||s.mergeFields?2:0,e,n,r);Ip("Data must be an object, but it was:",o,i);var a,c,u=Sp(i,o);if(s.merge)a=new Io(o.zt),c=o.fieldTransforms;else if(s.mergeFields){for(var l=[],h=0,d=s.mergeFields;h<d.length;h++){var f=Tp(e,d[h],n);if(!o.contains(f))throw new eo(to.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");Pp(l,f)||l.push(f)}a=new Io(l),c=o.fieldTransforms.filter((function(t){return a.It(t.field)}))}else a=null,c=o.fieldTransforms;return new cp(new $o(u),a,c)}var mp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Fs.c)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.zt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Hf);function gp(t,e,n){return new hp({k_:3,W_:e.settings.W_,methodName:t._methodName,B_:n},e.T,e.Kt,e.ignoreUndefinedProperties)}var bp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Fs.c)(e,t),e.prototype.z_=function(t){return new ec(t.path,new Wa)},e.prototype.isEqual=function(t){return t instanceof e},e}(Hf),yp=function(t){function e(e,n){var i=this;return(i=t.call(this,e)||this).H_=n,i}return Object(Fs.c)(e,t),e.prototype.z_=function(t){var e=gp(this,t,!0),n=this.H_.map((function(t){return xp(t,e)})),i=new Ka(n);return new ec(t.path,i)},e.prototype.isEqual=function(t){return this===t},e}(Hf),_p=function(t){function e(e,n){var i=this;return(i=t.call(this,e)||this).H_=n,i}return Object(Fs.c)(e,t),e.prototype.z_=function(t){var e=gp(this,t,!0),n=this.H_.map((function(t){return xp(t,e)})),i=new Xa(n);return new ec(t.path,i)},e.prototype.isEqual=function(t){return this===t},e}(Hf),vp=function(t){function e(e,n){var i=this;return(i=t.call(this,e)||this).J_=n,i}return Object(Fs.c)(e,t),e.prototype.z_=function(t){var e=new Za(t.Kt,za(t.Kt,this.J_));return new ec(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Hf);function wp(t,e,n,i){var r=t.G_(1,e,n);Ip("Data must be an object, but it was:",r,i);var s=[],o=new Xo;So(i,(function(t,i){var a=Ap(e,t,n);i instanceof io&&(i=i._);var c=r.U_(a);if(i instanceof mp)s.push(a);else{var u=xp(i,c);null!=u&&(s.push(a),o.set(a,u))}}));var a=new Io(s);return new up(o.yt(),a,r.fieldTransforms)}function Ep(t,e,n,i,r,s){var o=t.G_(1,e,n),a=[Tp(e,i,n)],c=[r];if(s.length%2!=0)throw new eo(to.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var u=0;u<s.length;u+=2)a.push(Tp(e,s[u])),c.push(s[u+1]);for(var l=[],h=new Xo,d=a.length-1;d>=0;--d)if(!Pp(l,a[d])){var f=a[d],p=c[d];p instanceof io&&(p=p._);var m=o.U_(f);if(p instanceof mp)l.push(f);else{var g=xp(p,m);null!=g&&(l.push(f),h.set(f,g))}}var b=new Io(l);return new up(h.yt(),b,o.fieldTransforms)}function Cp(t,e,n,i){return void 0===i&&(i=!1),xp(n,t.G_(i?4:3,e))}function xp(t,e){if(t instanceof io&&(t=t._),Op(t))return Ip("Unsupported field value:",e,t),Sp(t,e);if(t instanceof Hf)return function(t,e){if(!lp(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.zt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],i=0,r=0,s=t;r<s.length;r++){var o=xp(s[r],e.Q_(i));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),i++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof io&&(t=t._),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return za(e.Kt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=bo.fromDate(t);return{timestampValue:eu(e.Kt,n)}}if(t instanceof bo)return n=new bo(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:eu(e.Kt,n)};if(t instanceof op)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof no)return{bytesValue:nu(e.Kt,t.l)};if(t instanceof Jf){var i=t.firestore.I_;if(!i.isEqual(n=e.T))throw e.K_("Document reference is for database "+i.projectId+"/"+i.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:su(t.firestore.I_||e.T,t.S_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.K_("Unsupported field value: "+Wf(t))}(t,e)}function Sp(t,e){var n={};return Oo(t)?e.path&&e.path.length>0&&e.zt.push(e.path):So(t,(function(t,i){var r=xp(i,e.L_(t));null!=r&&(n[t]=r)})),{mapValue:{fields:n}}}function Op(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof bo||t instanceof op||t instanceof no||t instanceof Jf||t instanceof Hf)}function Ip(t,e,n){if(!Op(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var i=Wf(n);throw e.K_("an object"===i?t+" a custom object":t+" "+i)}}function Tp(t,e,n){if(e instanceof io&&(e=e._),e instanceof Bf)return e.d_;if("string"==typeof e)return Ap(t,e);throw Dp("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var kp=new RegExp("[~\\*/\\[\\]]");function Ap(t,e,n){if(e.search(kp)>=0)throw Dp("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Bf.bind.apply(Bf,Object(Fs.g)([void 0],e.split("."))))).d_}catch(i){throw Dp("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Dp(t,e,n,i,r){var s=i&&!i.nt(),o=void 0!==r,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var c="";return(s||o)&&(c+=" (found",s&&(c+=" in field "+i),o&&(c+=" in document "+r),c+=")"),new eo(to.INVALID_ARGUMENT,(a+=". ")+t+c)}function Pp(t,e){return t.some((function(t){return t.isEqual(e)}))}var jp=function(){function t(t){this.Dh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(Fs.b)(this,void 0,void 0,(function(){var e,n=this;return Object(Fs.d)(this,(function(i){switch(i.label){case 0:if(this.nf(),this.mutations.length>0)throw new eo(to.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Fs.b)(this,void 0,void 0,(function(){var n,i,r,s,o,a;return Object(Fs.d)(this,(function(c){switch(c.label){case 0:return n=Ws(t),i=hu(n.Kt)+"/documents",r={documents:e.map((function(t){return au(n.Kt,t)}))},[4,n.Cu("BatchGetDocuments",i,r)];case 1:return s=c.sent(),o=new Map,s.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){Qs(!!e.found);var n=cu(t,e.found.name),i=ru(e.found.updateTime),r=new $o({mapValue:{fields:e.found.fields}});return new Jo(n,i,r,{})}(t,e):"missing"in e?function(t,e){Qs(!!e.missing),Qs(!!e.readTime);var n=cu(t,e.missing),i=ru(e.readTime);return new ta(n,i)}(t,e):Gs()}(n.Kt,t);o.set(e.key.toString(),e)})),a=[],[2,(e.forEach((function(t){var e=o.get(t.toString());Qs(!!e),a.push(e)})),a)]}}))}))}(this.Dh,t)];case 1:return[2,((e=i.sent()).forEach((function(t){t instanceof ta||t instanceof Jo?n.sf(t):Gs()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.O_(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.O_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new _c(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(Fs.b)(this,void 0,void 0,(function(){var t,e=this;return Object(Fs.d)(this,(function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var i=Co.ft(n);e.mutations.push(new vc(i,e.Gt(i)))})),[4,function(t,e){return Object(Fs.b)(this,void 0,void 0,(function(){var n,i,r;return Object(Fs.d)(this,(function(s){switch(s.label){case 0:return n=Ws(t),i=hu(n.Kt)+"/documents",r={writes:e.map((function(t){return mu(n.Kt,t)}))},[4,n.bu("Commit",i,r)];case 1:return s.sent(),[2]}}))}))}(this.Dh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}}))}))},t.prototype.sf=function(t){var e;if(t instanceof Jo)e=t.version;else{if(!(t instanceof ta))throw Gs();e=yo.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new eo(to.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.Gt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?ic.updateTime(e):ic.jt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(yo.min()))throw new eo(to.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ic.updateTime(e)}return ic.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),Np=function(){function t(t,e,n,i){this.fs=t,this.Dh=e,this.updateFunction=n,this.Ts=i,this.cf=5,this.zu=new ud(this.fs,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.zu.Bu((function(){return Object(Fs.b)(t,void 0,void 0,(function(){var t,e,n=this;return Object(Fs.d)(this,(function(i){return t=new jp(this.Dh),(e=this.uf(t))&&e.then((function(e){n.fs.ys((function(){return t.commit().then((function(){n.Ts.resolve(e)})).catch((function(t){n.hf(t)}))}))})).catch((function(t){n.hf(t)})),[2]}))}))}))},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!No(e)&&e.catch&&e.then?e:(this.Ts.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ts.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this.fs.ys((function(){return e.af(),Promise.resolve()}))):this.Ts.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Ec(e)}return!1},t}(),Rp=function(){function t(t,e,n){var i=this;this.credentials=t,this.fs=e,this.gu=n,this.user=uo.UNAUTHENTICATED,this.clientId=$s.t(),this._f=function(){},this.N=new Au,this.credentials.S((function(t){Hs("FirestoreClient","Received user=",t.uid),i.user=t,i._f(t),i.N.resolve()}))}return t.prototype.getConfiguration=function(){return Object(Fs.b)(this,void 0,void 0,(function(){return Object(Fs.d)(this,(function(t){switch(t.label){case 0:return[4,this.N.promise];case 1:return[2,(t.sent(),{fs:this.fs,gu:this.gu,clientId:this.clientId,credentials:this.credentials,Yl:this.user,bl:100})]}}))}))},t.prototype.ff=function(t){var e=this;this._f=t,this.N.promise.then((function(){return e._f(e.user)}))},t.prototype.df=function(){if(this.fs.wf)throw new eo(to.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.fs.Ef();var e=new Au;return this.fs.Tf((function(){return Object(Fs.b)(t,void 0,void 0,(function(){var t,n;return Object(Fs.d)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:i.sent(),i.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:i.sent(),i.label=4;case 4:return this.credentials.D(),e.resolve(),[3,6];case 5:return t=i.sent(),n=zu(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function Lp(t,e){return Object(Fs.b)(this,void 0,void 0,(function(){var n,i,r=this;return Object(Fs.d)(this,(function(s){switch(s.label){case 0:return t.fs.Af(),Hs("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),i=n.Yl,t.ff((function(n){i.isEqual(n)||(i=n,t.fs.bo((function(){return Object(Fs.b)(r,void 0,void 0,(function(){return Object(Fs.d)(this,(function(t){switch(t.label){case 0:return[4,wh(e.Sh,n)];case 1:return t.sent(),[2]}}))}))})))})),e.persistence.yo((function(){return t.terminate()})),t.mf=e,[2]}}))}))}function Mp(t,e){return Object(Fs.b)(this,void 0,void 0,(function(){var n,i;return Object(Fs.d)(this,(function(r){switch(r.label){case 0:return t.fs.Af(),[4,Fp(t)];case 1:return n=r.sent(),Hs("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return i=r.sent(),[4,e.initialize(n,i)];case 3:return r.sent(),t.ff((function(n){return t.fs.bo((function(){return function(t,e){return Object(Fs.b)(this,void 0,void 0,(function(){var n,i;return Object(Fs.d)(this,(function(r){switch(r.label){case 0:return(n=Ws(t)).fs.Af(),Hs("RemoteStore","RemoteStore received new credentials"),i=xd(n),n.Oh.add(3),[4,bd(n)];case 1:return r.sent(),i&&n.Mh.set("Unknown"),[4,n.Ch.s_(e)];case 2:return r.sent(),n.Oh.delete(3),[4,gd(n)];case 3:return r.sent(),[2]}}))}))}(e.gl,n)}))})),t.If=e,[2]}}))}))}function Fp(t){return Object(Fs.b)(this,void 0,void 0,(function(){return Object(Fs.d)(this,(function(e){switch(e.label){case 0:return t.mf?[3,2]:(Hs("FirestoreClient","Using default OfflineComponentProvider"),[4,Lp(t,new Rf)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}}))}))}function Vp(t){return Object(Fs.b)(this,void 0,void 0,(function(){return Object(Fs.d)(this,(function(e){switch(e.label){case 0:return t.If?[3,2]:(Hs("FirestoreClient","Using default OnlineComponentProvider"),[4,Mp(t,new Ff)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}}))}))}function Bp(t){return Fp(t).then((function(t){return t.persistence}))}function Hp(t){return Fp(t).then((function(t){return t.Sh}))}function zp(t){return Vp(t).then((function(t){return t.gl}))}function Up(t){return Vp(t).then((function(t){return t.fa}))}function qp(t){return Object(Fs.b)(this,void 0,void 0,(function(){var e,n;return Object(Fs.d)(this,(function(i){switch(i.label){case 0:return[4,Vp(t)];case 1:return e=i.sent(),[2,((n=e.Vl).Gh=rf.bind(null,e.fa),n.Jh=of.bind(null,e.fa),n)]}}))}))}function Gp(t,e,n){var i=this;void 0===n&&(n={});var r=new Au;return t.fs.ys((function(){return Object(Fs.b)(i,void 0,void 0,(function(){var i;return Object(Fs.d)(this,(function(s){switch(s.label){case 0:return i=function(t,e,n,i,r){var s=new Vf({next:function(s){e.ys((function(){return qd(t,o)}));var a=s.docs.has(n);!a&&s.fromCache?r.reject(new eo(to.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&i&&"server"===i.source?r.reject(new eo(to.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):r.resolve(s)},error:function(t){return r.reject(t)}}),o=new Kd(xa(n.path),s,{includeMetadataChanges:!0,sl:!0});return Ud(t,o)},[4,qp(t)];case 1:return[2,i.apply(void 0,[s.sent(),t.fs,e,n,r])]}}))}))})),r.promise}function Qp(t,e,n){var i=this;void 0===n&&(n={});var r=new Au;return t.fs.ys((function(){return Object(Fs.b)(i,void 0,void 0,(function(){var i;return Object(Fs.d)(this,(function(s){switch(s.label){case 0:return i=function(t,e,n,i,r){var s=new Vf({next:function(n){e.ys((function(){return qd(t,o)})),n.fromCache&&"server"===i.source?r.reject(new eo(to.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(n)},error:function(t){return r.reject(t)}}),o=new Kd(n,s,{includeMetadataChanges:!0,sl:!0});return Ud(t,o)},[4,qp(t)];case 1:return[2,i.apply(void 0,[s.sent(),t.fs,e,n,r])]}}))}))})),r.promise}var Wp=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.zu=new ud(this,"async_queue_retry"),this.vf=function(){var e=ad();e&&Hs("AsyncQueue","Visibility state changed to "+e.visibilityState),t.zu.Uu()};var e=ad();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.ys=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=ad();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise((function(t){})):this.Df(t)},t.prototype.bo=function(t){var e=this;this.ys((function(){return e.Pf.push(t),e.Cf()}))},t.prototype.Cf=function(){return Object(Fs.b)(this,void 0,void 0,(function(){var t,e=this;return Object(Fs.d)(this,(function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.zu.reset(),[3,4];case 3:if(!Lu(t=n.sent()))throw t;return Hs("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.zu.Bu((function(){return e.Cf()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Df=function(t){var e=this,n=this.Rf.then((function(){return e.pf=!0,t().catch((function(t){throw e.Vf=t,e.pf=!1,zs("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.pf=!1,t}))}));return this.Rf=n,n},t.prototype.Ir=function(t,e,n){var i=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var r=Hu.Is(this,t,e,n,(function(t){return i.xf(t)}));return this.gf.push(r),r},t.prototype.Sf=function(){this.Vf&&Gs()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(Fs.b)(this,void 0,void 0,(function(){var t;return Object(Fs.d)(this,(function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Of=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].ds===t)return!0;return!1},t.prototype.Ff=function(t){var e=this;return this.Nf().then((function(){e.gf.sort((function(t,e){return t.ws-e.ws}));for(var n=0,i=e.gf;n<i.length;n++){var r=i[n];if(r.Ps(),"all"!==t&&r.ds===t)break}return e.Nf()}))},t.prototype.kf=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}(),Kp=function(t){function e(e,n){var i=this;return(i=t.call(this,e,n)||this).Mf=new Wp,i.w_="name"in e?e.name:"[DEFAULT]",i}return Object(Fs.c)(e,t),e.prototype.b_=function(){return this.Lf||Xp(this),this.Lf.terminate()},e}(Zf);function $p(t){return t.Lf||Xp(t),t.Lf.df(),t.Lf}function Xp(t){var e=t.p_(),n=function(t,e,n){return new ao(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.Lf=new Rp(t.m_,t.Mf,n)}function Yp(t,e,n){var i=this,r=new Au;return t.fs.enqueue((function(){return Object(Fs.b)(i,void 0,void 0,(function(){var i;return Object(Fs.d)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,Lp(t,n)];case 1:return s.sent(),[4,Mp(t,e)];case 2:return s.sent(),r.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===to.FAILED_PRECONDITION||t.code===to.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(i=s.sent()))throw i;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i),[3,4];case 4:return[2]}}))}))})).then((function(){return r.promise}))}function Zp(t){if(t.R_||t.P_)throw new eo(to.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Jp=function(){function t(){}return t.prototype.$f=function(t,e){switch(void 0===e&&(e="none"),Mo(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ao(t.integerValue||t.doubleValue);case 3:return this.Bf(t.timestampValue);case 4:return this.qf(t,e);case 5:return t.stringValue;case 6:return this.Uf(Do(t.bytesValue));case 7:return this.Qf(t.referenceValue);case 8:return this.Kf(t.geoPointValue);case 9:return this.jf(t.arrayValue,e);case 10:return this.Wf(t.mapValue,e);default:throw Gs()}},t.prototype.Wf=function(t,e){var n=this,i={};return So(t.fields||{},(function(t,r){i[t]=n.$f(r,e)})),i},t.prototype.Kf=function(t){return new op(Ao(t.latitude),Ao(t.longitude))},t.prototype.jf=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.$f(t,e)}))},t.prototype.qf=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return Po(n)?t(n):n}(t);return null==n?null:this.$f(n,e);case"estimate":return this.Bf(jo(t));default:return null}},t.prototype.Bf=function(t){var e=ko(t);return new bo(e.seconds,e.nanos)},t.prototype.Gf=function(t,e){var n=vo.ct(t);Qs(ku(n));var i=new co(n.get(1),n.get(3)),r=new Co(n.X(5));return i.isEqual(e)||zs("Document "+r+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),r},t}(),tm=function(){function t(t,e,n,i,r){this.zf=t,this.Hf=e,this.S_=n,this.Jf=i,this.v_=r}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Jf(this.zf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Jf},t.prototype.data=function(){if(this.Jf){if(this.v_){var t=new em(this.zf,this.Hf,this.S_,this.Jf,null);return this.v_.fromFirestore(t)}return this.Hf.$f(this.Jf.vt())}},t.prototype.get=function(t){if(this.Jf){var e=this.Jf.data().field(nm("DocumentSnapshot.get",t));if(null!==e)return this.Hf.$f(e)}},t}(),em=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Fs.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(tm);function nm(t,e){return"string"==typeof e?Ap(t,e):e instanceof io?e._.d_:e.d_}function im(t){if(Oa(t)&&0===t.Nt.length)throw new eo(to.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var rm=function(){};function sm(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0,r=e;i<r.length;i++){var s=r[i];t=s.Yf(t)}return t}var om=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).Xf=e,r.Zf=n,r.td=i,r.type="where",r}return Object(Fs.c)(e,t),e.prototype.Yf=function(t){var e=fp(t.firestore),n=function(t,e,n,i,r,s,o){var a;if(r.ht()){if("array-contains"===s||"array-contains-any"===s)throw new eo(to.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){fm(o,s);for(var c=[],u=0,l=o;u<l.length;u++)c.push(dm(i,t,l[u]));a={arrayValue:{values:c}}}else a=dm(i,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||fm(o,s),a=Cp(n,"where",o,"in"===s||"not-in"===s);var h=aa.create(r,s,a);return function(t,e){if(e.xt()){var n=Ta(t);if(null!==n&&!n.isEqual(e.field))throw new eo(to.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var i=Ia(t);null!==i&&pm(0,e.field,i)}var r=function(t,e){for(var n=0,i=t.filters;n<i.length;n++){var r=i[n];if(e.indexOf(r.op)>=0)return r.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new eo(to.INVALID_ARGUMENT,r===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+r.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.I_,this.Xf,this.Zf,this.td);return new tp(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new Ea(t.path,t.collectionGroup,t.Nt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(rm),am=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).Xf=e,i.ed=n,i.type="orderBy",i}return Object(Fs.c)(e,t),e.prototype.Yf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new eo(to.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new eo(to.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var i=new ya(e,n);return function(t,e){if(null===Ia(t)){var n=Ta(t);null!==n&&pm(0,n,e.field)}}(t,i),i}(t.C_,this.Xf,this.ed);return new tp(t.firestore,t.v_,function(t,e){var n=t.Nt.concat([e]);return new Ea(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(rm),cm=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).type=e,r.nd=n,r.sd=i,r}return Object(Fs.c)(e,t),e.prototype.Yf=function(t){return new tp(t.firestore,t.v_,Pa(t.C_,this.nd,this.sd))},e}(rm),um=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).type=e,r.rd=n,r.od=i,r}return Object(Fs.c)(e,t),e.prototype.Yf=function(t){var e=hm(t,this.type,this.rd,this.od);return new tp(t.firestore,t.v_,function(t,e){return new Ea(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(rm),lm=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).type=e,r.rd=n,r.od=i,r}return Object(Fs.c)(e,t),e.prototype.Yf=function(t){var e=hm(t,this.type,this.rd,this.od);return new tp(t.firestore,t.v_,function(t,e){return new Ea(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(rm);function hm(t,e,n,i){if(n[0]instanceof io&&(n[0]=n[0]._),n[0]instanceof tm)return function(t,e,n,i,r){if(!i)throw new eo(to.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=Aa(t);o<a.length;o++){var c=a[o];if(c.field.ht())s.push(Uo(e,i.key));else{var u=i.field(c.field);if(Po(u))throw new eo(to.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===u){var l=c.field.ot();throw new eo(to.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}s.push(u)}}return new ga(s,r)}(t.C_,t.firestore.I_,e,n[0].Jf,i);var r=fp(t.firestore);return function(t,e,n,i,r,s){var o=t.Nt;if(r.length>o.length)throw new eo(to.INVALID_ARGUMENT,"Too many arguments provided to "+i+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],c=0;c<r.length;c++){var u=r[c];if(o[c].field.ht()){if("string"!=typeof u)throw new eo(to.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+i+"(), but got a "+typeof u);if(!ka(t)&&-1!==u.indexOf("/"))throw new eo(to.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+i+"() must be a plain document ID, but '"+u+"' contains a slash.");var l=t.path.child(vo.ct(u));if(!Co.Et(l))throw new eo(to.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+i+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Co(l);a.push(Uo(e,h))}else{var d=Cp(n,i,u);a.push(d)}}return new ga(a,s)}(t.C_,t.firestore.I_,r,e,n,i)}function dm(t,e,n){if(n instanceof io&&(n=n._),"string"==typeof n){if(""===n)throw new eo(to.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ka(e)&&-1!==n.indexOf("/"))throw new eo(to.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var i=e.path.child(vo.ct(n));if(!Co.Et(i))throw new eo(to.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+i+"' is not because it has an odd number of segments ("+i.length+").");return Uo(t,new Co(i))}if(n instanceof Jf)return Uo(t,n.S_);throw new eo(to.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Wf(n)+".")}function fm(t,e){if(!Array.isArray(t)||0===t.length)throw new eo(to.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new eo(to.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function pm(t,e,n){if(!n.isEqual(e))throw new eo(to.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function mm(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,i=0,r=["next","error","complete"];i<r.length;i++){var s=r[i];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}function gm(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var bm=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Fs.c)(e,t),e.prototype.Uf=function(t){return new no(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new Jf(this.firestore,null,e)},e}(Jp),ym=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),_m=function(t){function e(e,n,i,r,s,o){var a=this;return(a=t.call(this,e,n,i,r,o)||this).zf=e,a.ad=e,a.metadata=s,a}return Object(Fs.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Jf){if(this.v_){var e=new vm(this.zf,this.Hf,this.S_,this.Jf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Hf.$f(this.Jf.vt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Jf){var n=this.Jf.data().field(nm("DocumentSnapshot.get",t));if(null!==n)return this.Hf.$f(n,e.serverTimestamps)}},e}(tm),vm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Fs.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(_m),wm=function(){function t(t,e,n,i){this.zf=t,this.Hf=e,this.ud=i,this.metadata=new ym(i.hasPendingWrites,i.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.ud.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.ud.docs.forEach((function(i){t.call(e,new vm(n.zf,n.Hf,i.key,i,new ym(n.ud.Ce.has(i.key),n.ud.fromCache),n.query.v_))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.ud.Ne)throw new eo(to.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.hd&&this.ld===e||(this.hd=function(t,e){if(t.ud.De.nt()){var n=0;return t.ud.docChanges.map((function(e){return{type:"added",doc:new vm(t.zf,t.Hf,e.doc.key,e.doc,new ym(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}}))}var i=t.ud.De;return t.ud.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new vm(t.zf,t.Hf,e.doc.key,e.doc,new ym(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),r=-1,s=-1;return 0!==e.type&&(r=i.indexOf(e.doc.key),i=i.delete(e.doc.key)),1!==e.type&&(s=(i=i.add(e.doc)).indexOf(e.doc.key)),{type:Em(e.type),doc:n,oldIndex:r,newIndex:s}}))}(this,e),this.ld=e),this.hd},t}();function Em(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Gs()}}function Cm(t,e){return t instanceof _m&&e instanceof _m?t.zf===e.zf&&t.S_.isEqual(e.S_)&&(null===t.Jf?null===e.Jf:t.Jf.isEqual(e.Jf))&&t.v_===e.v_:t instanceof wm&&e instanceof wm&&t.zf===e.zf&&sp(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.ud.isEqual(e.ud)}var xm=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Fs.c)(e,t),e.prototype.Uf=function(t){return new no(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new Jf(this.firestore,null,e)},e}(Jp);function Sm(t,e,n){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];t=Kf(t,Jf);var s=Kf(t.firestore,Kp),o=fp(s);return e instanceof io&&(e=e._),Im(s,[("string"==typeof e||e instanceof Bf?Ep(o,"updateDoc",t.S_,e,n,i):wp(o,"updateDoc",t.S_,e)).O_(t.S_,ic.exists(!0))])}function Om(t){for(var e,n,i,r=[],s=1;s<arguments.length;s++)r[s-1]=arguments[s];t instanceof io&&(t=t._);var o={includeMetadataChanges:!1},a=0;"object"!=typeof r[a]||mm(r[a])||(o=r[a],a++);var c,u,l,h={includeMetadataChanges:o.includeMetadataChanges};if(mm(r[a])){var d=r[a];r[a]=null===(e=d.next)||void 0===e?void 0:e.bind(d),r[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),r[a+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}if(t instanceof Jf)u=Kf(t.firestore,Kp),l=xa(t.S_.path),c={next:function(e){r[a]&&r[a](Tm(u,t,e))},error:r[a+1],complete:r[a+2]};else{var f=Kf(t,tp);u=Kf(f.firestore,Kp),l=f.C_;var p=new xm(u);c={next:function(t){r[a]&&r[a](new wm(u,p,f,t))},error:r[a+1],complete:r[a+2]},im(t.C_)}return function(t,e,n,i){var r=this,s=new Vf(i),o=new Kd(e,s,n);return t.fs.ys((function(){return Object(Fs.b)(r,void 0,void 0,(function(){var e;return Object(Fs.d)(this,(function(n){switch(n.label){case 0:return e=Ud,[4,qp(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}}))}))})),function(){s.r_(),t.fs.ys((function(){return Object(Fs.b)(r,void 0,void 0,(function(){var e;return Object(Fs.d)(this,(function(n){switch(n.label){case 0:return e=qd,[4,qp(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}}))}))}))}}($p(u),l,h,c)}function Im(t,e){return function(t,e){var n=this,i=new Au;return t.fs.ys((function(){return Object(Fs.b)(n,void 0,void 0,(function(){var n;return Object(Fs.d)(this,(function(r){switch(r.label){case 0:return n=af,[4,Up(t)];case 1:return[2,n.apply(void 0,[r.sent(),e,i])]}}))}))})),i.promise}($p(t),e)}function Tm(t,e,n){var i=n.docs.get(e.S_),r=new xm(t);return new _m(t,r,e.S_,i,new ym(n.hasPendingWrites,n.fromCache),e.v_)}var km=function(){function t(t,e){this.zf=t,this._d=e,this.fd=[],this.dd=!1,this.wd=fp(t)}return t.prototype.set=function(t,e,n){this.Ed();var i=Am(t,this.zf),r=gm(i.v_,e,n),s=pp(this.wd,"WriteBatch.set",i.S_,r,null!==i.v_,n);return this.fd.push(s.O_(i.S_,ic.jt())),this},t.prototype.update=function(t,e,n){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];this.Ed();var s,o=Am(t,this.zf);return e instanceof io&&(e=e._),s="string"==typeof e||e instanceof Bf?Ep(this.wd,"WriteBatch.update",o.S_,e,n,i):wp(this.wd,"WriteBatch.update",o.S_,e),this.fd.push(s.O_(o.S_,ic.exists(!0))),this},t.prototype.delete=function(t){this.Ed();var e=Am(t,this.zf);return this.fd=this.fd.concat(new _c(e.S_,ic.jt())),this},t.prototype.commit=function(){return this.Ed(),this.dd=!0,this.fd.length>0?this._d(this.fd):Promise.resolve()},t.prototype.Ed=function(){if(this.dd)throw new eo(to.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Am(t,e){if(t instanceof io&&(t=t._),t.firestore!==e)throw new eo(to.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Dm=function(t){function e(e,n){var i=this;return(i=t.call(this,e,n)||this).zf=e,i}return Object(Fs.c)(e,t),e.prototype.get=function(e){var n=this,i=Am(e,this.zf),r=new xm(this.zf);return t.prototype.get.call(this,e).then((function(t){return new _m(n.zf,r,i.S_,t.Jf,new ym(!1,!1),i.v_)}))},e}(function(){function t(t,e){this.zf=t,this.Td=e,this.wd=fp(t)}return t.prototype.get=function(t){var e=this,n=Am(t,this.zf),i=new bm(this.zf);return this.Td.ef([n.S_]).then((function(t){if(!t||1!==t.length)return Gs();var r=t[0];if(r instanceof ta)return new tm(e.zf,i,n.S_,null,n.v_);if(r instanceof Jo)return new tm(e.zf,i,r.key,r,n.v_);throw Gs()}))},t.prototype.set=function(t,e,n){var i=Am(t,this.zf),r=gm(i.v_,e,n),s=pp(this.wd,"Transaction.set",i.S_,r,null!==i.v_,n);return this.Td.set(i.S_,s),this},t.prototype.update=function(t,e,n){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];var s,o=Am(t,this.zf);return e instanceof io&&(e=e._),s="string"==typeof e||e instanceof Bf?Ep(this.wd,"Transaction.update",o.S_,e,n,i):wp(this.wd,"Transaction.update",o.S_,e),this.Td.update(o.S_,s),this},t.prototype.delete=function(t){var e=Am(t,this.zf);return this.Td.delete(e.S_),this},t}()),Pm=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Zp(t=Kf(t,Kp));var n=$p(t),i=t.p_(),r=new Ff;return Yp(n,r,new Lf(r,i.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Zp(t=Kf(t,Kp));var e=$p(t),n=t.p_(),i=new Ff;return Yp(e,i,new Mf(i,n.cacheSizeBytes))}(t._)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new eo(to.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Au;return t.Mf.Tf((function(){return Object(Fs.b)(e,void 0,void 0,(function(){var e;return Object(Fs.d)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,function(t){return Object(Fs.b)(this,void 0,void 0,(function(){return Object(Fs.d)(this,(function(e){switch(e.label){case 0:return ju.jn()?[4,ju.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(ph(t.I_,t.w_))];case 1:return i.sent(),n.resolve(),[3,3];case 2:return e=i.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._)},t}(),jm=function(t){function e(e,n,i){var r=this;return(r=t.call(this,n)||this).Id=i,r.INTERNAL={delete:function(){return r.terminate()}},e instanceof co||(r.md=e),r}return Object(Fs.c)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this._.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._.V_()),t)).merge,this._.g_(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var i=(t=Kf(t,Zf)).V_();"firestore.googleapis.com"!==i.host&&i.host!==e&&Us("Host has been set in both settings() and useEmulator(), emulator host will be used"),t.g_(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1}))}(this._,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.fs.enqueue((function(){return Object(Fs.b)(e,void 0,void 0,(function(){var e,n;return Object(Fs.d)(this,(function(i){switch(i.label){case 0:return[4,Bp(t)];case 1:return e=i.sent(),[4,zp(t)];case 2:return n=i.sent(),[2,(e.Vo(!0),function(t){var e=Ws(t);return e.Oh.delete(0),gd(e)}(n))]}}))}))}))}($p(Kf(this._,Kp)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.fs.enqueue((function(){return Object(Fs.b)(e,void 0,void 0,(function(){var e,n;return Object(Fs.d)(this,(function(i){switch(i.label){case 0:return[4,Bp(t)];case 1:return e=i.sent(),[4,zp(t)];case 2:return n=i.sent(),[2,(e.Vo(!1),function(t){return Object(Fs.b)(this,void 0,void 0,(function(){var e;return Object(Fs.d)(this,(function(n){switch(n.label){case 0:return(e=Ws(t)).Oh.add(0),[4,bd(e)];case 1:return n.sent(),e.Mh.set("Offline"),[2]}}))}))}(n))]}}))}))}))}($p(Kf(this._,Kp)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&qf("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Id.enableMultiTabIndexedDbPersistence(this):this.Id.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Id.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this._._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Au;return t.fs.ys((function(){return Object(Fs.b)(e,void 0,void 0,(function(){var e;return Object(Fs.d)(this,(function(i){switch(i.label){case 0:return e=ff,[4,Up(t)];case 1:return[2,e.apply(void 0,[i.sent(),n])]}}))}))})),n.promise}($p(Kf(this._,Kp)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,i=new Vf(e);return t.fs.ys((function(){return Object(Fs.b)(n,void 0,void 0,(function(){var e;return Object(Fs.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){Ws(t).Wh.add(e),e.next()},[4,qp(t)];case 1:return[2,e.apply(void 0,[n.sent(),i])]}}))}))})),function(){i.r_(),t.fs.ys((function(){return Object(Fs.b)(n,void 0,void 0,(function(){var e;return Object(Fs.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){Ws(t).Wh.delete(e)},[4,qp(t)];case 1:return[2,e.apply(void 0,[n.sent(),i])]}}))}))}))}}($p(t=Kf(t,Kp)),mm(e)?e:{next:e})}(this._,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.md)throw new eo(to.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.md},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Qm(this,np(this._,t))}catch(t){throw Fm(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Mm(this,ip(this._,t))}catch(t){throw Fm(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Um(this,function(t,e){if(t=Kf(t,Zf),zf("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new eo(to.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new tp(t,null,function(t){return new Ea(vo.at(),t)}(e))}(this._,t))}catch(t){throw Fm(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,i=new Au;return t.fs.ys((function(){return Object(Fs.b)(n,void 0,void 0,(function(){var n;return Object(Fs.d)(this,(function(r){switch(r.label){case 0:return[4,function(t){return Vp(t).then((function(t){return t.Dh}))}(t)];case 1:return n=r.sent(),new Np(t.fs,n,e,i).run(),[2]}}))}))})),i.promise}($p(t),(function(n){return e(new Dm(t,n))}))}(this._,(function(n){return t(new Rm(e,n))}))},e.prototype.batch=function(){var t=this;return $p(this._),new Lm(new km(this._,(function(e){return Im(t._,e)})))},e.prototype.loadBundle=function(t){throw new eo(to.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new eo(to.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(io),Nm=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Fs.c)(e,t),e.prototype.Uf=function(t){return new oo(new no(t))},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return Mm.Ad(e,this.firestore,null)},e}(Jp),Rm=function(t){function e(e,n){var i=this;return(i=t.call(this,n)||this).zf=e,i.Hf=new Nm(e),i}return Object(Fs.c)(e,t),e.prototype.get=function(t){var e=this,n=Wm(t);return this._.get(n).then((function(t){return new Hm(e.zf,new _m(e.zf._,e.Hf,t.S_,t.Jf,t.metadata,n.v_))}))},e.prototype.set=function(t,e,n){var i=Wm(t);return n?(Uf("Transaction.set",n),this._.set(i,e,n)):this._.set(i,e),this},e.prototype.update=function(t,e,n){for(var i,r=[],s=3;s<arguments.length;s++)r[s-3]=arguments[s];var o=Wm(t);return 2===arguments.length?this._.update(o,e):(i=this._).update.apply(i,Object(Fs.g)([o,e,n],r)),this},e.prototype.delete=function(t){var e=Wm(t);return this._.delete(e),this},e}(io),Lm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Fs.c)(e,t),e.prototype.set=function(t,e,n){var i=Wm(t);return n?(Uf("WriteBatch.set",n),this._.set(i,e,n)):this._.set(i,e),this},e.prototype.update=function(t,e,n){for(var i,r=[],s=3;s<arguments.length;s++)r[s-3]=arguments[s];var o=Wm(t);return 2===arguments.length?this._.update(o,e):(i=this._).update.apply(i,Object(Fs.g)([o,e,n],r)),this},e.prototype.delete=function(t){var e=Wm(t);return this._.delete(e),this},e.prototype.commit=function(){return this._.commit()},e}(io),Mm=function(t){function e(e,n){var i=this;return(i=t.call(this,n)||this).firestore=e,i.Hf=new Nm(e),i}return Object(Fs.c)(e,t),e.Rd=function(t,n,i){if(t.length%2!=0)throw new eo(to.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.ot()+" has "+t.length);return new e(n,new Jf(n._,i,new Co(t)))},e.Ad=function(t,n,i){return new e(n,new Jf(n._,i,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Qm(this.firestore,this._.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Qm(this.firestore,np(this._,t))}catch(t){throw Fm(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof io&&(t=t._),t instanceof Jf&&rp(this._,t)},e.prototype.set=function(t,e){e=Uf("DocumentReference.set",e);try{return function(t,e,n){t=Kf(t,Jf);var i=Kf(t.firestore,Kp),r=gm(t.v_,e,n);return Im(i,[pp(fp(i),"setDoc",t.S_,r,null!==t.v_,n).O_(t.S_,ic.jt())])}(this._,t,e)}catch(t){throw Fm(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];try{return 1===arguments.length?Sm(this._,t):Sm.apply(void 0,Object(Fs.g)([this._,t,e],n))}catch(t){throw Fm(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Im(Kf((t=this._).firestore,Kp),[new _c(t.S_,ic.jt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=Vm(e),r=Bm(e,(function(e){return new Hm(t.firestore,new _m(t.firestore._,t.Hf,e.S_,e.Jf,e.metadata,t._.v_))}));return Om(this._,i,r)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Kf(t,Jf);var e=Kf(t.firestore,Kp),n=$p(e),i=new xm(e);return function(t,e){var n=this,i=new Au;return t.fs.ys((function(){return Object(Fs.b)(n,void 0,void 0,(function(){var n;return Object(Fs.d)(this,(function(r){switch(r.label){case 0:return n=function(t,e,n){return Object(Fs.b)(this,void 0,void 0,(function(){var i,r;return Object(Fs.d)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(t,e){var n=Ws(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Ic.Jo(t,e)}))}(t,e)];case 1:return(r=s.sent())instanceof Jo?n.resolve(r):r instanceof ta?n.resolve(null):n.reject(new eo(to.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=s.sent(),r=zu(i,"Failed to get document '"+e+" from cache"),n.reject(r),[3,3];case 3:return[2]}}))}))},[4,Hp(t)];case 1:return[2,n.apply(void 0,[r.sent(),e,i])]}}))}))})),i.promise}(n,t.S_).then((function(n){return new _m(e,i,t.S_,n,new ym(n instanceof Jo&&n.bt,!0),t.v_)}))}(this._):"server"===(null==t?void 0:t.source)?function(t){t=Kf(t,Jf);var e=Kf(t.firestore,Kp);return Gp($p(e),t.S_,{source:"server"}).then((function(n){return Tm(e,t,n)}))}(this._):function(t){t=Kf(t,Jf);var e=Kf(t.firestore,Kp);return Gp($p(e),t.S_).then((function(n){return Tm(e,t,n)}))}(this._)).then((function(t){return new Hm(e.firestore,new _m(e.firestore._,e.Hf,t.S_,t.Jf,t.metadata,e._.v_))}))},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(io);function Fm(t,e,n){return t.message=t.message.replace(e,n),t}function Vm(t){for(var e=0,n=t;e<n.length;e++){var i=n[e];if("object"==typeof i&&!mm(i))return i}return{}}function Bm(t,e){var n,i,r;return{next:function(t){r.next&&r.next(e(t))},error:null===(n=(r=mm(t[0])?t[0]:mm(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}var Hm=function(t){function e(e,n){var i=this;return(i=t.call(this,n)||this).zf=e,i}return Object(Fs.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new Mm(this.zf,this._.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._.data(t)},e.prototype.get=function(t,e){return this._.get(t,e)},e.prototype.isEqual=function(t){return Cm(this._,t._)},e}(io),zm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Fs.c)(e,t),e.prototype.data=function(t){return this._.data(t)},e}(Hm),Um=function(t){function e(e,n){var i=this;return(i=t.call(this,n)||this).firestore=e,i.Hf=new Nm(e),i}return Object(Fs.c)(e,t),e.prototype.where=function(t,n,i){try{return new e(this.firestore,sm(this._,function(t,e,n){var i=e,r=nm("where",t);return new om(r,i,n)}(t,n,i)))}catch(t){throw Fm(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,sm(this._,function(t,e){void 0===e&&(e="asc");var n=e,i=nm("orderBy",t);return new am(i,n)}(t,n)))}catch(t){throw Fm(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,sm(this._,function(t){return $f("limit",t),new cm("limit",t,"F")}(t)))}catch(t){throw Fm(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,sm(this._,function(t){return $f("limitToLast",t),new cm("limitToLast",t,"L")}(t)))}catch(t){throw Fm(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,sm(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new um("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw Fm(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,sm(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new um("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw Fm(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,sm(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new lm("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw Fm(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,sm(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new lm("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw Fm(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return sp(this._,t._)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Kf(t,tp);var e=Kf(t.firestore,Kp),n=$p(e),i=new xm(e);return function(t,e){var n=this,i=new Au;return t.fs.ys((function(){return Object(Fs.b)(n,void 0,void 0,(function(){var n;return Object(Fs.d)(this,(function(r){switch(r.label){case 0:return n=function(t,e,n){return Object(Fs.b)(this,void 0,void 0,(function(){var i,r,s,o,a;return Object(Fs.d)(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,kh(t,e,!0)];case 1:return a=c.sent(),i=new Jd(e,a.Pc),r=i.dl(a.documents),s=i.Ei(r,!1),n.resolve(s.snapshot),[3,3];case 2:return o=c.sent(),a=zu(o,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}}))}))},[4,Hp(t)];case 1:return[2,n.apply(void 0,[r.sent(),e,i])]}}))}))})),i.promise}(n,t.C_).then((function(n){return new wm(e,i,t,n)}))}(this._):"server"===(null==t?void 0:t.source)?function(t){t=Kf(t,tp);var e=Kf(t.firestore,Kp),n=$p(e),i=new xm(e);return Qp(n,t.C_,{source:"server"}).then((function(n){return new wm(e,i,t,n)}))}(this._):function(t){t=Kf(t,tp);var e=Kf(t.firestore,Kp),n=$p(e),i=new xm(e);return im(t.C_),Qp(n,t.C_).then((function(n){return new wm(e,i,t,n)}))}(this._)).then((function(t){return new Gm(e.firestore,new wm(e.firestore._,e.Hf,e._,t.ud))}))},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=Vm(e),r=Bm(e,(function(e){return new Gm(t.firestore,new wm(t.firestore._,t.Hf,t._,e.ud))}));return Om(this._,i,r)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(io),qm=function(t){function e(e,n){var i=this;return(i=t.call(this,n)||this).zf=e,i}return Object(Fs.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new zm(this.zf,this._.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._.newIndex},enumerable:!1,configurable:!0}),e}(io),Gm=function(t){function e(e,n){var i=this;return(i=t.call(this,n)||this).zf=e,i}return Object(Fs.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new Um(this.zf,this._.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._.docs.map((function(e){return new zm(t.zf,e)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._.docChanges(t).map((function(t){return new qm(e.zf,t)}))},e.prototype.forEach=function(t,e){var n=this;this._.forEach((function(i){t.call(e,new zm(n.zf,i))}))},e.prototype.isEqual=function(t){return Cm(this._,t._)},e}(io),Qm=function(t){function e(e,n){var i=this;return(i=t.call(this,e,n)||this).firestore=e,i._=n,i}return Object(Fs.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._.parent;return t?new Mm(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Mm(this.firestore,void 0===t?ip(this._):ip(this._,t))}catch(t){throw Fm(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Kf(t.firestore,Kp),i=ip(t),r=gm(t.v_,e);return Im(n,[pp(fp(t.firestore),"addDoc",i.S_,r,null!==t.v_,{}).O_(i.S_,ic.exists(!1))]).then((function(){return i}))}(this._,t).then((function(t){return new Mm(e.firestore,t)}))},e.prototype.isEqual=function(t){return rp(this._,t._)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(Um);function Wm(t){return t instanceof io&&(t=t._),Kf(t,Jf)}var Km=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(Bf.bind.apply(Bf,Object(Fs.g)([void 0],e))))||this}return Object(Fs.c)(e,t),e.documentId=function(){return new e(Eo.lt().ot())},e.prototype.isEqual=function(t){return t instanceof io&&(t=t._),t instanceof Bf&&this._.d_.isEqual(t.d_)},e}(io),$m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Fs.c)(e,t),e.serverTimestamp=function(){var t=new bp("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new mp("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new yp("arrayUnion",t)}).apply(void 0,t);return i._methodName="FieldValue.arrayUnion",new e(i)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new _p("arrayRemove",t)}).apply(void 0,t);return i._methodName="FieldValue.arrayRemove",new e(i)},e.increment=function(t){var n=function(t){return new vp("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e}(io);!function(){function t(){this.Pd={},this.yd=new Au,this.gd={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.Pd={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.yd.promise.catch(t)},t.prototype.then=function(t,e){return this.yd.promise.then(t,e)},t.prototype.Ul=function(t){this.Ql(t),this.Pd.complete&&this.Pd.complete(),this.yd.resolve(t)},t.prototype.jl=function(t){this.gd.taskState="Error",this.Pd.next&&this.Pd.next(this.gd),this.Pd.error&&this.Pd.error(t),this.yd.reject(t)},t.prototype.Ql=function(t){this.gd=t,this.Pd.next&&this.Pd.next(t)}}();var Xm,Ym=n("/6Yf"),Zm={Firestore:jm,GeoPoint:op,Timestamp:bo,Blob:oo,Transaction:Rm,WriteBatch:Lm,DocumentReference:Mm,DocumentSnapshot:Hm,Query:Um,QueryDocumentSnapshot:zm,QuerySnapshot:Gm,CollectionReference:Qm,FieldPath:Km,FieldValue:$m,setLogLevel:function(t){Vs.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};function Jm(t,e){return function(t,e=ve.b){return new kt.a(n=>{let i;return null!=e?e.schedule(()=>{i=t.onSnapshot({includeMetadataChanges:!0},n)}):i=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=i&&i()}})}(t,e)}function tg(t,e){return Jm(t,e).pipe(Object(jt.a)(t=>({payload:t,type:"query"})))}function eg(t,e){return tg(t,e).pipe(xe(void 0),Se(),Object(jt.a)(([t,e])=>{const n=e.payload.docChanges(),i=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,r)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||i.push({type:"modified",payload:{oldIndex:r,newIndex:r,type:"modified",doc:e}})}),i}))}function ng(t,e,n){return eg(t,n).pipe(Te((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return ig(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return ig(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return ig(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),De(),Object(jt.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function ig(t,e,n,...i){const r=t.slice();return r.splice(e,n,...i),r}function rg(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}(function(t,e){t.INTERNAL.registerComponent(new Ym.a("firestore",(function(t){return function(t,e){return new jm(t,new Kp(t,e),new Pm)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Zm)))})(Xm=Re.a),Xm.registerVersion("@firebase/firestore","2.1.2");class sg{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=eg(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(jt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(xe(void 0),Se(),Wt(([t,e])=>e.length>0||!t),Object(jt.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Te((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=rg(t);return ng(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return tg(this.query,this.afs.schedulers.outsideAngular).pipe(Object(jt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(At.a)(this.query.get(t)).pipe(Object(Pt.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new og(this.ref.doc(t),this.afs)}}class og{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:i,query:r}=dg(n,e);return new sg(i,r,this.afs)}snapshotChanges(){return Jm(this.ref,this.afs.schedulers.outsideAngular).pipe(xe(void 0),Se(),Object(jt.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(jt.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(At.a)(this.ref.get(t)).pipe(Object(Pt.b)(this.afs.schedulers.insideAngular))}}class ag{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?eg(this.query,this.afs.schedulers.outsideAngular).pipe(Object(jt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Wt(t=>t.length>0),this.afs.keepUnstableUntilFirst):eg(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Te((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=rg(t);return ng(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return tg(this.query,this.afs.schedulers.outsideAngular).pipe(Object(jt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(At.a)(this.query.get(t)).pipe(Object(Pt.b)(this.afs.schedulers.insideAngular))}}const cg=new i.o("angularfire2.enableFirestorePersistence"),ug=new i.o("angularfire2.firestore.persistenceSettings"),lg=new i.o("angularfire2.firestore.settings"),hg=new i.o("angularfire2.firestore.use-emulator");function dg(t,e=(t=>t)){return{query:e(t),ref:t}}let fg,pg=(()=>{class t{constructor(t,e,n,i,r,s,o,a,c){this.schedulers=new he.d(s),this.keepUnstableUntilFirst=Object(he.h)(this.schedulers);const u=Object(he.g)(t,s,e);!Ne.a.auth&&c&&Object(he.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(he.f)(u.name+".firestore","AngularFirestore",u,()=>{const t=s.runOutsideAngular(()=>u.firestore());if(i&&t.settings(i),l&&t.useEmulator(...l),n&&!$(r)){const e=()=>{try{return Object(At.a)(t.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(Xm){return"undefined"!=typeof console&&console.warn(Xm),Object(Tt.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(Tt.a)(!1)]},[i,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:i,query:r}=dg(n,e),s=this.schedulers.ngZone.run(()=>i);return new sg(s,r,this)}collectionGroup(t,e){const n=e||(t=>t),i=this.firestore.collectionGroup(t);return new ag(n(i),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new og(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(he.c),i.Qb(he.b,8),i.Qb(cg,8),i.Qb(lg,8),i.Qb(i.x),i.Qb(i.v),i.Qb(ug,8),i.Qb(hg,8),i.Qb(de,8))},t.\u0275prov=Object(i.Cb)({factory:function(){return new t(Object(i.Qb)(he.c),Object(i.Qb)(he.b,8),Object(i.Qb)(cg,8),Object(i.Qb)(lg,8),Object(i.Qb)(i.x),Object(i.Qb)(i.v),Object(i.Qb)(ug,8),Object(i.Qb)(hg,8),Object(i.Qb)(de,8))},token:t,providedIn:"any"}),t})(),mg=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:cg,useValue:!0},{provide:ug,useValue:e}]}}}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},providers:[pg]}),t})();try{fg="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch($T){fg=!1}let gg,bg=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?K(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!fg)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.x))},t.\u0275prov=Object(i.Cb)({factory:function(){return new t(Object(i.Qb)(i.x))},token:t,providedIn:"root"}),t})(),yg=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)}}),t})();const _g=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function vg(){if(gg)return gg;if("object"!=typeof document||!document)return gg=new Set(_g),gg;let t=document.createElement("input");return gg=new Set(_g.filter(e=>(t.setAttribute("type",e),t.type===e))),gg}let wg,Eg;function Cg(t){return function(){if(null==wg&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>wg=!0}))}finally{wg=wg||!1}return wg}()?t:!!t.capture}function xg(t){if(function(){if(null==Eg){const t="undefined"!=typeof document?document.head:null;Eg=!(!t||!t.createShadowRoot&&!t.attachShadow)}return Eg}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Sg(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}var Og=n("vkgz");function Ig(t,e=ve.a){return n=>n.lift(new Tg(t,e))}class Tg{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new kg(t,this.dueTime,this.scheduler))}}class kg extends Qt.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Ag,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function Ag(t){t.debouncedNext()}function Dg(t){return null!=t&&""+t!="false"}function Pg(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function jg(t){return Array.isArray(t)?t:[t]}function Ng(t){return null==t?"":"string"==typeof t?t:t+"px"}function Rg(t){return t instanceof i.i?t.nativeElement:t}let Lg=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Cb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Mg=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=Rg(t);return new kt.a(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new It.a,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(Lg))},t.\u0275prov=Object(i.Cb)({factory:function(){return new t(Object(i.Qb)(Lg))},token:t,providedIn:"root"}),t})(),Fg=(()=>{class t{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new i.l,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Dg(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=Pg(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(Ig(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription&&this._currentSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Gb(Mg),i.Gb(i.i),i.Gb(i.v))},t.\u0275dir=i.Bb({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),Vg=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},providers:[Lg]}),t})();class Bg extends class{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new It.a,this._typeaheadSubscription=Vt.a.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new It.a,this.change=new It.a,t instanceof i.z&&t.changes.subscribe(t=>{if(this._activeItem){const e=t.toArray().indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Object(Og.a)(t=>this._pressedLetters.push(t)),Ig(t),Wt(()=>this._pressedLetters.length>0),Object(jt.a)(()=>this._pressedLetters.join(""))).subscribe(t=>{const e=this._getItemsArray();for(let n=1;n<e.length+1;n++){const i=(this._activeItemIndex+n)%e.length,r=e[i];if(!this._skipPredicateFn(r)&&0===r.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(i);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(e=>!t[e]||this._allowedModifierKeys.indexOf(e)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&n){this.setNextItemActive();break}return;case 38:if(this._vertical&&n){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&n){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&n){this.setLastItemActive();break}return;default:return void((n||Sg(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),i=e[n];this._activeItem=null==i?null:i,this._activeItemIndex=n}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let n=1;n<=e.length;n++){const i=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof i.z?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let Hg=(()=>{class t{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function(t){try{return t.frameElement}catch($T){return null}}((n=t).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(e){if(-1===Ug(e))return!1;if(!this.isVisible(e))return!1}let i=t.nodeName.toLowerCase(),r=Ug(t);return t.hasAttribute("contenteditable")?-1!==r:"iframe"!==i&&"object"!==i&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){let e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==r:"video"===i?-1!==r&&(null!==r||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,e){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||zg(t))}(t)&&!this.isDisabled(t)&&((null==e?void 0:e.ignoreVisibility)||this.isVisible(t))}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(bg))},t.\u0275prov=Object(i.Cb)({factory:function(){return new t(Object(i.Qb)(bg))},token:t,providedIn:"root"}),t})();function zg(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function Ug(t){if(!zg(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class qg{constructor(t,e,n,i,r=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,r||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement()))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let n=0;n<e.length;n++)e[n].hasAttribute("cdk-focus-"+t)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]):e[n].hasAttribute("cdk-focus-region-"+t)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return t?(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),t.focus(),!0):this.focusFirstTabbableElement()}focusFirstTabbableElement(){const t=this._getRegionBoundary("start");return t&&t.focus(),!!t}focusLastTabbableElement(){const t=this._getRegionBoundary("end");return t&&t.focus(),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=0;n<e.length;n++){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(t)return t}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=e.length-1;n>=0;n--){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(t)return t}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Zt(1)).subscribe(t)}}let Gg=(()=>{class t{constructor(t,e,n){this._checker=t,this._ngZone=e,this._document=n}create(t,e=!1){return new qg(t,this._checker,this._ngZone,this._document,e)}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(Hg),i.Qb(i.v),i.Qb(c))},t.\u0275prov=Object(i.Cb)({factory:function(){return new t(Object(i.Qb)(Hg),Object(i.Qb)(i.v),Object(i.Qb)(c))},token:t,providedIn:"root"}),t})();function Qg(t){return 0===t.buttons}"undefined"!=typeof Element&&Element;const Wg=new i.o("cdk-focus-monitor-default-options"),Kg=Cg({passive:!0,capture:!0});let $g=(()=>{class t{constructor(t,e,n,i){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=t=>{if(!this._lastTouchTarget){const e=Qg(t)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=t=>{null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=Xg(t),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650)},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=t=>{const e=Xg(t),n="focus"===t.type?this._onFocus:this._onBlur;for(let i=e;i;i=i.parentElement)n.call(this,t,i)},this._document=n,this._detectionMode=(null==i?void 0:i.detectionMode)||0}monitor(t,e=!1){const n=Rg(t);if(!this._platform.isBrowser||1!==n.nodeType)return Object(Tt.a)(null);const i=xg(n)||this._getDocument(),r=this._elementInfo.get(n);if(r)return e&&(r.checkChildren=!0),r.subject;const s={checkChildren:e,subject:new It.a,rootNode:i};return this._elementInfo.set(n,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(t){const e=Rg(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}focusVia(t,e,n){const i=Rg(t);this._setOriginForCurrentEventQueue(e),"function"==typeof i.focus&&i.focus(n)}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(t){const e=Xg(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);if(!n||!n.checkChildren&&e!==Xg(t))return;const i=this._getFocusOrigin(t);this._setClasses(e,i),this._emitOrigin(n.subject,i),this._lastFocusOrigin=i}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,n=this._rootNodeFocusListenerCount.get(e)||0;n||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,Kg),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,Kg)}),this._rootNodeFocusListenerCount.set(e,n+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const t=this._getDocument(),e=this._getWindow();t.addEventListener("keydown",this._documentKeydownListener,Kg),t.addEventListener("mousedown",this._documentMousedownListener,Kg),t.addEventListener("touchstart",this._documentTouchstartListener,Kg),e.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Kg),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Kg),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){const t=this._getDocument(),e=this._getWindow();t.removeEventListener("keydown",this._documentKeydownListener,Kg),t.removeEventListener("mousedown",this._documentMousedownListener,Kg),t.removeEventListener("touchstart",this._documentTouchstartListener,Kg),e.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.v),i.Qb(bg),i.Qb(c,8),i.Qb(Wg,8))},t.\u0275prov=Object(i.Cb)({factory:function(){return new t(Object(i.Qb)(i.v),Object(i.Qb)(bg),Object(i.Qb)(c,8),Object(i.Qb)(Wg,8))},token:t,providedIn:"root"}),t})();function Xg(t){return t.composedPath?t.composedPath()[0]:t.target}let Yg=(()=>{class t{constructor(t,e){this._elementRef=t,this._focusMonitor=e,this.cdkFocusChange=new i.l}ngAfterViewInit(){const t=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(t,1===t.nodeType&&t.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(t=>this.cdkFocusChange.emit(t))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Gb(i.i),i.Gb($g))},t.\u0275dir=i.Bb({type:t,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),t})();const Zg="cdk-high-contrast-black-on-white",Jg="cdk-high-contrast-white-on-black",tb="cdk-high-contrast-active";let eb=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,i=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),i){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(tb),t.remove(Zg),t.remove(Jg);const e=this.getHighContrastMode();1===e?(t.add(tb),t.add(Zg)):2===e&&(t.add(tb),t.add(Jg))}}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(bg),i.Qb(c))},t.\u0275prov=Object(i.Cb)({factory:function(){return new t(Object(i.Qb)(bg),Object(i.Qb)(c))},token:t,providedIn:"root"}),t})(),nb=(()=>{class t{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)(i.Qb(eb))},imports:[[yg,Vg]]}),t})();const ib=new i.o("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(i.Q)(c)}});let rb=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new i.l,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(ib,8))},t.\u0275prov=Object(i.Cb)({factory:function(){return new t(Object(i.Qb)(ib,8))},token:t,providedIn:"root"}),t})(),sb=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)}}),t})();const ob=new i.K("10.2.7");class ab{}const cb="*";function ub(t,e){return{type:7,name:t,definitions:e,options:{}}}function lb(t,e=null){return{type:4,styles:e,timings:t}}function hb(t,e=null){return{type:2,steps:t,options:e}}function db(t){return{type:6,styles:t,offset:null}}function fb(t,e,n){return{type:0,name:t,styles:e,options:n}}function pb(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function mb(t){Promise.resolve(null).then(t)}class gb{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){mb(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class bb{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,i=0;const r=this.players.length;0==r?mb(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==r&&this._onFinish()}),t.onDestroy(()=>{++n==r&&this._onDestroy()}),t.onStart(()=>{++i==r&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function yb(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function _b(t){switch(t.length){case 0:return new gb;case 1:return t[0];default:return new bb(t)}}function vb(t,e,n,i,r={},s={}){const o=[],a=[];let c=-1,u=null;if(i.forEach(t=>{const n=t.offset,i=n==c,l=i&&u||{};Object.keys(t).forEach(n=>{let i=n,a=t[n];if("offset"!==n)switch(i=e.normalizePropertyName(i,o),a){case"!":a=r[n];break;case cb:a=s[n];break;default:a=e.normalizeStyleValue(n,i,a,o)}l[i]=a}),i||a.push(l),u=l,c=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function wb(t,e,n,i){switch(e){case"start":t.onStart(()=>i(n&&Eb(n,"start",t)));break;case"done":t.onDone(()=>i(n&&Eb(n,"done",t)));break;case"destroy":t.onDestroy(()=>i(n&&Eb(n,"destroy",t)))}}function Eb(t,e,n){const i=n.totalTime,r=Cb(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==i?t.totalTime:i,!!n.disabled),s=t._data;return null!=s&&(r._data=s),r}function Cb(t,e,n,i,r="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function xb(t,e,n){let i;return t instanceof Map?(i=t.get(e),i||t.set(e,i=n)):(i=t[e],i||(i=t[e]=n)),i}function Sb(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let Ob=(t,e)=>!1,Ib=(t,e)=>!1,Tb=(t,e,n)=>[];const kb=yb();(kb||"undefined"!=typeof Element)&&(Ob=(t,e)=>t.contains(e),Ib=(()=>{if(kb||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):Ib}})(),Tb=(t,e,n)=>{let i=[];if(n)i.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&i.push(n)}return i});let Ab=null,Db=!1;function Pb(t){Ab||(Ab=("undefined"!=typeof document?document.body:null)||{},Db=!!Ab.style&&"WebkitAppearance"in Ab.style);let e=!0;return Ab.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Ab.style,!e&&Db)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Ab.style),e}const jb=Ib,Nb=Ob,Rb=Tb;function Lb(t){const e={};return Object.keys(t).forEach(n=>{const i=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[i]=t[n]}),e}let Mb=(()=>{class t{validateStyleProperty(t){return Pb(t)}matchesElement(t,e){return jb(t,e)}containsElement(t,e){return Nb(t,e)}query(t,e,n){return Rb(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,i,r,s=[],o){return new gb(n,i)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Cb({token:t,factory:t.\u0275fac}),t})(),Fb=(()=>{class t{}return t.NOOP=new Mb,t})();const Vb="ng-enter",Bb="ng-leave",Hb="ng-trigger",zb=".ng-trigger",Ub="ng-animating",qb=".ng-animating";function Gb(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Qb(parseFloat(e[1]),e[2])}function Qb(t,e){switch(e){case"s":return 1e3*t;default:return t}}function Wb(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let i,r=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};i=Qb(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(r=Qb(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else i=t;if(!n){let n=!1,s=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),r<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:i,delay:r,easing:s}}(t,e,n)}function Kb(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function $b(t,e,n={}){if(e)for(let i in t)n[i]=t[i];else Kb(t,n);return n}function Xb(t,e,n){return n?e+":"+n+";":""}function Yb(t){let e="";for(let n=0;n<t.style.length;n++){const i=t.style.item(n);e+=Xb(0,i,t.style.getPropertyValue(i))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=Xb(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function Zb(t,e,n){t.style&&(Object.keys(e).forEach(i=>{const r=oy(i);n&&!n.hasOwnProperty(i)&&(n[i]=t.style[r]),t.style[r]=e[i]}),yb()&&Yb(t))}function Jb(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=oy(e);t.style[n]=""}),yb()&&Yb(t))}function ty(t){return Array.isArray(t)?1==t.length?t[0]:hb(t):t}const ey=new RegExp("{{\\s*(.+?)\\s*}}","g");function ny(t){let e=[];if("string"==typeof t){let n;for(;n=ey.exec(t);)e.push(n[1]);ey.lastIndex=0}return e}function iy(t,e,n){const i=t.toString(),r=i.replace(ey,(t,i)=>{let r=e[i];return e.hasOwnProperty(i)||(n.push("Please provide a value for the animation param "+i),r=""),r.toString()});return r==i?t:r}function ry(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const sy=/-+([a-z0-9])/g;function oy(t){return t.replace(sy,(...t)=>t[1].toUpperCase())}function ay(t,e){return 0===t||0===e}function cy(t,e,n){const i=Object.keys(n);if(i.length&&e.length){let s=e[0],o=[];if(i.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var r=1;r<e.length;r++){let n=e[r];o.forEach((function(e){n[e]=ly(t,e)}))}}return e}function uy(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function ly(t,e){return window.getComputedStyle(t)[e]}const hy="*";function dy(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const i=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof i)return void e.push(i);t=i}const i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const r=i[1],s=i[2],o=i[3];e.push(my(r,o)),"<"!=s[0]||r==hy&&o==hy||e.push(my(o,r))}(t,n,e)):n.push(t),n}const fy=new Set(["true","1"]),py=new Set(["false","0"]);function my(t,e){const n=fy.has(t)||py.has(t),i=fy.has(e)||py.has(e);return(r,s)=>{let o=t==hy||t==r,a=e==hy||e==s;return!o&&n&&"boolean"==typeof r&&(o=r?fy.has(t):py.has(t)),!a&&i&&"boolean"==typeof s&&(a=s?fy.has(e):py.has(e)),o&&a}}const gy=new RegExp("s*:selfs*,?","g");function by(t,e,n){return new yy(t).build(e,n)}class yy{constructor(t){this._driver=t}build(t,e){const n=new _y(e);return this._resetContextStyleTimingState(n),uy(this,ty(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,i=e.depCount=0;const r=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,i=n.name;i.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,r.push(this.visitState(n,e))}),n.name=i}else if(1==t.type){const r=this.visitTransition(t,e);n+=r.queryCount,i+=r.depCount,s.push(r)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:r,transitions:s,queryCount:n,depCount:i,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(n.containsDynamicStyles){const r=new Set,s=i||{};if(n.styles.forEach(t=>{if(vy(t)){const e=t;Object.keys(e).forEach(t=>{ny(e[t]).forEach(t=>{s.hasOwnProperty(t)||r.add(t)})})}}),r.size){const n=ry(r.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=uy(this,ty(t.animation),e);return{type:1,matchers:dy(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:wy(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>uy(this,t,e)),options:wy(t.options)}}visitGroup(t,e){const n=e.currentTime;let i=0;const r=t.steps.map(t=>{e.currentTime=n;const r=uy(this,t,e);return i=Math.max(i,e.currentTime),r});return e.currentTime=i,{type:3,steps:r,options:wy(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return Ey(Wb(t,e).duration,0,"");const i=t;if(i.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=Ey(0,0,"");return t.dynamic=!0,t.strValue=i,t}return n=n||Wb(i,e),Ey(n.duration,n.delay,n.easing)}(t.timings,e.errors);let i;e.currentAnimateTimings=n;let r=t.styles?t.styles:db({});if(5==r.type)i=this.visitKeyframes(r,e);else{let r=t.styles,s=!1;if(!r){s=!0;const t={};n.easing&&(t.easing=n.easing),r=db(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(r,e);o.isEmptyStep=s,i=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:i,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==cb?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let i=!1,r=null;return n.forEach(t=>{if(vy(t)){const e=t,n=e.easing;if(n&&(r=n,delete e.easing),!i)for(let t in e)if(e[t].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:n,easing:r,offset:t.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let i=e.currentTime,r=e.currentTime;n&&r>0&&(r-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(r!=i&&r>=o.startTime&&i<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${r}ms" and "${i}ms"`),a=!1),r=o.startTime),a&&(s[n]={startTime:r,endTime:i}),e.options&&function(t,e,n){const i=e.params||{},r=ny(t);r.length&&r.forEach(t=>{i.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let i=0;const r=[];let s=!1,o=!1,a=0;const c=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let c=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(vy(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(vy(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),u=0;return null!=c&&(i++,u=n.offset=c),o=o||u<0||u>1,s=s||u<a,a=u,r.push(u),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const u=t.steps.length;let l=0;i>0&&i<u?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(l=1/(u-1));const h=u-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return c.forEach((t,i)=>{const s=l>0?i==h?1:l*i:r[i],o=s*p;e.currentTime=d+f.delay+o,f.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:uy(this,ty(t.animation),e),options:wy(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:wy(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:wy(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;const[r,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(gy,"")),[t=t.replace(/@\*/g,zb).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,qb),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+r:r,xb(e.collectedStyles,e.currentQuerySelector,{});const o=uy(this,ty(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:r,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:wy(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:Wb(t.timings,e.errors,!0);return{type:12,animation:uy(this,ty(t.animation),e),timings:n,options:null}}}class _y{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function vy(t){return!Array.isArray(t)&&"object"==typeof t}function wy(t){var e;return t?(t=Kb(t)).params&&(t.params=(e=t.params)?Kb(e):null):t={},t}function Ey(t,e,n){return{duration:t,delay:e,easing:n}}function Cy(t,e,n,i,r,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class xy{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Sy=new RegExp(":enter","g"),Oy=new RegExp(":leave","g");function Iy(t,e,n,i,r,s={},o={},a,c,u=[]){return(new Ty).buildKeyframes(t,e,n,i,r,s,o,a,c,u)}class Ty{buildKeyframes(t,e,n,i,r,s,o,a,c,u=[]){c=c||new xy;const l=new Ay(t,e,c,i,r,u,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),uy(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[Cy(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const i=e.createSubContext(t.options),r=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,i,i.options);r!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let i=e.currentTimeline.currentTime;const r=null!=n.duration?Gb(n.duration):null,s=null!=n.delay?Gb(n.delay):null;return 0!==r&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,r,s);i=Math.max(i,n.duration+n.delay)}),i}visitReference(t,e){e.updateOptions(t.options,!0),uy(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let i=e;const r=t.options;if(r&&(r.params||r.delay)&&(i=e.createSubContext(r),i.transformIntoNewTimeline(),null!=r.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=ky);const t=Gb(r.delay);i.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>uy(this,t,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let i=e.currentTimeline.currentTime;const r=t.options&&t.options.delay?Gb(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);r&&o.delayNextStep(r),uy(this,s,o),i=Math.max(i,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return Wb(e.params?iy(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),i.snapshotCurrentStyles());const r=t.style;5==r.type?this.visitKeyframes(r,e):(e.incrementTime(n.duration),this.visitStyle(r,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,i=e.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();const r=i&&i.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(r):n.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,i=e.currentTimeline.duration,r=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*r),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(i+r),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,i=t.options||{},r=i.delay?Gb(i.delay):0;r&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=ky);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,i)=>{e.currentQueryIndex=i;const o=e.createSubContext(t.options,n);r&&o.delayNextStep(r),n===e.element&&(a=o.currentTimeline),uy(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,i=e.currentTimeline,r=t.timings,s=Math.abs(r.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const c=e.currentTimeline;a&&c.delayNextStep(a);const u=c.currentTime;uy(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=i.currentTime-u+(i.startTime-n.currentTimeline.startTime)}}const ky={};class Ay{constructor(t,e,n,i,r,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=r,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ky,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new Dy(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let i=this.options;null!=n.duration&&(i.duration=Gb(n.duration)),null!=n.delay&&(i.delay=Gb(n.delay));const r=n.params;if(r){let t=i.params;t||(t=this.options.params={}),Object.keys(r).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=iy(r[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const i=e||this.element,r=new Ay(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(t),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(t){return this.previousNode=ky,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const i={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},r=new Py(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(r),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,i,r,s){let o=[];if(i&&o.push(this.element),t.length>0){t=(t=t.replace(Sy,"."+this._enterClassName)).replace(Oy,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return r||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class Dy{constructor(t,e,n,i){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Dy(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||cb,this._currentKeyframe[t]=cb}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,i){e&&(this._previousKeyframe.easing=e);const r=i&&i.params||{},s=function(t,e){const n={};let i;return t.forEach(t=>{"*"===t?(i=i||Object.keys(e),i.forEach(t=>{n[t]=cb})):$b(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=iy(s[t],r,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:cb),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],i=t._styleSummary[e];(!n||i.time>n.time)&&this._updateStyle(e,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((r,s)=>{const o=$b(r,!0);Object.keys(o).forEach(n=>{const i=o[n];"!"==i?t.add(n):i==cb&&e.add(n)}),n||(o.offset=s/this.duration),i.push(o)});const r=t.size?ry(t.values()):[],s=e.size?ry(e.values()):[];if(n){const t=i[0],e=Kb(t);t.offset=0,e.offset=1,i=[t,e]}return Cy(this.element,i,r,s,this.duration,this.startTime,this.easing,!1)}}class Py extends Dy{constructor(t,e,n,i,r,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=i,this.postStyleProps=r,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const r=[],s=n+e,o=e/s,a=$b(t[0],!1);a.offset=0,r.push(a);const c=$b(t[0],!1);c.offset=jy(o),r.push(c);const u=t.length-1;for(let i=1;i<=u;i++){let o=$b(t[i],!1);o.offset=jy((e+o.offset*n)/s),r.push(o)}n=s,e=0,i="",t=r}return Cy(this.element,t,this.preStyleProps,this.postStyleProps,n,e,i,!0)}}function jy(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class Ny{}class Ry extends Ny{normalizePropertyName(t,e){return oy(t)}normalizeStyleValue(t,e,n,i){let r="";const s=n.toString().trim();if(Ly[e]&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&i.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+r}}const Ly=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function My(t,e,n,i,r,s,o,a,c,u,l,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:c,preStyleProps:u,postStyleProps:l,totalTime:h,errors:d}}const Fy={};class Vy{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,i){return function(t,e,n,i,r){return t.some(t=>t(e,n,i,r))}(this.ast.matchers,t,e,n,i)}buildStyles(t,e,n){const i=this._stateStyles["*"],r=this._stateStyles[t],s=i?i.buildStyles(e,n):{};return r?r.buildStyles(e,n):s}build(t,e,n,i,r,s,o,a,c,u){const l=[],h=this.ast.options&&this.ast.options.params||Fy,d=this.buildStyles(n,o&&o.params||Fy,l),f=a&&a.params||Fy,p=this.buildStyles(i,f,l),m=new Set,g=new Map,b=new Map,y="void"===i,_={params:Object.assign(Object.assign({},h),f)},v=u?[]:Iy(t,e,this.ast.animation,r,s,d,p,_,c,l);let w=0;if(v.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return My(e,this._triggerName,n,i,y,d,p,[],[],g,b,w,l);v.forEach(t=>{const n=t.element,i=xb(g,n,{});t.preStyleProps.forEach(t=>i[t]=!0);const r=xb(b,n,{});t.postStyleProps.forEach(t=>r[t]=!0),n!==e&&m.add(n)});const E=ry(m.values());return My(e,this._triggerName,n,i,y,d,p,v,E,g,b,w)}}class By{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},i=Kb(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(i[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const r=t;Object.keys(r).forEach(t=>{let s=r[t];s.length>1&&(s=iy(s,i,e)),n[t]=s})}}),n}}class Hy{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new By(t.style,t.options&&t.options.params||{})}),zy(this.states,"true","1"),zy(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new Vy(t,e,this.states))}),this.fallbackTransition=new Vy(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,i){return this.transitionFactories.find(r=>r.match(t,e,n,i))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function zy(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const Uy=new xy;class qy{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],i=by(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=i}_buildPlayer(t,e,n){const i=t.element,r=vb(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(i,r,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const i=[],r=this._animations[t];let s;const o=new Map;if(r?(s=Iy(this._driver,e,r,Vb,Bb,{},{},n,Uy,i),s.forEach(t=>{const e=xb(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),s=[]),i.length)throw new Error("Unable to create the animation due to the following errors: "+i.join("\n"));o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,cb)})});const a=_b(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}listen(t,e,n,i){const r=Cb(e,"","","");return wb(this._getPlayer(t),n,r,i),()=>{}}command(t,e,n,i){if("register"==n)return void this.register(t,i[0]);if("create"==n)return void this.create(t,e,i[0]||{});const r=this._getPlayer(t);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const Gy="ng-animate-queued",Qy="ng-animate-disabled",Wy=".ng-animate-disabled",Ky=[],$y={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Xy={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class Yy{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(i=n?t.value:t)?i:null,n){const e=Kb(t);delete e.value,this.options=e}else this.options={};var i;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const Zy="void",Jy=new Yy(Zy);class t_{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,a_(e,this._hostClassName)}listen(t,e,n,i){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(r=n)&&"done"!=r)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var r;const s=xb(this._elementListeners,t,[]),o={name:e,phase:n,callback:i};s.push(o);const a=xb(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(a_(t,Hb),a_(t,"ng-trigger-"+e),a[e]=Jy),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,i=!0){const r=this._getTrigger(e),s=new n_(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(a_(t,Hb),a_(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const c=new Yy(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&c.absorbOptions(a.options),o[e]=c,a||(a=Jy),c.value!==Zy&&a.value===c.value){if(!function(t,e){const n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){const i=n[r];if(!e.hasOwnProperty(i)||t[i]!==e[i])return!1}return!0}(a.params,c.params)){const e=[],n=r.matchStyles(a.value,a.params,e),i=r.matchStyles(c.value,c.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{Jb(t,n),Zb(t,i)})}return}const u=xb(this._engine.playersByElement,t,[]);u.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=r.matchTransition(a.value,c.value,t,c.params),h=!1;if(!l){if(!i)return;l=r.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:c,player:s,isFallbackTransition:h}),h||(a_(t,Gy),s.onStart(()=>{c_(t,Gy)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),u.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,zb,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,i){const r=this._engine.statesByElement.get(t);if(r){const s=[];if(Object.keys(r).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,Zy,i);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&_b(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const i=e.name;if(n.has(i))return;n.add(i);const r=this._triggers[i].fallbackTransition,s=this._engine.statesByElement.get(t)[i]||Jy,o=new Yy(Zy),a=new n_(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:r,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)i=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)n.markElementAsRemoved(this.id,t,!1,e);else{const i=t.__ng_removed;i&&i!==$y||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){a_(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const i=n.player;if(i.destroyed)return;const r=n.element,s=this._elementListeners.get(r);s&&s.forEach(e=>{if(e.name==n.triggerName){const i=Cb(r,n.triggerName,n.fromState.value,n.toState.value);i._data=t,wb(n.player,e.phase,i,e.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,i=e.transition.ast.depCount;return 0==n||0==i?n-i:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class e_{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new t_(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let i=!1;for(let r=n;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,e)){this._namespaceList.splice(r+1,0,t),i=!0;break}i||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let i=this._namespaceLookup[t];i&&i.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=n[t[i]].namespaceId;if(r){const t=this._fetchNamespace(r);t&&e.add(t)}}}return e}trigger(t,e,n,i){if(i_(e)){const r=this._fetchNamespace(t);if(r)return r.trigger(e,n,i),!0}return!1}insertNode(t,e,n,i){if(!i_(e))return;const r=e.__ng_removed;if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const i=this._fetchNamespace(t);i&&i.insertNode(e,n)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),a_(t,Qy)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),c_(t,Qy))}removeNode(t,e,n,i){if(i_(e)){const r=t?this._fetchNamespace(t):null;if(r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,i)}}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,n,i){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,i,r){return i_(e)?this._fetchNamespace(t).listen(e,n,i,r):()=>{}}_buildInstruction(t,e,n,i,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,i,t.fromState.options,t.toState.options,e,r)}destroyInnerAnimations(t){let e=this.driver.query(t,zb,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,qb,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return _b(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=$y,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,Wy)&&this.markElementAsDisabled(t,!1),this.driver.query(t,Wy,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)a_(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?_b(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}_flushAnimations(t,e){const n=new xy,i=[],r=new Map,s=[],o=new Map,a=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(t=>{u.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)u.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=o_(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n=Vb+p++;f.set(e,n),t.forEach(t=>a_(t,n))});const m=[],g=new Set,b=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){const t=this.collectedLeaveElements[A],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):b.add(t))}const y=new Map,_=o_(h,Array.from(g));_.forEach((t,e)=>{const n=Bb+p++;y.set(e,n),t.forEach(t=>a_(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>c_(t,n))}),_.forEach((t,e)=>{const n=y.get(e);t.forEach(t=>c_(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const v=[],w=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(e).forEach(t=>{const e=t.player,r=t.element;if(v.push(e),this.collectedEnterElements.length){const t=r.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const u=!l||!this.driver.containsElement(l,r),h=y.get(r),d=f.get(r),p=this._buildInstruction(t,n,d,h,u);if(p.errors&&p.errors.length)w.push(p);else{if(u)return e.onStart(()=>Jb(r,p.fromStyles)),e.onDestroy(()=>Zb(r,p.toStyles)),void i.push(e);if(t.isFallbackTransition)return e.onStart(()=>Jb(r,p.fromStyles)),e.onDestroy(()=>Zb(r,p.toStyles)),void i.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(r,p.timelines),s.push({instruction:p,player:e,element:r}),p.queriedElements.forEach(t=>xb(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let i=c.get(e);i||c.set(e,i=new Set),n.forEach(t=>i.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),v.forEach(t=>t.destroy()),this.reportError(t)}const E=new Map,C=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(C.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,E))}),i.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{xb(E,e,[]).push(t),t.destroy()})});const x=m.filter(t=>l_(t,a,c)),S=new Map;s_(S,this.driver,b,c,cb).forEach(t=>{l_(t,a,c)&&x.push(t)});const O=new Map;d.forEach((t,e)=>{s_(O,this.driver,new Set(t),a,"!")}),x.forEach(t=>{const e=S.get(t),n=O.get(t);S.set(t,Object.assign(Object.assign({},e),n))});const I=[],T=[],k={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(u.has(e))return s.onDestroy(()=>Zb(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void i.push(s);let t=k;if(C.size>1){let n=e;const i=[];for(;n=n.parentNode;){const e=C.get(n);if(e){t=e;break}i.push(n)}i.forEach(e=>C.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,E,r,O,S);if(s.setRealPlayer(n),t===k)I.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=_b(e)),i.push(s)}}else Jb(e,o.fromStyles),s.onDestroy(()=>Zb(e,o.toStyles)),T.push(s),u.has(e)&&i.push(s)}),T.forEach(t=>{const e=r.get(t.element);if(e&&e.length){const n=_b(e);t.setRealPlayer(n)}}),i.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let A=0;A<m.length;A++){const t=m[A],e=t.__ng_removed;if(c_(t,Bb),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let i=this.driver.query(t,qb,!0);for(let t=0;t<i.length;t++){let e=o.get(i[t]);e&&e.length&&n.push(...e)}}const i=n.filter(t=>!t.destroyed);i.length?u_(this,t,i):this.processLeaveNode(t)}return m.length=0,I.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),I}elementContainsData(t,e){let n=!1;const i=e.__ng_removed;return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,i,r){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!r||r==Zy;e.forEach(e=>{e.queued||(t||e.triggerName==i)&&s.push(e)})}}return(n||i)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||i&&i!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const i=e.element,r=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==i,c=xb(n,t,[]);this._getPreviousPlayers(t,a,r,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),c.push(t)})}Jb(i,e.fromStyles)}_buildAnimation(t,e,n,i,r,s){const o=e.triggerName,a=e.element,c=[],u=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;u.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new gb(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return function t(e,n){for(let i=0;i<e.length;i++){const r=e[i];r instanceof bb?t(r.players,n):n.push(r)}}(t,e),e}((n.get(h)||Ky).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=r.get(h),g=s.get(h),b=vb(0,this._normalizer,0,e.keyframes,m,g),y=this._buildPlayer(e,b,p);if(e.subTimeline&&i&&l.add(h),f){const e=new n_(t,o,h);e.setRealPlayer(y),c.push(e)}return y});c.forEach(t=>{xb(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let i;if(t instanceof Map){if(i=t.get(e),i){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&t.delete(e)}}else if(i=t[e],i){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&delete t[e]}return i}(this.playersByQueriedElement,t.element,t))}),u.forEach(t=>a_(t,Ub));const d=_b(h);return d.onDestroy(()=>{u.forEach(t=>c_(t,Ub)),Zb(a,e.toStyles)}),l.forEach(t=>{xb(i,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new gb(t.duration,t.delay)}}class n_{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new gb,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>wb(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){xb(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function i_(t){return t&&1===t.nodeType}function r_(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function s_(t,e,n,i,r){const s=[];n.forEach(t=>s.push(r_(t)));const o=[];i.forEach((n,i)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(i,t,r);n&&0!=n.length||(i.__ng_removed=Xy,o.push(i))}),t.set(i,s)});let a=0;return n.forEach(t=>r_(t,s[a++])),o}function o_(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const i=new Set(e),r=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let s=r.get(e);if(s)return s;const o=e.parentNode;return s=n.has(o)?o:i.has(o)?1:t(o),r.set(e,s),s}(t);1!==e&&n.get(e).push(t)}),n}function a_(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function c_(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function u_(t,e,n){_b(n).onDone(()=>t.processLeaveNode(e))}function l_(t,e,n){const i=n.get(t);if(!i)return!1;let r=e.get(t);return r?i.forEach(t=>r.add(t)):e.set(t,i),n.delete(t),!0}class h_{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new e_(t,e,n),this._timelineEngine=new qy(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,i,r){const s=t+"-"+i;let o=this._triggerCache[s];if(!o){const t=[],e=by(this._driver,r,t);if(t.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new Hy(t,e)}(i,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,i,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,i){this._transitionEngine.insertNode(t,e,n,i)}onRemove(t,e,n,i){this._transitionEngine.removeNode(t,e,i||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,i){if("@"==n.charAt(0)){const[t,r]=Sb(n);this._timelineEngine.command(t,e,r,i)}else this._transitionEngine.trigger(t,e,n,i)}listen(t,e,n,i,r){if("@"==n.charAt(0)){const[t,i]=Sb(n);return this._timelineEngine.listen(t,e,i,r)}return this._transitionEngine.listen(t,e,n,i,r)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function d_(t,e){let n=null,i=null;return Array.isArray(e)&&e.length?(n=p_(e[0]),e.length>1&&(i=p_(e[e.length-1]))):e&&(n=p_(e)),n||i?new f_(t,n,i):null}let f_=(()=>{class t{constructor(e,n,i){this._element=e,this._startStyles=n,this._endStyles=i,this._state=0;let r=t.initialStylesByElement.get(e);r||t.initialStylesByElement.set(e,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Zb(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Zb(this._element,this._initialStyles),this._endStyles&&(Zb(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Jb(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Jb(this._element,this._endStyles),this._endStyles=null),Zb(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function p_(t){let e=null;const n=Object.keys(t);for(let i=0;i<n.length;i++){const r=n[i];m_(r)&&(e=e||{},e[r]=t[r])}return e}function m_(t){return"display"===t||"position"===t}const g_="animation",b_="animationend";class y_{constructor(t,e,n,i,r,s,o){this._element=t,this._name=e,this._duration=n,this._delay=i,this._easing=r,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=x_(t,"").trim();n.length&&(function(t,e){let n=0;for(let i=0;i<t.length;i++)","===t.charAt(i)&&n++}(n),e=`${n}, ${e}`),C_(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),E_(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){__(this._element,this._name,"paused")}resume(){__(this._element,this._name,"running")}setPosition(t){const e=v_(this._element,this._name);this._position=t*this._duration,C_(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),E_(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=x_(t,"").split(","),i=w_(n,e);i>=0&&(n.splice(i,1),C_(t,"",n.join(",")))}(this._element,this._name))}}function __(t,e,n){C_(t,"PlayState",n,v_(t,e))}function v_(t,e){const n=x_(t,"");return n.indexOf(",")>0?w_(n.split(","),e):w_([n],e)}function w_(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function E_(t,e,n){n?t.removeEventListener(b_,e):t.addEventListener(b_,e)}function C_(t,e,n,i){const r=g_+e;if(null!=i){const e=t.style[r];if(e.length){const t=e.split(",");t[i]=n,n=t.join(",")}}t.style[r]=n}function x_(t,e){return t.style[g_+e]}class S_{constructor(t,e,n,i,r,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=i,this._delay=r,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=i+r,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new y_(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:ly(this.element,n))})}this.currentSnapshot=t}}class O_ extends gb{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=Lb(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class I_{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return Pb(t)}matchesElement(t,e){return jb(t,e)}containsElement(t,e){return Nb(t,e)}query(t,e,n){return Rb(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>Lb(t));let i=`@keyframes ${e} {\n`,r="";n.forEach(t=>{r=" ";const e=parseFloat(t.offset);i+=`${r}${100*e}% {\n`,r+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(i+=`${r}animation-timing-function: ${n};\n`));default:return void(i+=`${r}${e}: ${n};\n`)}}),i+=r+"}\n"}),i+="}\n";const s=document.createElement("style");return s.textContent=i,s}animate(t,e,n,i,r,s=[],o){o&&this._notifyFaultyScrubber();const a=s.filter(t=>t instanceof S_),c={};ay(n,i)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const u=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=cy(t,e,c));if(0==n)return new O_(t,u);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const d=d_(t,e),f=new S_(t,e,l,n,i,r,u,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class T_{constructor(t,e,n,i){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:ly(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class k_{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(A_().toString()),this._cssKeyframesDriver=new I_}validateStyleProperty(t){return Pb(t)}matchesElement(t,e){return jb(t,e)}containsElement(t,e){return Nb(t,e)}query(t,e,n){return Rb(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,i,r,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,i,r,s);const a={duration:n,delay:i,fill:0==i?"both":"forwards"};r&&(a.easing=r);const c={},u=s.filter(t=>t instanceof T_);ay(n,i)&&u.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const l=d_(t,e=cy(t,e=e.map(t=>$b(t,!1)),c));return new T_(t,e,a,l)}}function A_(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let D_=(()=>{class t extends ab{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:i.M.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?hb(t):t;return N_(this._renderer,null,e,"register",[n]),new P_(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.B),i.Qb(c))},t.\u0275prov=i.Cb({token:t,factory:t.\u0275fac}),t})();class P_ extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new j_(this._id,t,e||{},this._renderer)}}class j_{constructor(t,e,n,i){this.id=t,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return N_(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function N_(t,e,n,i,r){return t.setProperty(e,`@@${n}:${i}`,r)}const R_="@",L_="@.disabled";let M_=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new F_("",n,this.engine),this._rendererCache.set(n,t)),t}const i=e.id,r=e.id+"-"+this._currentId;this._currentId++,this.engine.register(r,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(i,r,t,e.name,e)};return e.data.animation.forEach(s),new V_(this,r,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.B),i.Qb(h_),i.Qb(i.v))},t.\u0275prov=i.Cb({token:t,factory:t.\u0275fac}),t})();class F_{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,i){this.delegate.setAttribute(t,e,n,i)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,i){this.delegate.setStyle(t,e,n,i)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==R_&&e==L_?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class V_ extends F_{constructor(t,e,n,i){super(e,n,i),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==R_?"."==e.charAt(1)&&e==L_?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==R_){const i=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let r=e.substr(1),s="";return r.charAt(0)!=R_&&([r,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(r)),this.engine.listen(this.namespaceId,i,r,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let B_=(()=>{class t extends h_{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(c),i.Qb(Fb),i.Qb(Ny))},t.\u0275prov=i.Cb({token:t,factory:t.\u0275fac}),t})();const H_=new i.o("AnimationModuleType"),z_=[{provide:Fb,useFactory:function(){return"function"==typeof A_()?new k_:new I_}},{provide:H_,useValue:"BrowserAnimations"},{provide:ab,useClass:D_},{provide:Ny,useFactory:function(){return new Ry}},{provide:h_,useClass:B_},{provide:i.B,useFactory:function(t,e,n){return new M_(t,e,n)},deps:[ht,h_,i.v]}];let U_=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},providers:z_,imports:[Ot]}),t})();const q_=new i.K("10.2.7"),G_=new i.o("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Q_=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getDocument(){const t=this._document||document;return"object"==typeof t&&t?t:null}_getWindow(){const t=this._getDocument(),e=(null==t?void 0:t.defaultView)||window;return"object"==typeof e&&e?e:null}_checksAreEnabled(){return Object(i.R)()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){const t=this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype),e=this._getDocument();t&&e&&!e.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){const t=!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme,e=this._getDocument();if(t||!e||!e.body||"function"!=typeof getComputedStyle)return;const n=e.createElement("div");n.classList.add("mat-theme-loaded-marker"),e.body.appendChild(n);const i=getComputedStyle(n);i&&"none"!==i.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),e.body.removeChild(n)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&q_.full!==ob.full&&console.warn("The Angular Material version ("+q_.full+") does not match the Angular CDK version ("+ob.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)(i.Qb(eb),i.Qb(G_,8),i.Qb(c,8))},imports:[[sb],sb]}),t})();function W_(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Dg(t)}}}function K_(t,e){return class extends t{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const e=t||this.defaultColor;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-"+this._color),e&&this._elementRef.nativeElement.classList.add("mat-"+e),this._color=e)}}}function $_(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Dg(t)}}}function X_(t){return class extends t{constructor(...t){super(...t),this.errorState=!1,this.stateChanges=new It.a}updateErrorState(){const t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}}const Y_=new i.o("MAT_DATE_LOCALE",{providedIn:"root",factory:function(){return Object(i.Q)(i.s)}});class Z_{constructor(){this._localeChanges=new It.a,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let n=this.isValid(t),i=this.isValid(e);return n&&i?!this.compareDate(t,e):n==i}return t==e}clampDate(t,e,n){return e&&this.compareDate(t,e)<0?e:n&&this.compareDate(t,n)>0?n:t}}const J_=new i.o("mat-date-formats");let tv;try{tv="undefined"!=typeof Intl}catch($T){tv=!1}const ev={long:["January","February","March","April","May","June","July","August","September","October","November","December"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"]},nv=sv(31,t=>String(t+1)),iv={long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"]},rv=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function sv(t,e){const n=Array(t);for(let i=0;i<t;i++)n[i]=e(i);return n}let ov=(()=>{class t extends Z_{constructor(t,e){super(),this.useUtcForDisplay=!0,super.setLocale(t),this.useUtcForDisplay=!e.TRIDENT,this._clampDate=e.TRIDENT||e.EDGE}getYear(t){return t.getFullYear()}getMonth(t){return t.getMonth()}getDate(t){return t.getDate()}getDayOfWeek(t){return t.getDay()}getMonthNames(t){if(tv){const e=new Intl.DateTimeFormat(this.locale,{month:t,timeZone:"utc"});return sv(12,t=>this._stripDirectionalityCharacters(this._format(e,new Date(2017,t,1))))}return ev[t]}getDateNames(){if(tv){const t=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return sv(31,e=>this._stripDirectionalityCharacters(this._format(t,new Date(2017,0,e+1))))}return nv}getDayOfWeekNames(t){if(tv){const e=new Intl.DateTimeFormat(this.locale,{weekday:t,timeZone:"utc"});return sv(7,t=>this._stripDirectionalityCharacters(this._format(e,new Date(2017,0,t+1))))}return iv[t]}getYearName(t){if(tv){const e=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._stripDirectionalityCharacters(this._format(e,t))}return String(this.getYear(t))}getFirstDayOfWeek(){return 0}getNumDaysInMonth(t){return this.getDate(this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+1,0))}clone(t){return new Date(t.getTime())}createDate(t,e,n){let i=this._createDateWithOverflow(t,e,n);return i.getMonth(),i}today(){return new Date}parse(t){return"number"==typeof t?new Date(t):t?new Date(Date.parse(t)):null}format(t,e){if(!this.isValid(t))throw Error("NativeDateAdapter: Cannot format invalid date.");if(tv){this._clampDate&&(t.getFullYear()<1||t.getFullYear()>9999)&&(t=this.clone(t)).setFullYear(Math.max(1,Math.min(9999,t.getFullYear()))),e=Object.assign(Object.assign({},e),{timeZone:"utc"});const n=new Intl.DateTimeFormat(this.locale,e);return this._stripDirectionalityCharacters(this._format(n,t))}return this._stripDirectionalityCharacters(t.toDateString())}addCalendarYears(t,e){return this.addCalendarMonths(t,12*e)}addCalendarMonths(t,e){let n=this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+e,this.getDate(t));return this.getMonth(n)!=((this.getMonth(t)+e)%12+12)%12&&(n=this._createDateWithOverflow(this.getYear(n),this.getMonth(n),0)),n}addCalendarDays(t,e){return this._createDateWithOverflow(this.getYear(t),this.getMonth(t),this.getDate(t)+e)}toIso8601(t){return[t.getUTCFullYear(),this._2digit(t.getUTCMonth()+1),this._2digit(t.getUTCDate())].join("-")}deserialize(t){if("string"==typeof t){if(!t)return null;if(rv.test(t)){let e=new Date(t);if(this.isValid(e))return e}}return super.deserialize(t)}isDateInstance(t){return t instanceof Date}isValid(t){return!isNaN(t.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(t,e,n){const i=new Date;return i.setFullYear(t,e,n),i.setHours(0,0,0,0),i}_2digit(t){return("00"+t).slice(-2)}_stripDirectionalityCharacters(t){return t.replace(/[\u200e\u200f]/g,"")}_format(t,e){const n=new Date;return n.setUTCFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setUTCHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),t.format(n)}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(Y_,8),i.Qb(bg))},t.\u0275prov=i.Cb({token:t,factory:t.\u0275fac}),t})(),av=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},providers:[{provide:Z_,useClass:ov}],imports:[[yg]]}),t})();const cv={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let uv=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},providers:[{provide:J_,useValue:cv}],imports:[[av]]}),t})(),lv=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Cb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),hv=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},imports:[[Q_],Q_]}),t})();class dv{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const fv={enterDuration:450,exitDuration:400},pv=Cg({passive:!0}),mv=["mousedown","touchstart"],gv=["mouseup","mouseleave","touchend","touchcancel"];class bv{constructor(t,e,n,i){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Rg(n))}fadeInRipple(t,e,n={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),r=Object.assign(Object.assign({},fv),n.animation);n.centered&&(t=i.left+i.width/2,e=i.top+i.height/2);const s=n.radius||function(t,e,n){const i=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),r=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(i*i+r*r)}(t,e,i),o=t-i.left,a=e-i.top,c=r.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=o-s+"px",u.style.top=a-s+"px",u.style.height=2*s+"px",u.style.width=2*s+"px",null!=n.color&&(u.style.backgroundColor=n.color),u.style.transitionDuration=c+"ms",this._containerElement.appendChild(u),window.getComputedStyle(u).getPropertyValue("opacity"),u.style.transform="scale(1)";const l=new dv(this,u,n);return l.state=0,this._activeRipples.add(l),n.persistent||(this._mostRecentTransientRipple=l),this._runTimeoutOutsideZone(()=>{const t=l===this._mostRecentTransientRipple;l.state=1,n.persistent||t&&this._isPointerDown||l.fadeOut()},c),l}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,i=Object.assign(Object.assign({},fv),t.config.animation);n.style.transitionDuration=i.exitDuration+"ms",n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.parentNode.removeChild(n)},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){const e=Rg(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(mv))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(gv),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=Qg(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(t=>{this._triggerElement.addEventListener(t,this,pv)})})}_removeTriggerEvents(){this._triggerElement&&(mv.forEach(t=>{this._triggerElement.removeEventListener(t,this,pv)}),this._pointerUpEventsRegistered&&gv.forEach(t=>{this._triggerElement.removeEventListener(t,this,pv)}))}}const yv=new i.o("mat-ripple-global-options");let _v=(()=>{class t{constructor(t,e,n,i,r){this._elementRef=t,this._animationMode=r,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=i||{},this._rippleRenderer=new bv(this,e,t,n)}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(i.Gb(i.i),i.Gb(i.v),i.Gb(bg),i.Gb(yv,8),i.Gb(H_,8))},t.\u0275dir=i.Bb({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&i.yb("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),vv=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},imports:[[Q_,yg],Q_]}),t})(),wv=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)}}),t})(),Ev=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},imports:[[vv,W,wv]]}),t})();const Cv=new i.o("mat-label-global-options");var xv=n("z6cu"),Sv=n("DH7j"),Ov=n("XoHu");function Iv(...t){if(1===t.length){const e=t[0];if(Object(Sv.a)(e))return Tv(e,null);if(Object(Ov.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Tv(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Tv(t=1===t.length&&Object(Sv.a)(t[0])?t[0]:t,null).pipe(Object(jt.a)(t=>e(...t)))}return Tv(t,null)}function Tv(t,e){return new kt.a(n=>{const i=t.length;if(0===i)return void n.complete();const r=new Array(i);let s=0,o=0;for(let a=0;a<i;a++){const c=Object(At.a)(t[a]);let u=!1;n.add(c.subscribe({next:t=>{u||(u=!0,o++),r[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==i&&u||(o===i&&n.next(e?e.reduce((t,e,n)=>(t[e]=r[n],t),{}):r),n.complete())}}))}})}class kv{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Av(t,this.selector,this.caught))}}class Av extends Nt.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const i=new Nt.a(this);this.add(i);const r=Object(Nt.c)(n,i);r!==i&&this.add(r)}}}class Dv{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Pv(t,this.callback))}}class Pv extends Qt.a{constructor(t,e){super(t),this.add(new Vt.a(e))}}var jv=n("w1tV"),Nv=n("5+tZ");class Rv{}class Lv{}class Mv{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),i=n.toLowerCase(),r=t.slice(e+1).trim();this.maybeSetNormalizedName(n,i),this.headers.has(i)?this.headers.get(i).push(r):this.headers.set(i,[r])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const i=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(i,n),this.maybeSetNormalizedName(e,i))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Mv?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Mv;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Mv?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...n),this.headers.set(e,i);break;case"d":const r=t.value;if(r){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===r.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Fv{encodeKey(t){return Vv(t)}encodeValue(t){return Vv(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function Vv(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class Bv{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Fv,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const i=t.indexOf("="),[r,s]=-1==i?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,i)),e.decodeValue(t.slice(i+1))],o=n.get(r)||[];o.push(s),n.set(r,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Bv({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function Hv(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function zv(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Uv(t){return"undefined"!=typeof FormData&&t instanceof FormData}class qv{constructor(t,e,n,i){let r;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==n?n:null,r=i):r=n,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.params&&(this.params=r.params)),this.headers||(this.headers=new Mv),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new Bv,this.urlWithParams=e}serializeBody(){return null===this.body?null:Hv(this.body)||zv(this.body)||Uv(this.body)||"string"==typeof this.body?this.body:this.body instanceof Bv?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Uv(this.body)?null:zv(this.body)?this.body.type||null:Hv(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Bv?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,i=t.responseType||this.responseType,r=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,c=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(c=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),c)),new qv(e,n,r,{params:c,headers:a,reportProgress:o,responseType:i,withCredentials:s})}}var Gv=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class Qv{constructor(t,e=200,n="OK"){this.headers=t.headers||new Mv,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Wv extends Qv{constructor(t={}){super(t),this.type=Gv.ResponseHeader}clone(t={}){return new Wv({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Kv extends Qv{constructor(t={}){super(t),this.type=Gv.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Kv({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class $v extends Qv{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Xv(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Yv=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let i;if(t instanceof qv)i=t;else{let r=void 0;r=n.headers instanceof Mv?n.headers:new Mv(n.headers);let s=void 0;n.params&&(s=n.params instanceof Bv?n.params:new Bv({fromObject:n.params})),i=new qv(t,e,void 0!==n.body?n.body:null,{headers:r,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const r=Object(Tt.a)(i).pipe((s=t=>this.handler.handle(t),Object(Nv.a)(s,void 0,1)));var s;if(t instanceof qv||"events"===n.observe)return r;const o=r.pipe(Wt(t=>t instanceof Kv));switch(n.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return o.pipe(Object(jt.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe(Object(jt.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe(Object(jt.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe(Object(jt.a)(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new Bv).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,Xv(n,e))}post(t,e,n={}){return this.request("POST",t,Xv(n,e))}put(t,e,n={}){return this.request("PUT",t,Xv(n,e))}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(Rv))},t.\u0275prov=i.Cb({token:t,factory:t.\u0275fac}),t})();class Zv{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const Jv=new i.o("HTTP_INTERCEPTORS");let tw=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Cb({token:t,factory:t.\u0275fac}),t})();const ew=/^\)\]\}',?\n/;class nw{}let iw=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Cb({token:t,factory:t.\u0275fac}),t})(),rw=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new kt.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const i=t.serializeBody();let r=null;const s=()=>{if(null!==r)return r;const e=1223===n.status?204:n.status,i=n.statusText||"OK",s=new Mv(n.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return r=new Wv({headers:s,status:e,statusText:i,url:o}),r},o=()=>{let{headers:i,status:r,statusText:o,url:a}=s(),c=null;204!==r&&(c=void 0===n.response?n.responseText:n.response),0===r&&(r=c?200:0);let u=r>=200&&r<300;if("json"===t.responseType&&"string"==typeof c){const t=c;c=c.replace(ew,"");try{c=""!==c?JSON.parse(c):null}catch(l){c=t,u&&(u=!1,c={error:l,text:c})}}u?(e.next(new Kv({body:c,headers:i,status:r,statusText:o,url:a||void 0})),e.complete()):e.error(new $v({error:c,headers:i,status:r,statusText:o,url:a||void 0}))},a=t=>{const{url:i}=s(),r=new $v({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:i||void 0});e.error(r)};let c=!1;const u=i=>{c||(e.next(s()),c=!0);let r={type:Gv.DownloadProgress,loaded:i.loaded};i.lengthComputable&&(r.total=i.total),"text"===t.responseType&&n.responseText&&(r.partialText=n.responseText),e.next(r)},l=t=>{let n={type:Gv.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",u),null!==i&&n.upload&&n.upload.addEventListener("progress",l)),n.send(i),e.next({type:Gv.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",o),t.reportProgress&&(n.removeEventListener("progress",u),null!==i&&n.upload&&n.upload.removeEventListener("progress",l)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(nw))},t.\u0275prov=i.Cb({token:t,factory:t.\u0275fac}),t})();const sw=new i.o("XSRF_COOKIE_NAME"),ow=new i.o("XSRF_HEADER_NAME");class aw{}let cw=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=R(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(c),i.Qb(i.x),i.Qb(sw))},t.\u0275prov=i.Cb({token:t,factory:t.\u0275fac}),t})(),uw=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const i=this.tokenService.getToken();return null===i||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,i)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(aw),i.Qb(ow))},t.\u0275prov=i.Cb({token:t,factory:t.\u0275fac}),t})(),lw=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(Jv,[]);this.chain=t.reduceRight((t,e)=>new Zv(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(Lv),i.Qb(i.p))},t.\u0275prov=i.Cb({token:t,factory:t.\u0275fac}),t})(),hw=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:uw,useClass:tw}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:sw,useValue:e.cookieName}:[],e.headerName?{provide:ow,useValue:e.headerName}:[]]}}}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},providers:[uw,{provide:Jv,useExisting:uw,multi:!0},{provide:aw,useClass:cw},{provide:sw,useValue:"XSRF-TOKEN"},{provide:ow,useValue:"X-XSRF-TOKEN"}]}),t})(),dw=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},providers:[Yv,{provide:Rv,useClass:lw},rw,{provide:Lv,useExisting:rw},iw,{provide:nw,useExisting:iw}],imports:[[hw.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();const fw=["*"];function pw(t){return Error(`Unable to find icon with the name "${t}"`)}function mw(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function gw(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class bw{constructor(t,e,n){this.url=t,this.svgText=e,this.options=n}}let yw=(()=>{class t{constructor(t,e,n,i){this._httpClient=t,this._sanitizer=e,this._errorHandler=i,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(t,e,n){return this.addSvgIconInNamespace("",t,e,n)}addSvgIconLiteral(t,e,n){return this.addSvgIconLiteralInNamespace("",t,e,n)}addSvgIconInNamespace(t,e,n,i){return this._addSvgIconConfig(t,e,new bw(n,null,i))}addSvgIconLiteralInNamespace(t,e,n,r){const s=this._sanitizer.sanitize(i.E.HTML,n);if(!s)throw gw(n);return this._addSvgIconConfig(t,e,new bw("",s,r))}addSvgIconSet(t,e){return this.addSvgIconSetInNamespace("",t,e)}addSvgIconSetLiteral(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}addSvgIconSetInNamespace(t,e,n){return this._addSvgIconSetConfig(t,new bw(e,null,n))}addSvgIconSetLiteralInNamespace(t,e,n){const r=this._sanitizer.sanitize(i.E.HTML,e);if(!r)throw gw(e);return this._addSvgIconSetConfig(t,new bw("",r,n))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const e=this._sanitizer.sanitize(i.E.RESOURCE_URL,t);if(!e)throw mw(t);const n=this._cachedIconsByUrl.get(e);return n?Object(Tt.a)(_w(n)):this._loadSvgIconFromConfig(new bw(t,null)).pipe(Object(Og.a)(t=>this._cachedIconsByUrl.set(e,t)),Object(jt.a)(t=>_w(t)))}getNamedSvgIcon(t,e=""){const n=vw(e,t),i=this._svgIconConfigs.get(n);if(i)return this._getSvgFromConfig(i);const r=this._iconSetConfigs.get(e);return r?this._getSvgFromIconSetConfigs(t,r):Object(xv.a)(pw(n))}ngOnDestroy(){this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Object(Tt.a)(_w(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(Object(jt.a)(t=>_w(t)))}_getSvgFromIconSetConfigs(t,e){const n=this._extractIconWithNameFromAnySet(t,e);return n?Object(Tt.a)(n):Iv(e.filter(t=>!t.svgText).map(t=>{return this._loadSvgIconSetFromConfig(t).pipe((e=e=>{const n=this._sanitizer.sanitize(i.E.RESOURCE_URL,t.url);return this._errorHandler.handleError(new Error(`Loading icon set URL: ${n} failed: ${e.message}`)),Object(Tt.a)(null)},function(t){const n=new kv(e),i=t.lift(n);return n.caught=i}));var e})).pipe(Object(jt.a)(()=>{const n=this._extractIconWithNameFromAnySet(t,e);if(!n)throw pw(t);return n}))}_extractIconWithNameFromAnySet(t,e){for(let n=e.length-1;n>=0;n--){const i=e[n];if(i.svgText&&i.svgText.indexOf(t)>-1){const e=this._svgElementFromConfig(i),n=this._extractSvgIconFromSet(e,t,i.options);if(n)return n}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Object(Og.a)(e=>t.svgText=e),Object(jt.a)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Object(Tt.a)(null):this._fetchIcon(t).pipe(Object(Og.a)(e=>t.svgText=e))}_extractSvgIconFromSet(t,e,n){const i=t.querySelector(`[id="${e}"]`);if(!i)return null;const r=i.cloneNode(!0);if(r.removeAttribute("id"),"svg"===r.nodeName.toLowerCase())return this._setSvgAttributes(r,n);if("symbol"===r.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(r),n);const s=this._svgElementFromString("<svg></svg>");return s.appendChild(r),this._setSvgAttributes(s,n)}_svgElementFromString(t){const e=this._document.createElement("DIV");e.innerHTML=t;const n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(t){const e=this._svgElementFromString("<svg></svg>"),n=t.attributes;for(let i=0;i<n.length;i++){const{name:t,value:r}=n[i];"id"!==t&&e.setAttribute(t,r)}for(let i=0;i<t.childNodes.length;i++)t.childNodes[i].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[i].cloneNode(!0));return e}_setSvgAttributes(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}_fetchIcon(t){var e;const{url:n,options:r}=t,s=null!==(e=null==r?void 0:r.withCredentials)&&void 0!==e&&e;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const o=this._sanitizer.sanitize(i.E.RESOURCE_URL,n);if(!o)throw mw(n);const a=this._inProgressUrlFetches.get(o);if(a)return a;const c=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe((u=()=>this._inProgressUrlFetches.delete(o),t=>t.lift(new Dv(u))),Object(jv.a)());var u;return this._inProgressUrlFetches.set(o,c),c}_addSvgIconConfig(t,e,n){return this._svgIconConfigs.set(vw(t,e),n),this}_addSvgIconSetConfig(t,e){const n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}_svgElementFromConfig(t){if(!t.svgElement){const e=this._svgElementFromString(t.svgText);this._setSvgAttributes(e,t.options),t.svgElement=e}return t.svgElement}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(Yv,8),i.Qb(wt),i.Qb(c,8),i.Qb(i.k))},t.\u0275prov=Object(i.Cb)({factory:function(){return new t(Object(i.Qb)(Yv,8),Object(i.Qb)(wt),Object(i.Qb)(c,8),Object(i.Qb)(i.k))},token:t,providedIn:"root"}),t})();function _w(t){return t.cloneNode(!0)}function vw(t,e){return t+":"+e}class ww{constructor(t){this._elementRef=t}}const Ew=K_(ww),Cw=new i.o("mat-icon-location",{providedIn:"root",factory:function(){const t=Object(i.Q)(c),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),xw=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Sw=xw.map(t=>`[${t}]`).join(", "),Ow=/^url\(['"]?#(.*?)['"]?\)$/;let Iw=(()=>{class t extends Ew{constructor(t,e,n,i,r){super(t),this._iconRegistry=e,this._location=i,this._errorHandler=r,this._inline=!1,this._currentIconFetch=Vt.a.EMPTY,n||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=Dg(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const e=this._cleanupFontValue(t);e!==this._fontSet&&(this._fontSet=e,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const e=this._cleanupFontValue(t);e!==this._fontIcon&&(this._fontIcon=e,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const e=t.querySelectorAll("style");for(let i=0;i<e.length;i++)e[i].textContent+=" ";const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){const n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const e=this._elementsWithExternalReferences;e&&e.forEach((e,n)=>{e.forEach(e=>{n.setAttribute(e.name,`url('${t}#${e.value}')`)})})}_cacheChildrenWithExternalReferences(t){const e=t.querySelectorAll(Sw),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let i=0;i<e.length;i++)xw.forEach(t=>{const r=e[i],s=r.getAttribute(t),o=s?s.match(Ow):null;if(o){let e=n.get(r);e||(e=[],n.set(r,e)),e.push({name:t,value:o[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[e,n]=this._splitIconName(t);e&&(this._svgNamespace=e),n&&(this._svgName=n),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(n,e).pipe(Zt(1)).subscribe(t=>this._setSvgElement(t),t=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${e}:${n}! ${t.message}`))})}}}return t.\u0275fac=function(e){return new(e||t)(i.Gb(i.i),i.Gb(yw),i.Rb("aria-hidden"),i.Gb(Cw),i.Gb(i.k))},t.\u0275cmp=i.Ab({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,e){2&t&&(i.wb("data-mat-icon-type",e._usingFontIcon()?"font":"svg")("data-mat-icon-name",e._svgName||e.fontIcon)("data-mat-icon-namespace",e._svgNamespace||e.fontSet),i.yb("mat-icon-inline",e.inline)("mat-icon-no-color","primary"!==e.color&&"accent"!==e.color&&"warn"!==e.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[i.sb],ngContentSelectors:fw,decls:1,vars:0,template:function(t,e){1&t&&(i.bc(),i.ac(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),t})(),Tw=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},imports:[[Q_],Q_]}),t})();const kw=r;let Aw=(()=>{class t{constructor(t){this.http=t,this.distamceUpdated=new It.a,this.checkpointUpdated=new It.a,this.statusUpdated=new It.a}getDistanceListener(){return this.distamceUpdated.asObservable()}getCheckpointListener(){return this.checkpointUpdated.asObservable()}getStatusListener(){return this.statusUpdated.asObservable()}getCheckpoint(){this.http.get(kw+"wtj/checkpoint/4w5q7wedbh236").subscribe(t=>{this.current=t.current,this.next=t.next,this.at=t.at,this.checkpointUpdated.next({current:this.current,next:this.next,at:this.at})})}getStatus(){this.http.get(kw+"wtj").subscribe(t=>{if(console.log(t.maintenance),this.apiOffline=!1,t.maintenance){this.maintenanceMode=!0;let t=this,e=setInterval((function(){t.maintenanceMode||(clearInterval(e),t.getStatus()),t.getStatus()}),3e4)}else this.maintenanceMode=!1;this.statusUpdated.next({maintenanceMode:this.maintenanceMode,apiOffline:this.apiOffline})},t=>{this.maintenanceMode=!1,this.apiOffline=!0,this.statusUpdated.next({maintenanceMode:this.maintenanceMode,apiOffline:this.apiOffline});let e=this,n=setInterval((function(){0==e.apiOffline&&(clearInterval(n),e.getStatus()),e.getStatus()}),3e4)})}getDistance(){this.http.get(kw+"wtj/gettotaldistance/4w5q7wedbh236").subscribe(t=>{this.total=t.total,this.percent=t.percent,this.distamceUpdated.next({total:this.total,percent:this.percent})})}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(Yv))},t.\u0275prov=i.Cb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Dw(t,e,n,i){return new(n||(n=Promise))((function(r,s){function o(t){try{c(i.next(t))}catch(Xm){s(Xm)}}function a(t){try{c(i.throw(t))}catch(Xm){s(Xm)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}c((i=i.apply(t,e||[])).next())}))}var Pw=n("n6bG");function jw(t,e,n,i){return Object(Pw.a)(n)&&(i=n,n=void 0),i?jw(t,e,n).pipe(Object(jt.a)(t=>Object(Sv.a)(t)?i(...t):i(t))):new kt.a(i=>{!function t(e,n,i,r,s){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,i,s),o=()=>t.removeEventListener(n,i,s)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,i),o=()=>t.off(n,i)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,i),o=()=>t.removeListener(n,i)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let o=0,a=e.length;o<a;o++)t(e[o],n,i,r,s)}r.add(o)}(t,e,(function(t){i.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),i,n)})}var Nw=n("3N8a");class Rw extends Nw.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}var Lw=n("IjjT");class Mw extends Lw.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,i=-1,r=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++i<r&&(t=e.shift()));if(this.active=!1,n){for(;++i<r&&(t=e.shift());)t.unsubscribe();throw n}}}const Fw=new Mw(Rw);n("7Hc7");class Vw{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new Bw(t,this.durationSelector))}}class Bw extends Nt.b{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const i=Object(Nt.c)(n,new Nt.a(this));!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var Hw=n("Y7HM");function zw(t=0,e,n){let i=-1;return Object(Hw.a)(e)?i=Number(e)<1?1:Number(e):Object(Ce.a)(e)&&(n=e),Object(Ce.a)(n)||(n=ve.a),new kt.a(e=>{const r=Object(Hw.a)(t)?t:+t-n.now();return n.schedule(Uw,r,{index:0,period:i,subscriber:e})})}function Uw(t){const{index:e,period:n,subscriber:i}=t;if(i.next(e),!i.closed){if(-1===n)return i.complete();t.index=e+1,this.schedule(t,n)}}function qw(t,e=ve.a){return n=()=>zw(t,e),function(t){return t.lift(new Vw(n))};var n}function Gw(t){return e=>e.lift(new Qw(t))}class Qw{constructor(t){this.notifier=t}call(t,e){const n=new Ww(t),i=Object(Nt.c)(this.notifier,new Nt.a(n));return i&&!n.seenValue?(n.add(i),e.subscribe(n)):n}}class Ww extends Nt.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}let Kw=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new It.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new kt.a(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(qw(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Object(Tt.a)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(Wt(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,i)=>{this._scrollableContainsElement(i,t)&&e.push(i)}),e}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollableContainsElement(t,e){let n=e.nativeElement,i=t.getElementRef().nativeElement;do{if(n==i)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>jw(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.v),i.Qb(bg),i.Qb(c,8))},t.\u0275prov=Object(i.Cb)({factory:function(){return new t(Object(i.Qb)(i.v),Object(i.Qb)(bg),Object(i.Qb)(c,8))},token:t,providedIn:"root"}),t})(),$w=(()=>{class t{constructor(t,e,n){this._platform=t,this._change=new It.a,this._changeListener=t=>{this._change.next(t)},this._document=n,e.runOutsideAngular(()=>{if(t.isBrowser){const t=this._getWindow();t.addEventListener("resize",this._changeListener),t.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._getDocument(),e=this._getWindow(),n=t.documentElement,i=n.getBoundingClientRect();return{top:-i.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-i.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(qw(t)):this._change}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(bg),i.Qb(i.v),i.Qb(c,8))},t.\u0275prov=Object(i.Cb)({factory:function(){return new t(Object(i.Qb)(bg),Object(i.Qb)(i.v),Object(i.Qb)(c,8))},token:t,providedIn:"root"}),t})(),Xw=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)}}),t})(),Yw=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},imports:[[sb,yg,Xw],sb,Xw]}),t})();class Zw{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Jw extends Zw{constructor(t,e,n,i){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=i}}class tE extends Zw{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class eE extends Zw{constructor(t){super(),this.element=t instanceof i.i?t.nativeElement:t}}class nE{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Jw?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof tE?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof eE?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class iE extends nE{constructor(t,e,n,i,r){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=i,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=r}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),n.detectChanges(),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let rE=(()=>{class t extends nE{constructor(t,e,n){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new i.l,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");t.setAttachedHost(this),e.parentNode.insertBefore(n,e),this._getRootNode().appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=n}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),i=e.createComponent(n,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(i.hostView.rootNodes[0]),super.setDisposeFn(()=>i.destroy()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return t.\u0275fac=function(e){return new(e||t)(i.Gb(i.g),i.Gb(i.L),i.Gb(c))},t.\u0275dir=i.Bb({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[i.sb]}),t})(),sE=(()=>{class t extends rE{}return t.\u0275fac=function(e){return oE(e||t)},t.\u0275dir=i.Bb({type:t,selectors:[["","cdkPortalHost",""],["","portalHost",""]],inputs:{portal:["cdkPortalHost","portal"]},exportAs:["cdkPortalHost"],features:[i.ub([{provide:rE,useExisting:t}]),i.sb]}),t})();const oE=i.Ob(sE);let aE=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)}}),t})();class cE{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Ng(-this._previousScrollPosition.left),t.style.top=Ng(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,i=e.scrollBehavior||"",r=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=i,n.scrollBehavior=r}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}class uE{constructor(t,e,n,i){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class lE{enable(){}disable(){}attach(){}}function hE(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function dE(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class fE{constructor(t,e,n,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=i,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();hE(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let pE=(()=>{class t{constructor(t,e,n,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new lE,this.close=t=>new uE(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new cE(this._viewportRuler,this._document),this.reposition=t=>new fE(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=i}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(Kw),i.Qb($w),i.Qb(i.v),i.Qb(c))},t.\u0275prov=Object(i.Cb)({factory:function(){return new t(Object(i.Qb)(Kw),Object(i.Qb)($w),Object(i.Qb)(i.v),Object(i.Qb)(c))},token:t,providedIn:"root"}),t})();class mE{constructor(t){if(this.scrollStrategy=new lE,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class gE{constructor(t,e,n,i,r){this.offsetX=n,this.offsetY=i,this.panelClass=r,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class bE{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let yE=(()=>{class t{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(c))},t.\u0275prov=Object(i.Cb)({factory:function(){return new t(Object(i.Qb)(c))},token:t,providedIn:"root"}),t})(),_E=(()=>{class t extends yE{constructor(t){super(t),this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(c))},t.\u0275prov=Object(i.Cb)({factory:function(){return new t(Object(i.Qb)(c))},token:t,providedIn:"root"}),t})(),vE=(()=>{class t extends yE{constructor(t,e){super(t),this._platform=e,this._cursorStyleIsSet=!1,this._clickListener=t=>{const e=t.composedPath?t.composedPath()[0]:t.target,n=this._attachedOverlays.slice();for(let i=n.length-1;i>-1;i--){const r=n[i];if(!(r._outsidePointerEvents.observers.length<1)&&r.hasAttached()){if(r.overlayElement.contains(e))break;r._outsidePointerEvents.next(t)}}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("click",this._clickListener,!0),this._document.body.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=this._document.body.style.cursor,this._document.body.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("click",this._clickListener,!0),this._document.body.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(c),i.Qb(bg))},t.\u0275prov=Object(i.Cb)({factory:function(){return new t(Object(i.Qb)(c),Object(i.Qb)(bg))},token:t,providedIn:"root"}),t})();const wE=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let EE=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._platform?this._platform.isBrowser:"undefined"!=typeof window,e="cdk-overlay-container";if(t||wE){const t=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e])}const n=this._document.createElement("div");n.classList.add(e),wE?n.setAttribute("platform","test"):t||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(c),i.Qb(bg))},t.\u0275prov=Object(i.Cb)({factory:function(){return new t(Object(i.Qb)(c),Object(i.Qb)(bg))},token:t,providedIn:"root"}),t})();class CE{constructor(t,e,n,i,r,s,o,a,c){this._portalOutlet=t,this._host=e,this._pane=n,this._config=i,this._ngZone=r,this._keyboardDispatcher=s,this._document=o,this._location=a,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new It.a,this._attachments=new It.a,this._detachments=new It.a,this._locationChanges=Vt.a.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new It.a,this._outsidePointerEvents=new It.a,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Zt(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher&&this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher&&this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher&&this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Ng(this._config.width),t.height=Ng(this._config.height),t.minWidth=Ng(this._config.minWidth),t.minHeight=Ng(this._config.minHeight),t.maxWidth=Ng(this._config.maxWidth),t.maxHeight=Ng(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"auto":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const i=t.classList;jg(e).forEach(t=>{t&&(n?i.add(t):i.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Gw(Object(Dt.a)(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const xE="cdk-overlay-connected-position-bounding-box",SE=/([A-Za-z%]+)$/;class OE{constructor(t,e,n,i,r){this._viewportRuler=e,this._document=n,this._platform=i,this._overlayContainer=r,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new It.a,this._resizeSubscription=Vt.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(xE),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,i=[];let r;for(let s of this._preferredPositions){let o=this._getOriginPoint(t,s),a=this._getOverlayPoint(o,e,s),c=this._getOverlayFit(a,e,n,s);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,o);this._canFitWithFlexibleDimensions(c,a,n)?i.push({position:s,origin:o,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(o,s)}):(!r||r.overlayFit.visibleArea<c.visibleArea)&&(r={overlayFit:c,overlayPoint:a,originPoint:o,position:s,overlayRect:e})}if(i.length){let t=null,e=-1;for(const n of i){const i=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);i>e&&(e=i,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(r.position,r.originPoint);this._applyPosition(r.position,r.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&IE(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(xE),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,i;if("center"==e.originX)n=t.left+t.width/2;else{const i=this._isRtl()?t.right:t.left,r=this._isRtl()?t.left:t.right;n="start"==e.originX?i:r}return i="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:i}}_getOverlayPoint(t,e,n){let i,r;return i="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,r="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+i,y:t.y+r}}_getOverlayFit(t,e,n,i){let{x:r,y:s}=t,o=this._getOffset(i,"x"),a=this._getOffset(i,"y");o&&(r+=o),a&&(s+=a);let c=0-s,u=s+e.height-n.height,l=this._subtractOverflows(e.width,0-r,r+e.width-n.width),h=this._subtractOverflows(e.height,c,u),d=l*h;return{visibleArea:d,isCompletelyWithinViewport:e.width*e.height===d,fitsInViewportVertically:h===e.height,fitsInViewportHorizontally:l==e.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const i=n.bottom-e.y,r=n.right-e.x,s=TE(this._overlayRef.getConfig().minHeight),o=TE(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=o&&o<=r;return(t.fitsInViewportVertically||null!=s&&s<=i)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const i=this._viewportRect,r=Math.max(t.x+e.width-i.width,0),s=Math.max(t.y+e.height-i.height,0),o=Math.max(i.top-n.top-t.y,0),a=Math.max(i.left-n.left-t.x,0);let c=0,u=0;return c=e.width<=i.width?a||-r:t.x<this._viewportMargin?i.left-n.left-t.x:0,u=e.height<=i.height?o||-s:t.y<this._viewportMargin?i.top-n.top-t.y:0,this._previousPushAmount={x:c,y:u},{x:t.x+c,y:t.y+u}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new bE(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,i=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let r=0;r<e.length;r++)e[r].style.transformOrigin=`${n} ${i}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,i=this._isRtl();let r,s,o,a,c,u;if("top"===e.overlayY)s=t.y,r=n.height-s+this._viewportMargin;else if("bottom"===e.overlayY)o=n.height-t.y+2*this._viewportMargin,r=n.height-o+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),i=this._lastBoundingBoxSize.height;r=2*e,s=t.y-e,r>i&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-i/2)}if("end"===e.overlayX&&!i||"start"===e.overlayX&&i)u=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!i||"end"===e.overlayX&&i)c=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),i=this._lastBoundingBoxSize.width;a=2*e,c=t.x-e,a>i&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.x-i/2)}return{top:s,left:c,bottom:o,right:u,width:a,height:r}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,r=this._overlayRef.getConfig().maxWidth;i.height=Ng(n.height),i.top=Ng(n.top),i.bottom=Ng(n.bottom),i.width=Ng(n.width),i.left=Ng(n.left),i.right=Ng(n.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(i.maxHeight=Ng(t)),r&&(i.maxWidth=Ng(r))}this._lastBoundingBoxSize=n,IE(this._boundingBox.style,i)}_resetBoundingBoxStyles(){IE(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){IE(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},i=this._hasExactPosition(),r=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(i){const i=this._viewportRuler.getViewportScrollPosition();IE(n,this._getExactOverlayY(e,t,i)),IE(n,this._getExactOverlayX(e,t,i))}else n.position="static";let o="",a=this._getOffset(e,"x"),c=this._getOffset(e,"y");a&&(o+=`translateX(${a}px) `),c&&(o+=`translateY(${c}px)`),n.transform=o.trim(),s.maxHeight&&(i?n.maxHeight=Ng(s.maxHeight):r&&(n.maxHeight="")),s.maxWidth&&(i?n.maxWidth=Ng(s.maxWidth):r&&(n.maxWidth="")),IE(this._pane.style,n)}_getExactOverlayY(t,e,n){let i={top:"",bottom:""},r=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n));let s=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return r.y-=s,"bottom"===t.overlayY?i.bottom=this._document.documentElement.clientHeight-(r.y+this._overlayRect.height)+"px":i.top=Ng(r.y),i}_getExactOverlayX(t,e,n){let i,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),i=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===i?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=Ng(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:dE(t,n),isOriginOutsideView:hE(t,n),isOverlayClipped:dE(e,n),isOverlayOutsideView:hE(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&jg(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof i.i)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function IE(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function TE(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(SE);return n&&"px"!==n?null:parseFloat(e)}return t||null}class kE{constructor(t,e,n,i,r,s,o){this._preferredPositions=[],this._positionStrategy=new OE(n,i,r,s,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,i){const r=new gE(t,e,n,i);return this._preferredPositions.push(r),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const AE="cdk-global-overlay-wrapper";class DE{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(AE),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:i,height:r,maxWidth:s,maxHeight:o}=n,a=!("100%"!==i&&"100vw"!==i||s&&"100%"!==s&&"100vw"!==s),c=!("100%"!==r&&"100vh"!==r||o&&"100%"!==o&&"100vh"!==o);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(AE),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let PE=(()=>{class t{constructor(t,e,n,i){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=i}global(){return new DE}connectedTo(t,e,n){return new kE(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new OE(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(i.Qb($w),i.Qb(c),i.Qb(bg),i.Qb(EE))},t.\u0275prov=Object(i.Cb)({factory:function(){return new t(Object(i.Qb)($w),Object(i.Qb)(c),Object(i.Qb)(bg),Object(i.Qb)(EE))},token:t,providedIn:"root"}),t})(),jE=0,NE=(()=>{class t{constructor(t,e,n,i,r,s,o,a,c,u,l){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=i,this._keyboardDispatcher=r,this._injector=s,this._ngZone=o,this._document=a,this._directionality=c,this._location=u,this._outsideClickDispatcher=l}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),i=this._createPortalOutlet(n),r=new mE(t);return r.direction=r.direction||this._directionality.value,new CE(i,e,n,r,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id="cdk-overlay-"+jE++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(i.e)),new iE(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(pE),i.Qb(EE),i.Qb(i.g),i.Qb(PE),i.Qb(_E),i.Qb(i.p),i.Qb(i.v),i.Qb(c),i.Qb(rb),i.Qb(w),i.Qb(vE))},t.\u0275prov=i.Cb({token:t,factory:t.\u0275fac}),t})();const RE={provide:new i.o("cdk-connected-overlay-scroll-strategy"),deps:[NE],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let LE=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},providers:[NE,RE],imports:[[sb,aE,Yw],Yw]}),t})();function ME(t,e){}class FE{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const VE={dialogContainer:ub("dialogContainer",[fb("void, exit",db({opacity:0,transform:"scale(0.7)"})),fb("enter",db({transform:"none"})),pb("* => enter",lb("150ms cubic-bezier(0, 0, 0.2, 1)",db({transform:"none",opacity:1}))),pb("* => void, * => exit",lb("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",db({opacity:0})))])};let BE=(()=>{class t extends nE{constructor(t,e,n,r,s,o){super(),this._elementRef=t,this._focusTrapFactory=e,this._changeDetectorRef=n,this._config=s,this._focusMonitor=o,this._animationStateChanged=new i.l,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=t=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(t)),this._ariaLabelledBy=s.ariaLabelledBy||null,this._document=r}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const e=this._document.activeElement,n=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==n&&!n.contains(e)||(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement)}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,e=this._document.activeElement;return t===e||t.contains(e)}}return t.\u0275fac=function(e){return new(e||t)(i.Gb(i.i),i.Gb(Gg),i.Gb(i.f),i.Gb(c,8),i.Gb(FE),i.Gb($g))},t.\u0275dir=i.Bb({type:t,viewQuery:function(t,e){var n;1&t&&i.nc(rE,!0),2&t&&i.gc(n=i.Ub())&&(e._portalOutlet=n.first)},features:[i.sb]}),t})(),HE=(()=>{class t extends BE{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:e}){"enter"===t?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:e}))}_onAnimationStart({toState:t,totalTime:e}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:e}):"exit"!==t&&"void"!==t||this._animationStateChanged.next({state:"closing",totalTime:e})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return zE(e||t)},t.\u0275cmp=i.Ab({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,e){1&t&&i.pc("@dialogContainer.start",(function(t){return e._onAnimationStart(t)}))("@dialogContainer.done",(function(t){return e._onAnimationDone(t)})),2&t&&(i.Pb("id",e._id),i.wb("role",e._config.role)("aria-labelledby",e._config.ariaLabel?null:e._ariaLabelledBy)("aria-label",e._config.ariaLabel)("aria-describedby",e._config.ariaDescribedBy||null),i.qc("@dialogContainer",e._state))},features:[i.sb],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&i.rc(0,ME,0,0,"ng-template",0)},directives:[rE],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[VE.dialogContainer]}}),t})();const zE=i.Ob(HE);let UE=0;class qE{constructor(t,e,n="mat-dialog-"+UE++){this._overlayRef=t,this._containerInstance=e,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new It.a,this._afterClosed=new It.a,this._beforeClosed=new It.a,this._state=0,e._id=n,e._animationStateChanged.pipe(Wt(t=>"opened"===t.state),Zt(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(Wt(t=>"closed"===t.state),Zt(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(Wt(t=>27===t.keyCode&&!this.disableClose&&!Sg(t))).subscribe(t=>{t.preventDefault(),GE(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():GE(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Wt(t=>"closing"===t.state),Zt(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._getPositionStrategy().width(t).height(e),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function GE(t,e,n){return void 0!==t._containerInstance&&(t._containerInstance._closeInteractionType=e),t.close(n)}const QE=new i.o("MatDialogData"),WE=new i.o("mat-dialog-default-options"),KE=new i.o("mat-dialog-scroll-strategy"),$E={provide:KE,deps:[NE],useFactory:function(t){return()=>t.scrollStrategies.block()}};let XE=(()=>{class t{constructor(t,e,n,i,r,s,o,a,c){var u;this._overlay=t,this._injector=e,this._defaultOptions=n,this._parentDialog=i,this._overlayContainer=r,this._dialogRefConstructor=o,this._dialogContainerType=a,this._dialogDataToken=c,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new It.a,this._afterOpenedAtThisLevel=new It.a,this._ariaHiddenElements=new Map,this.afterAllClosed=(u=()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(xe(void 0)),new kt.a(t=>{let e;try{e=u()}catch(n){return void t.error(n)}return(e?Object(At.a)(e):Object(Yt.b)()).subscribe(t)})),this._scrollStrategy=s}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,e){(e=function(t,e){return Object.assign(Object.assign({},e),t)}(e,this._defaultOptions||new FE)).id&&this.getDialogById(e.id);const n=this._createOverlay(e),i=this._attachDialogContainer(n,e),r=this._attachDialogContent(t,i,n,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(r),r.afterClosed().subscribe(()=>this._removeOpenDialog(r)),this.afterOpened.next(r),i._initializeWithAttachedContent(),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(e=>e.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const e=this._getOverlayConfig(t);return this._overlay.create(e)}_getOverlayConfig(t){const e=new mE({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}_attachDialogContainer(t,e){const n=i.p.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:FE,useValue:e}]}),r=new Jw(this._dialogContainerType,e.viewContainerRef,n,e.componentFactoryResolver);return t.attach(r).instance}_attachDialogContent(t,e,n,r){const s=new this._dialogRefConstructor(n,e,r.id);if(t instanceof i.G)e.attachTemplatePortal(new tE(t,null,{$implicit:r.data,dialogRef:s}));else{const n=this._createInjector(r,s,e),i=e.attachComponentPortal(new Jw(t,r.viewContainerRef,n));s.componentInstance=i.instance}return s.updateSize(r.width,r.height).updatePosition(r.position),s}_createInjector(t,e,n){const r=t&&t.viewContainerRef&&t.viewContainerRef.injector,s=[{provide:this._dialogContainerType,useValue:n},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:e}];return!t.direction||r&&r.get(rb,null)||s.push({provide:rb,useValue:{value:t.direction,change:Object(Tt.a)()}}),i.p.create({parent:r||this._injector,providers:s})}_removeOpenDialog(t){const e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const e=t.parentElement.children;for(let n=e.length-1;n>-1;n--){let i=e[n];i===t||"SCRIPT"===i.nodeName||"STYLE"===i.nodeName||i.hasAttribute("aria-live")||(this._ariaHiddenElements.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let e=t.length;for(;e--;)t[e].close()}}return t.\u0275fac=function(e){return new(e||t)(i.Gb(NE),i.Gb(i.p),i.Gb(void 0),i.Gb(void 0),i.Gb(EE),i.Gb(void 0),i.Gb(i.I),i.Gb(i.I),i.Gb(i.o))},t.\u0275dir=i.Bb({type:t}),t})(),YE=(()=>{class t extends XE{constructor(t,e,n,i,r,s,o){super(t,e,i,s,o,r,qE,HE,QE)}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(NE),i.Qb(i.p),i.Qb(w,8),i.Qb(WE,8),i.Qb(KE),i.Qb(t,12),i.Qb(EE))},t.\u0275prov=i.Cb({token:t,factory:t.\u0275fac}),t})(),ZE=(()=>{class t{constructor(t,e,n){this.dialogRef=t,this._elementRef=e,this._dialog=n,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=function(t,e){let n=t.nativeElement.parentElement;for(;n&&!n.classList.contains("mat-dialog-container");)n=n.parentElement;return n?e.find(t=>t.id===n.id):null}(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const e=t._matDialogClose||t._matDialogCloseResult;e&&(this.dialogResult=e.currentValue)}_onButtonClick(t){GE(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}}return t.\u0275fac=function(e){return new(e||t)(i.Gb(qE,8),i.Gb(i.i),i.Gb(YE))},t.\u0275dir=i.Bb({type:t,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(t,e){1&t&&i.Tb("click",(function(t){return e._onButtonClick(t)})),2&t&&i.wb("aria-label",e.ariaLabel||null)("type",e.type)},inputs:{type:"type",dialogResult:["mat-dialog-close","dialogResult"],ariaLabel:["aria-label","ariaLabel"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[i.tb]}),t})(),JE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Bb({type:t,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),t})(),tC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Bb({type:t,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),t})(),eC=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},providers:[YE,$E],imports:[[LE,aE,Q_],Q_]}),t})();const nC=new i.o("NgValueAccessor"),iC={provide:nC,useExisting:Object(i.P)(()=>rC),multi:!0};let rC=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(i.Gb(i.A),i.Gb(i.i))},t.\u0275dir=i.Bb({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&i.Tb("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[i.ub([iC])]}),t})();const sC={provide:nC,useExisting:Object(i.P)(()=>aC),multi:!0},oC=new i.o("CompositionEventMode");let aC=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=a()?a().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Gb(i.A),i.Gb(i.i),i.Gb(oC,8))},t.\u0275dir=i.Bb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&i.Tb("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[i.ub([sC])]}),t})(),cC=(()=>{class t{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Bb({type:t}),t})(),uC=(()=>{class t extends cC{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return lC(e||t)},t.\u0275dir=i.Bb({type:t,features:[i.sb]}),t})();const lC=i.Ob(uC);class hC extends cC{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){}get asyncValidator(){}}class dC{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let fC=(()=>{class t extends dC{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Gb(hC,2))},t.\u0275dir=i.Bb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&i.yb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[i.sb]}),t})(),pC=(()=>{class t extends dC{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Gb(uC,2))},t.\u0275dir=i.Bb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&i.yb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[i.sb]}),t})();function mC(t){return null==t||0===t.length}function gC(t){return null!=t&&"number"==typeof t.length}const bC=new i.o("NgValidators"),yC=new i.o("NgAsyncValidators"),_C=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class vC{static min(t){return e=>{if(mC(e.value)||mC(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(mC(e.value)||mC(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return mC(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return mC(t.value)||_C.test(t.value)?null:{email:!0}}static minLength(t){return e=>mC(e.value)||!gC(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>gC(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return vC.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(mC(t.value))return null;const i=t.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(wC);return 0==e.length?null:function(t){return CC(xC(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(wC);return 0==e.length?null:function(t){return Iv(xC(t,e).map(EC)).pipe(Object(jt.a)(CC))}}}function wC(t){return null!=t}function EC(t){const e=Object(i.nb)(t)?Object(At.a)(t):t;return Object(i.mb)(e),e}function CC(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function xC(t,e){return e.map(e=>e(t))}function SC(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}const OC={provide:nC,useExisting:Object(i.P)(()=>IC),multi:!0};let IC=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(i.Gb(i.A),i.Gb(i.i))},t.\u0275dir=i.Bb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&i.Tb("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[i.ub([OC])]}),t})();const TC={provide:nC,useExisting:Object(i.P)(()=>AC),multi:!0};let kC=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Cb({token:t,factory:t.\u0275fac}),t})(),AC=(()=>{class t{constructor(t,e,n,i){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=i,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(hC),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(i.Gb(i.A),i.Gb(i.i),i.Gb(kC),i.Gb(i.p))},t.\u0275dir=i.Bb({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&i.Tb("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[i.ub([TC])]}),t})();const DC={provide:nC,useExisting:Object(i.P)(()=>PC),multi:!0};let PC=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(i.Gb(i.A),i.Gb(i.i))},t.\u0275dir=i.Bb({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&i.Tb("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[i.ub([DC])]}),t})();const jC={provide:nC,useExisting:Object(i.P)(()=>NC),multi:!0};let NC=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(i.Gb(i.A),i.Gb(i.i))},t.\u0275dir=i.Bb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&i.Tb("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[i.ub([jC])]}),t})();const RC={provide:nC,useExisting:Object(i.P)(()=>LC),multi:!0};let LC=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const i=t.item(e),r=this._getOptionValue(i.value);n.push(r)}}else{const t=e.options;for(let e=0;e<t.length;e++){const i=t.item(e);if(i.selected){const t=this._getOptionValue(i.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(i.Gb(i.A),i.Gb(i.i))},t.\u0275dir=i.Bb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&i.Tb("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[i.ub([RC])]}),t})();function MC(t,e){t.validator=vC.compose([t.validator,e.validator]),t.asyncValidator=vC.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&FC(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&FC(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function FC(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function VC(t,e){t.validator=vC.compose([t.validator,e.validator]),t.asyncValidator=vC.composeAsync([t.asyncValidator,e.asyncValidator])}function BC(t){return null!=t?vC.compose(SC(t)):null}function HC(t){return null!=t?vC.composeAsync(SC(t)):null}const zC=[rC,PC,IC,NC,LC,AC];function UC(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function qC(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const GC="VALID",QC="INVALID",WC="PENDING",KC="DISABLED";function $C(t){return(JC(t)?t.validators:t)||null}function XC(t){return Array.isArray(t)?BC(t):t||null}function YC(t,e){return(JC(e)?e.asyncValidators:t)||null}function ZC(t){return Array.isArray(t)?HC(t):t||null}function JC(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class tx{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=XC(this._rawValidators),this._composedAsyncValidatorFn=ZC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===GC}get invalid(){return this.status===QC}get pending(){return this.status==WC}get disabled(){return this.status===KC}get enabled(){return this.status!==KC}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=XC(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=ZC(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=WC,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=KC,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=GC,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==GC&&this.status!==WC||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?KC:GC}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=WC,this._hasOwnPendingAsyncValidator=!0;const e=EC(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let i=t;return e.forEach(t=>{i=i instanceof nx?i.controls.hasOwnProperty(t)?i.controls[t]:null:i instanceof ix&&i.at(t)||null}),i}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new i.l,this.statusChanges=new i.l}_calculateStatus(){return this._allControlsDisabled()?KC:this.errors?QC:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(WC)?WC:this._anyControlsHaveStatus(QC)?QC:GC}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){JC(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class ex extends tx{constructor(t=null,e,n){super($C(e),YC(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class nx extends tx{constructor(t,e,n){super($C(e),YC(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof ex?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,i)=>{n=e(n,t,i)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class ix extends tx{constructor(t,e,n){super($C(e),YC(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof ex?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const rx={provide:uC,useExisting:Object(i.P)(()=>ox)},sx=(()=>Promise.resolve(null))();let ox=(()=>{class t extends uC{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new i.l,this.form=new nx({},BC(t),HC(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){sx.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),MC(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){sx.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),qC(this._directives,t)})}addFormGroup(t){sx.then(()=>{const e=this._findContainer(t.path),n=new nx({});VC(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){sx.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){sx.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,UC(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(i.Gb(bC,10),i.Gb(yC,10))},t.\u0275dir=i.Bb({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&i.Tb("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.ub([rx]),i.sb]}),t})(),ax=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Bb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const cx=new i.o("NgModelWithFormControlWarning"),ux={provide:uC,useExisting:Object(i.P)(()=>lx)};let lx=(()=>{class t extends uC{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new i.l}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return MC(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){qC(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);VC(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);VC(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,UC(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){const n=()=>{};e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&MC(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=BC(this._validators);this.form.validator=vC.compose([this.form.validator,t]);const e=HC(this._asyncValidators);this.form.asyncValidator=vC.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(i.Gb(bC,10),i.Gb(yC,10))},t.\u0275dir=i.Bb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&i.Tb("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.ub([ux]),i.sb,i.tb]}),t})();const hx={provide:hC,useExisting:Object(i.P)(()=>dx)};let dx=(()=>{class t extends hC{constructor(t,e,n,r,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new i.l,this._ngModelWarningSent=!1,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e);let n=void 0,i=void 0,r=void 0;return e.forEach(t=>{var e;t.constructor===aC?n=t:(e=t,zC.some(t=>e.constructor===t)?i=t:r=t)}),r||i||n||null}(0,r)}set isDisabled(t){}ngOnChanges(e){var n,r;this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(e,this.viewModel)&&(n=t,this,r=this._ngModelWarningConfig,Object(i.R)()&&"never"!==r&&((null!==r&&"once"!==r||n._ngModelWarningSentOnce)&&("always"!==r||this._ngModelWarningSent)||(n._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function(t,e){return[...e.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return BC(this._rawValidators)}get asyncValidator(){return HC(this._rawAsyncValidators)}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(i.Gb(uC,13),i.Gb(bC,10),i.Gb(yC,10),i.Gb(nC,10),i.Gb(cx,8))},t.\u0275dir=i.Bb({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[i.ub([hx]),i.sb,i.tb]}),t._ngModelWarningSentOnce=!1,t})(),fx=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)}}),t})(),px=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let i=null,r=null,s=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(i=null!=e.validators?e.validators:null,r=null!=e.asyncValidators?e.asyncValidators:null,s=null!=e.updateOn?e.updateOn:void 0):(i=null!=e.validator?e.validator:null,r=null!=e.asyncValidator?e.asyncValidator:null)),new nx(n,{asyncValidators:r,updateOn:s,validators:i})}control(t,e,n){return new ex(t,e,n)}array(t,e,n){const i=t.map(t=>this._createControl(t));return new ix(i,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof ex||t instanceof nx||t instanceof ix?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Cb({token:t,factory:t.\u0275fac}),t})(),mx=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},providers:[kC],imports:[fx]}),t})(),gx=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:cx,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},providers:[px,kC],imports:[fx]}),t})(),bx=(()=>{class t{constructor(t,e){this.document=t,this.platformId=e,this.documentIsAccessible=K(this.platformId)}check(t){return!!this.documentIsAccessible&&(t=encodeURIComponent(t),this.getCookieRegExp(t).test(this.document.cookie))}get(t){if(this.documentIsAccessible&&this.check(t)){t=encodeURIComponent(t);const e=this.getCookieRegExp(t).exec(this.document.cookie);return this.safeDecodeURIComponent(e[1])}return""}getAll(){if(!this.documentIsAccessible)return{};const t={},e=this.document;return e.cookie&&""!==e.cookie&&e.cookie.split(";").forEach(e=>{const[n,i]=e.split("=");t[this.safeDecodeURIComponent(n.replace(/^ /,""))]=this.safeDecodeURIComponent(i)}),t}set(t,e,n,i,r,s,o){if(!this.documentIsAccessible)return;if("number"==typeof n||n instanceof Date||i||r||s||o)return void this.set(t,e,{expires:n,path:i,domain:r,secure:s,sameSite:o||"Lax"});let a=encodeURIComponent(t)+"="+encodeURIComponent(e)+";";const c=n||{};c.expires&&(a+="number"==typeof c.expires?"expires="+new Date((new Date).getTime()+1e3*c.expires*60*60*24).toUTCString()+";":"expires="+c.expires.toUTCString()+";"),c.path&&(a+="path="+c.path+";"),c.domain&&(a+="domain="+c.domain+";"),!1===c.secure&&"None"===c.sameSite&&(c.secure=!0,console.warn(`[ngx-cookie-service] Cookie ${t} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),c.secure&&(a+="secure;"),c.sameSite||(c.sameSite="Lax"),a+="sameSite="+c.sameSite+";",this.document.cookie=a}delete(t,e,n,i,r="Lax"){if(!this.documentIsAccessible)return;const s=new Date("Thu, 01 Jan 1970 00:00:01 GMT");this.set(t,"",{expires:s,path:e,domain:n,secure:i,sameSite:r})}deleteAll(t,e,n,i="Lax"){if(!this.documentIsAccessible)return;const r=this.getAll();for(const s in r)r.hasOwnProperty(s)&&this.delete(s,t,e,n,i)}getCookieRegExp(t){const e=t.replace(/([\[\]\{\}\(\)\|\=\;\+\?\,\.\*\^\$])/gi,"\\$1");return new RegExp("(?:^"+e+"|;\\s*"+e+")=(.*?)(?:;|$)","g")}safeDecodeURIComponent(t){try{return decodeURIComponent(t)}catch($T){return t}}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(c),i.Qb(i.x))},t.\u0275prov=Object(i.Cb)({factory:function(){return new t(Object(i.Qb)(c),Object(i.Qb)(i.x))},token:t,providedIn:"root"}),t})();const yx=["mat-button",""],_x=["*"],vx=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class wx{constructor(t){this._elementRef=t}}const Ex=K_(W_($_(wx)));let Cx=(()=>{class t extends Ex{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const i of vx)this._hasHostAttributes(i)&&this._getHostElement().classList.add(i);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",e){this._focusMonitor.focusVia(this._getHostElement(),t,e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}return t.\u0275fac=function(e){return new(e||t)(i.Gb(i.i),i.Gb($g),i.Gb(H_,8))},t.\u0275cmp=i.Ab({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){var n;1&t&&i.wc(_v,!0),2&t&&i.gc(n=i.Ub())&&(e.ripple=n.first)},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,e){2&t&&(i.wb("disabled",e.disabled||null),i.yb("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-button-disabled",e.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[i.sb],attrs:yx,ngContentSelectors:_x,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(i.bc(),i.Mb(0,"span",0),i.ac(1),i.Lb(),i.Hb(2,"span",1),i.Hb(3,"span",2)),2&t&&(i.vb(2),i.yb("mat-button-ripple-round",e.isRoundButton||e.isIconButton),i.cc("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[_v],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),t})(),xx=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},imports:[[vv,Q_],Q_]}),t})();const Sx=["underline"],Ox=["connectionContainer"],Ix=["inputContainer"],Tx=["label"];function kx(t,e){1&t&&(i.Kb(0),i.Mb(1,"div",14),i.Hb(2,"div",15),i.Hb(3,"div",16),i.Hb(4,"div",17),i.Lb(),i.Mb(5,"div",18),i.Hb(6,"div",15),i.Hb(7,"div",16),i.Hb(8,"div",17),i.Lb(),i.Jb())}function Ax(t,e){1&t&&(i.Mb(0,"div",19),i.ac(1,1),i.Lb())}function Dx(t,e){if(1&t&&(i.Kb(0),i.ac(1,2),i.Mb(2,"span"),i.sc(3),i.Lb(),i.Jb()),2&t){const t=i.Xb(2);i.vb(3),i.tc(t._control.placeholder)}}function Px(t,e){1&t&&i.ac(0,3,["*ngSwitchCase","true"])}function jx(t,e){1&t&&(i.Mb(0,"span",23),i.sc(1," *"),i.Lb())}function Nx(t,e){if(1&t){const t=i.Nb();i.Mb(0,"label",20,21),i.Tb("cdkObserveContent",(function(){return i.jc(t),i.Xb().updateOutlineGap()})),i.rc(2,Dx,4,1,"ng-container",12),i.rc(3,Px,1,0,"ng-content",12),i.rc(4,jx,2,0,"span",22),i.Lb()}if(2&t){const t=i.Xb();i.yb("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),i.cc("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),i.wb("for",t._control.id)("aria-owns",t._control.id),i.vb(2),i.cc("ngSwitchCase",!1),i.vb(1),i.cc("ngSwitchCase",!0),i.vb(1),i.cc("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function Rx(t,e){1&t&&(i.Mb(0,"div",24),i.ac(1,4),i.Lb())}function Lx(t,e){if(1&t&&(i.Mb(0,"div",25,26),i.Hb(2,"span",27),i.Lb()),2&t){const t=i.Xb();i.vb(2),i.yb("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function Mx(t,e){if(1&t&&(i.Mb(0,"div"),i.ac(1,5),i.Lb()),2&t){const t=i.Xb();i.cc("@transitionMessages",t._subscriptAnimationState)}}function Fx(t,e){if(1&t&&(i.Mb(0,"div",31),i.sc(1),i.Lb()),2&t){const t=i.Xb(2);i.cc("id",t._hintLabelId),i.vb(1),i.tc(t.hintLabel)}}function Vx(t,e){if(1&t&&(i.Mb(0,"div",28),i.rc(1,Fx,2,2,"div",29),i.ac(2,6),i.Hb(3,"div",30),i.ac(4,7),i.Lb()),2&t){const t=i.Xb();i.cc("@transitionMessages",t._subscriptAnimationState),i.vb(1),i.cc("ngIf",t.hintLabel)}}const Bx=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Hx=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],zx=new i.o("MatError"),Ux={transitionMessages:ub("transitionMessages",[fb("enter",db({opacity:1,transform:"translateY(0%)"})),pb("void => enter",[db({opacity:0,transform:"translateY(-100%)"}),lb("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let qx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Bb({type:t}),t})();const Gx=new i.o("MatHint");let Qx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Bb({type:t,selectors:[["mat-label"]]}),t})(),Wx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Bb({type:t,selectors:[["mat-placeholder"]]}),t})();const Kx=new i.o("MatPrefix"),$x=new i.o("MatSuffix");let Xx=0;class Yx{constructor(t){this._elementRef=t}}const Zx=K_(Yx,"primary"),Jx=new i.o("MAT_FORM_FIELD_DEFAULT_OPTIONS"),tS=new i.o("MatFormField");let eS=(()=>{class t extends Zx{constructor(t,e,n,i,r,s,o,a){super(t),this._elementRef=t,this._changeDetectorRef=e,this._dir=i,this._defaults=r,this._platform=s,this._ngZone=o,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new It.a,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+Xx++,this._labelId="mat-form-field-label-"+Xx++,this._labelOptions=n||{},this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==a,this.appearance=r&&r.appearance?r.appearance:"legacy",this._hideRequiredMarker=!(!r||null==r.hideRequiredMarker)&&r.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Dg(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add("mat-form-field-type-"+t.controlType),t.stateChanges.pipe(xe(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Gw(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Gw(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),Object(Dt.a)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(xe(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(xe(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Gw(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const e=this._control?this._control.ngControl:null;return e&&e[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,jw(this._label.nativeElement,"transitionend").pipe(Zt(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||this._labelOptions.float||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const e=this._hintChildren?this._hintChildren.find(t=>"start"===t.align):null,n=this._hintChildren?this._hintChildren.find(t=>"end"===t.align):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&t.push(...this._errorChildren.map(t=>t.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!t||!t.children.length||!t.textContent.trim())return;if(!this._platform.isBrowser)return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let e=0,n=0;const i=this._connectionContainerRef.nativeElement,r=i.querySelectorAll(".mat-form-field-outline-start"),s=i.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const r=i.getBoundingClientRect();if(0===r.width&&0===r.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const s=this._getStartEnd(r),o=t.children,a=this._getStartEnd(o[0].getBoundingClientRect());let c=0;for(let t=0;t<o.length;t++)c+=o[t].offsetWidth;e=Math.abs(a-s)-5,n=c>0?.75*c+10:0}for(let o=0;o<r.length;o++)r[o].style.width=e+"px";for(let o=0;o<s.length;o++)s[o].style.width=n+"px";this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const e=t.getRootNode();return e&&e!==t}return document.documentElement.contains(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Gb(i.i),i.Gb(i.f),i.Gb(Cv,8),i.Gb(rb,8),i.Gb(Jx,8),i.Gb(bg),i.Gb(i.v),i.Gb(H_,8))},t.\u0275cmp=i.Ab({type:t,selectors:[["mat-form-field"]],contentQueries:function(t,e,n){var r;1&t&&(i.zb(n,qx,!0),i.mc(n,qx,!0),i.zb(n,Qx,!0),i.mc(n,Qx,!0),i.zb(n,Wx,!0),i.zb(n,zx,!0),i.zb(n,Gx,!0),i.zb(n,Kx,!0),i.zb(n,$x,!0)),2&t&&(i.gc(r=i.Ub())&&(e._controlNonStatic=r.first),i.gc(r=i.Ub())&&(e._controlStatic=r.first),i.gc(r=i.Ub())&&(e._labelChildNonStatic=r.first),i.gc(r=i.Ub())&&(e._labelChildStatic=r.first),i.gc(r=i.Ub())&&(e._placeholderChild=r.first),i.gc(r=i.Ub())&&(e._errorChildren=r),i.gc(r=i.Ub())&&(e._hintChildren=r),i.gc(r=i.Ub())&&(e._prefixChildren=r),i.gc(r=i.Ub())&&(e._suffixChildren=r))},viewQuery:function(t,e){var n;1&t&&(i.wc(Sx,!0),i.nc(Ox,!0),i.wc(Ix,!0),i.wc(Tx,!0)),2&t&&(i.gc(n=i.Ub())&&(e.underlineRef=n.first),i.gc(n=i.Ub())&&(e._connectionContainerRef=n.first),i.gc(n=i.Ub())&&(e._inputContainerRef=n.first),i.gc(n=i.Ub())&&(e._label=n.first))},hostAttrs:[1,"mat-form-field"],hostVars:44,hostBindings:function(t,e){2&t&&i.yb("mat-form-field-appearance-standard","standard"==e.appearance)("mat-form-field-appearance-fill","fill"==e.appearance)("mat-form-field-appearance-outline","outline"==e.appearance)("mat-form-field-appearance-legacy","legacy"==e.appearance)("mat-form-field-invalid",e._control.errorState)("mat-form-field-can-float",e._canLabelFloat())("mat-form-field-should-float",e._shouldLabelFloat())("mat-form-field-has-label",e._hasFloatingLabel())("mat-form-field-hide-placeholder",e._hideControlPlaceholder())("mat-form-field-disabled",e._control.disabled)("mat-form-field-autofilled",e._control.autofilled)("mat-focused",e._control.focused)("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)("ng-untouched",e._shouldForward("untouched"))("ng-touched",e._shouldForward("touched"))("ng-pristine",e._shouldForward("pristine"))("ng-dirty",e._shouldForward("dirty"))("ng-valid",e._shouldForward("valid"))("ng-invalid",e._shouldForward("invalid"))("ng-pending",e._shouldForward("pending"))("_mat-animation-noopable",!e._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[i.ub([{provide:tS,useExisting:t}]),i.sb],ngContentSelectors:Hx,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,e){1&t&&(i.bc(Bx),i.Mb(0,"div",0),i.Mb(1,"div",1,2),i.Tb("click",(function(t){return e._control.onContainerClick&&e._control.onContainerClick(t)})),i.rc(3,kx,9,0,"ng-container",3),i.rc(4,Ax,2,0,"div",4),i.Mb(5,"div",5,6),i.ac(7),i.Mb(8,"span",7),i.rc(9,Nx,5,16,"label",8),i.Lb(),i.Lb(),i.rc(10,Rx,2,0,"div",9),i.Lb(),i.rc(11,Lx,3,4,"div",10),i.Mb(12,"div",11),i.rc(13,Mx,2,1,"div",12),i.rc(14,Vx,5,2,"div",13),i.Lb(),i.Lb()),2&t&&(i.vb(3),i.cc("ngIf","outline"==e.appearance),i.vb(1),i.cc("ngIf",e._prefixChildren.length),i.vb(5),i.cc("ngIf",e._hasFloatingLabel()),i.vb(1),i.cc("ngIf",e._suffixChildren.length),i.vb(1),i.cc("ngIf","outline"!=e.appearance),i.vb(1),i.cc("ngSwitch",e._getDisplayedMessages()),i.vb(1),i.cc("ngSwitchCase","error"),i.vb(1),i.cc("ngSwitchCase","hint"))},directives:[V,U,q,Fg],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[Ux.transitionMessages]},changeDetection:0}),t})(),nS=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},imports:[[W,Q_,Vg],Q_]}),t})();const iS=Cg({passive:!0});let rS=(()=>{class t{constructor(t,e){this._platform=t,this._ngZone=e,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Yt.a;const e=Rg(t),n=this._monitoredElements.get(e);if(n)return n.subject;const i=new It.a,r="cdk-text-field-autofilled",s=t=>{"cdk-text-field-autofill-start"!==t.animationName||e.classList.contains(r)?"cdk-text-field-autofill-end"===t.animationName&&e.classList.contains(r)&&(e.classList.remove(r),this._ngZone.run(()=>i.next({target:t.target,isAutofilled:!1}))):(e.classList.add(r),this._ngZone.run(()=>i.next({target:t.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{e.addEventListener("animationstart",s,iS),e.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(e,{subject:i,unlisten:()=>{e.removeEventListener("animationstart",s,iS)}}),i}stopMonitoring(t){const e=Rg(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}ngOnDestroy(){this._monitoredElements.forEach((t,e)=>this.stopMonitoring(e))}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(bg),i.Qb(i.v))},t.\u0275prov=Object(i.Cb)({factory:function(){return new t(Object(i.Qb)(bg),Object(i.Qb)(i.v))},token:t,providedIn:"root"}),t})(),sS=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},imports:[[yg]]}),t})();const oS=new i.o("MAT_INPUT_VALUE_ACCESSOR"),aS=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let cS=0;class uS{constructor(t,e,n,i){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=i}}const lS=X_(uS);let hS=(()=>{class t extends lS{constructor(t,e,n,i,r,s,o,a,c,u){super(s,i,r,n),this._elementRef=t,this._platform=e,this.ngControl=n,this._autofillMonitor=a,this._formField=u,this._uid="mat-input-"+cS++,this.focused=!1,this.stateChanges=new It.a,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>vg().has(t));const l=this._elementRef.nativeElement,h=l.nodeName.toLowerCase();this._inputValueAccessor=o||l,this._previousNativeValue=this.value,this.id=this.id,e.IOS&&c.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",t=>{let e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===h,this._isTextarea="textarea"===h,this._isNativeSelect&&(this.controlType=l.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Dg(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required}set required(t){this._required=Dg(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&vg().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Dg(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,e;const n=(null===(e=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===e?void 0:e.call(t))?null:this.placeholder;if(n!==this._previousPlaceholder){const t=this._elementRef.nativeElement;this._previousPlaceholder=n,n?t.setAttribute("placeholder",n):t.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){aS.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}}return t.\u0275fac=function(e){return new(e||t)(i.Gb(i.i),i.Gb(bg),i.Gb(hC,10),i.Gb(ox,8),i.Gb(lx,8),i.Gb(lv),i.Gb(oS,10),i.Gb(rS),i.Gb(i.v),i.Gb(tS,8))},t.\u0275dir=i.Bb({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(t,e){1&t&&i.Tb("focus",(function(){return e._focusChanged(!0)}))("blur",(function(){return e._focusChanged(!1)}))("input",(function(){return e._onInput()})),2&t&&(i.Pb("disabled",e.disabled)("required",e.required),i.wb("id",e.id)("data-placeholder",e.placeholder)("readonly",e.readonly&&!e._isNativeSelect||null)("aria-invalid",e.errorState)("aria-required",e.required.toString()),i.yb("mat-input-server",e._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[i.ub([{provide:qx,useExisting:t}]),i.sb,i.tb]}),t})(),dS=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},providers:[lv],imports:[[sS,nS],sS,nS]}),t})(),fS=(()=>{class t{constructor(t,e,n,i,r,s,o,a){this.afAuth=t,this.afs=e,this.cookie=n,this._formBuilder=i,this.http=r,this.distanceService=s,this.data=o,this.dialogref=a,this.message="",this.cancelButtonText=" Cancel",this.disableButton=!1,this.apiOffline=!1,this.submitDisabled=!0,this.buttonText="Sign In With Google (tcstadmin)",o&&(this.message=o.message||this.message,o.buttonText&&(this.cancelButtonText=o.buttonText.cancel||this.cancelButtonText)),this.user$=this.afAuth.authState.pipe(Rt(t=>t?this.afs.doc("users/"+t.uid).valueChanges():Object(Tt.a)(null)))}onConfirmClick(){this.dialogref.close(!0)}ngOnInit(){this.statusSub=this.distanceService.getStatusListener().subscribe(t=>{this.apiOffline=t.apiOffline,this.apiOffline&&this.dialogref.close(!0)}),this.distanceService.getStatus(),this.form=this._formBuilder.group({distance:["",vC.required]});let t=this.cookie.get("name");""!=t&&(this.disableButton=!0,this.buttonText=t)}submit(){let t=this.cookie.get("name").split(" ");this.http.post("https://automatenow.duckdns.org/api/wtj/submitwalk/4w5q7wedbh236",{distance:this.form.value.distance,init:t[0]+t[1][0]}).subscribe(t=>{console.log(t.message),this.form.reset(),this.submitDisabled=!0,this.distanceService.getDistance(),this.distanceService.getCheckpoint(),this.dialogref.close(!0),window.location.reload()})}changed(t){console.log("triggered"),t.preventDefault(),null!=this.form.value.distance&&this.disableButton?(this.submitDisabled=!1,console.log("valid")):(console.log("invalid"),this.submitDisabled=!0)}google(){return Dw(this,void 0,void 0,(function*(){const t=new Ne.a.auth.GoogleAuthProvider;t.setCustomParameters({prompt:"select_account"});const e=yield this.afAuth.signInWithPopup(t);let n=e.user.email;if(n.includes("tcstadmin")){let t=e.user.displayName.split(" "),n="";for(let e in t)n+=t[e][0];return this.cookie.set("init",n,{expires:999}),this.cookie.set("name",e.user.displayName,{expires:999}),console.log(n),this.disableButton=!0,this.buttonText=e.user.displayName,console.log("OK"),this.updateUserData(e.user)}n.includes("gmail")&&this.logout()}))}logout(){this.afAuth.signOut()}updateUserData(t){return this.afs.doc("users/"+t.uid).set({uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL},{merge:!0})}}return t.\u0275fac=function(e){return new(e||t)(i.Gb(ye),i.Gb(pg),i.Gb(bx),i.Gb(px),i.Gb(Yv),i.Gb(Aw),i.Gb(QE),i.Gb(qE))},t.\u0275cmp=i.Ab({type:t,selectors:[["app-create-dialog"]],decls:18,vars:4,consts:[["mat-raised-button","",2,"margin-bottom","10px",3,"disabled","click"],[3,"formGroup"],["appearance","fill"],["formControlName","distance","type","number","onKeyPress","if(this.value.length==2 ) return false; return event.charCode >= 48 && event.charCode <= 57;","min","1","step","1","max","50","matInput","",3,"input","change"],["align","end"],["mat-raised-button","","color","primary",2,"margin-bottom","3px",3,"disabled","click"],["mat-raised-button","","color","warn","mat-dialog-close","","tabindex","-1"]],template:function(t,e){1&t&&(i.Mb(0,"mat-dialog-content"),i.Mb(1,"h1"),i.sc(2,"Submit Walk"),i.Lb(),i.Mb(3,"p"),i.sc(4,"Please ensure you round to the nearest km"),i.Lb(),i.Mb(5,"button",0),i.Tb("click",(function(){return e.google()})),i.sc(6),i.Lb(),i.Mb(7,"form",1),i.Mb(8,"mat-form-field",2),i.Mb(9,"mat-label"),i.sc(10,"Distance (km)"),i.Lb(),i.Mb(11,"input",3),i.Tb("input",(function(t){return e.changed(t)}))("change",(function(t){return e.changed(t)})),i.Lb(),i.Lb(),i.Hb(12,"br"),i.Lb(),i.Lb(),i.Mb(13,"mat-dialog-actions",4),i.Mb(14,"button",5),i.Tb("click",(function(){return e.submit()})),i.sc(15,"Submit"),i.Lb(),i.Mb(16,"button",6),i.sc(17,"Cancel"),i.Lb(),i.Lb()),2&t&&(i.vb(5),i.cc("disabled",e.disableButton),i.vb(1),i.tc(e.buttonText),i.vb(1),i.cc("formGroup",e.form),i.vb(7),i.cc("disabled",e.submitDisabled))},directives:[JE,Cx,ax,pC,lx,eS,Qx,aC,IC,hS,fC,dx,tC,ZE],styles:[""]}),t})();const pS=["*",[["mat-toolbar-row"]]],mS=["*","mat-toolbar-row"];class gS{constructor(t){this._elementRef=t}}const bS=K_(gS);let yS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Bb({type:t,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),t})(),_S=(()=>{class t extends bS{constructor(t,e,n){super(t),this._platform=e,this._document=n}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return t.\u0275fac=function(e){return new(e||t)(i.Gb(i.i),i.Gb(bg),i.Gb(c))},t.\u0275cmp=i.Ab({type:t,selectors:[["mat-toolbar"]],contentQueries:function(t,e,n){var r;1&t&&i.zb(n,yS,!0),2&t&&i.gc(r=i.Ub())&&(e._toolbarRows=r)},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,e){2&t&&i.yb("mat-toolbar-multiple-rows",e._toolbarRows.length>0)("mat-toolbar-single-row",0===e._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[i.sb],ngContentSelectors:mS,decls:2,vars:0,template:function(t,e){1&t&&(i.bc(pS),i.ac(0),i.ac(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),t})(),vS=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},imports:[[Q_],Q_]}),t})();function wS(t,e){if(1&t){const t=i.Nb();i.Mb(0,"button",4),i.Tb("click",(function(){return i.jc(t),i.Xb().openDialog()})),i.Mb(1,"mat-icon"),i.sc(2,"add"),i.Lb(),i.sc(3," Submit Walk\n"),i.Lb()}}let ES=(()=>{class t{constructor(t,e,n){this.matDialog=t,this.http=e,this.distanceService=n,this.maintenance=!1,this.apioffline=!1}openDialog(){this.distanceService.getStatus();let t=this;setTimeout((function(){t.maintenance||t.apioffline?console.log("Down"):t.matDialog.open(fS,{height:"310px",width:"300px",data:{text:"Hello World",buttonText:"No"}}).afterClosed().subscribe(t=>{console.log(t)})}),500)}ngOnInit(){this.statusSub=this.distanceService.getStatusListener().subscribe(t=>{this.apioffline=t.apiOffline,this.maintenance=t.maintenanceMode})}}return t.\u0275fac=function(e){return new(e||t)(i.Gb(YE),i.Gb(Yv),i.Gb(Aw))},t.\u0275cmp=i.Ab({type:t,selectors:[["app-header"]],decls:6,vars:1,consts:[["color","primary"],["src","https://drive.google.com/uc?export=view&id=1Y20DR1LFuFC9MAy-sh6YHggMwKtWtORC","alt","image",2,"object-fit","cover","width","50px","height","50px","padding-right","3px"],[1,"spacer"],["mat-icon-button","","class","example-icon favorite-icon","aria-label","Example icon-button with heart icon","style","display: contents;",3,"click",4,"ngIf"],["mat-icon-button","","aria-label","Example icon-button with heart icon",1,"example-icon","favorite-icon",2,"display","contents",3,"click"]],template:function(t,e){1&t&&(i.Mb(0,"mat-toolbar",0),i.Hb(1,"img",1),i.Mb(2,"span"),i.sc(3," Walk To Jerusalem"),i.Lb(),i.Hb(4,"span",2),i.rc(5,wS,4,0,"button",3),i.Lb()),2&t&&(i.vb(5),i.cc("ngIf",!e.maintenance&&!e.apioffline))},directives:[_S,V,Cx,Iw],styles:[".spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),t})();const CS=["primaryValueBar"];class xS{constructor(t){this._elementRef=t}}const SS=K_(xS,"primary"),OS=new i.o("mat-progress-bar-location",{providedIn:"root",factory:function(){const t=Object(i.Q)(c),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}});let IS=0,TS=(()=>{class t extends SS{constructor(t,e,n,r){super(t),this._elementRef=t,this._ngZone=e,this._animationMode=n,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new i.l,this._animationEndSubscription=Vt.a.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+IS++;const s=r?r.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${s}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===n}get value(){return this._value}set value(t){this._value=kS(Pg(t)||0)}get bufferValue(){return this._bufferValue}set bufferValue(t){this._bufferValue=kS(t||0)}_primaryTransform(){return{transform:`scaleX(${this.value/100})`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scaleX(${this.bufferValue/100})`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const t=this._primaryValueBar.nativeElement;this._animationEndSubscription=jw(t,"transitionend").pipe(Wt(e=>e.target===t)).subscribe(()=>{"determinate"!==this.mode&&"buffer"!==this.mode||this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Gb(i.i),i.Gb(i.v),i.Gb(H_,8),i.Gb(OS,8))},t.\u0275cmp=i.Ab({type:t,selectors:[["mat-progress-bar"]],viewQuery:function(t,e){var n;1&t&&i.wc(CS,!0),2&t&&i.gc(n=i.Ub())&&(e._primaryValueBar=n.first)},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"mat-progress-bar"],hostVars:4,hostBindings:function(t,e){2&t&&(i.wb("aria-valuenow","indeterminate"===e.mode||"query"===e.mode?null:e.value)("mode",e.mode),i.yb("_mat-animation-noopable",e._isNoopAnimation))},inputs:{color:"color",mode:"mode",value:"value",bufferValue:"bufferValue"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[i.sb],decls:9,vars:4,consts:[["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(t,e){1&t&&(i.Wb(),i.Mb(0,"svg",0),i.Mb(1,"defs"),i.Mb(2,"pattern",1),i.Hb(3,"circle",2),i.Lb(),i.Lb(),i.Hb(4,"rect",3),i.Lb(),i.Vb(),i.Hb(5,"div",4),i.Hb(6,"div",5,6),i.Hb(8,"div",7)),2&t&&(i.vb(2),i.cc("id",e.progressbarId),i.vb(2),i.wb("fill",e._rectangleFillValue),i.vb(1),i.cc("ngStyle",e._bufferTransform()),i.vb(1),i.cc("ngStyle",e._primaryTransform()))},directives:[G],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}\n'],encapsulation:2,changeDetection:0}),t})();function kS(t,e=0,n=100){return Math.max(e,Math.min(n,t))}let AS=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},imports:[[W,Q_],Q_]}),t})();function DS(t,e){1&t&&i.ac(0)}const PS=["*"];function jS(t,e){}const NS=function(t){return{animationDuration:t}},RS=function(t,e){return{value:t,params:e}},LS=["tabBodyWrapper"],MS=["tabHeader"];function FS(t,e){}function VS(t,e){if(1&t&&i.rc(0,FS,0,0,"ng-template",9),2&t){const t=i.Xb().$implicit;i.cc("cdkPortalOutlet",t.templateLabel)}}function BS(t,e){if(1&t&&i.sc(0),2&t){const t=i.Xb().$implicit;i.tc(t.textLabel)}}function HS(t,e){if(1&t){const t=i.Nb();i.Mb(0,"div",6),i.Tb("click",(function(){i.jc(t);const n=e.$implicit,r=e.index,s=i.Xb(),o=i.hc(1);return s._handleClick(n,o,r)})),i.Mb(1,"div",7),i.rc(2,VS,1,1,"ng-template",8),i.rc(3,BS,1,1,"ng-template",8),i.Lb(),i.Lb()}if(2&t){const t=e.$implicit,n=e.index,r=i.Xb();i.yb("mat-tab-label-active",r.selectedIndex==n),i.cc("id",r._getTabLabelId(n))("disabled",t.disabled)("matRippleDisabled",t.disabled||r.disableRipple),i.wb("tabIndex",r._getTabIndex(t,n))("aria-posinset",n+1)("aria-setsize",r._tabs.length)("aria-controls",r._getTabContentId(n))("aria-selected",r.selectedIndex==n)("aria-label",t.ariaLabel||null)("aria-labelledby",!t.ariaLabel&&t.ariaLabelledby?t.ariaLabelledby:null),i.vb(2),i.cc("ngIf",t.templateLabel),i.vb(1),i.cc("ngIf",!t.templateLabel)}}function zS(t,e){if(1&t){const t=i.Nb();i.Mb(0,"mat-tab-body",10),i.Tb("_onCentered",(function(){return i.jc(t),i.Xb()._removeTabBodyWrapperHeight()}))("_onCentering",(function(e){return i.jc(t),i.Xb()._setTabBodyWrapperHeight(e)})),i.Lb()}if(2&t){const t=e.$implicit,n=e.index,r=i.Xb();i.yb("mat-tab-body-active",r.selectedIndex==n),i.cc("id",r._getTabContentId(n))("content",t.content)("position",t.position)("origin",t.origin)("animationDuration",r.animationDuration),i.wb("aria-labelledby",r._getTabLabelId(n))}}const US=["tabListContainer"],qS=["tabList"],GS=["nextPaginator"],QS=["previousPaginator"],WS=new i.o("MatInkBarPositioner",{providedIn:"root",factory:function(){return t=>({left:t?(t.offsetLeft||0)+"px":"0",width:t?(t.offsetWidth||0)+"px":"0"})}});let KS=(()=>{class t{constructor(t,e,n,i){this._elementRef=t,this._ngZone=e,this._inkBarPositioner=n,this._animationMode=i}alignToElement(t){this.show(),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._setStyles(t))}):this._setStyles(t)}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}_setStyles(t){const e=this._inkBarPositioner(t),n=this._elementRef.nativeElement;n.style.left=e.left,n.style.width=e.width}}return t.\u0275fac=function(e){return new(e||t)(i.Gb(i.i),i.Gb(i.v),i.Gb(WS),i.Gb(H_,8))},t.\u0275dir=i.Bb({type:t,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(t,e){2&t&&i.yb("_mat-animation-noopable","NoopAnimations"===e._animationMode)}}),t})();const $S=new i.o("MatTabContent"),XS=new i.o("MatTabLabel");class YS{}const ZS=W_(YS),JS=new i.o("MAT_TAB_GROUP");let tO=(()=>{class t extends ZS{constructor(t,e){super(),this._viewContainerRef=t,this._closestTabGroup=e,this.textLabel="",this._contentPortal=null,this._stateChanges=new It.a,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(t){this._setTemplateLabelInput(t)}get content(){return this._contentPortal}ngOnChanges(t){(t.hasOwnProperty("textLabel")||t.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new tE(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(t){t&&(this._templateLabel=t)}}return t.\u0275fac=function(e){return new(e||t)(i.Gb(i.L),i.Gb(JS,8))},t.\u0275cmp=i.Ab({type:t,selectors:[["mat-tab"]],contentQueries:function(t,e,n){var r;1&t&&(i.zb(n,XS,!0),i.mc(n,$S,!0,i.G)),2&t&&(i.gc(r=i.Ub())&&(e.templateLabel=r.first),i.gc(r=i.Ub())&&(e._explicitContent=r.first))},viewQuery:function(t,e){var n;1&t&&i.nc(i.G,!0),2&t&&i.gc(n=i.Ub())&&(e._implicitContent=n.first)},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"]},exportAs:["matTab"],features:[i.sb,i.tb],ngContentSelectors:PS,decls:1,vars:0,template:function(t,e){1&t&&(i.bc(),i.rc(0,DS,1,0,"ng-template"))},encapsulation:2}),t})();const eO={translateTab:ub("translateTab",[fb("center, void, left-origin-center, right-origin-center",db({transform:"none"})),fb("left",db({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),fb("right",db({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),pb("* => left, * => right, left => center, right => center",lb("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),pb("void => left-origin-center",[db({transform:"translate3d(-100%, 0, 0)"}),lb("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),pb("void => right-origin-center",[db({transform:"translate3d(100%, 0, 0)"}),lb("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let nO=(()=>{class t extends rE{constructor(t,e,n,i){super(t,e,i),this._host=n,this._centeringSub=Vt.a.EMPTY,this._leavingSub=Vt.a.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(xe(this._host._isCenterPosition(this._host._position))).subscribe(t=>{t&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Gb(i.g),i.Gb(i.L),i.Gb(Object(i.P)(()=>rO)),i.Gb(c))},t.\u0275dir=i.Bb({type:t,selectors:[["","matTabBodyHost",""]],features:[i.sb]}),t})(),iO=(()=>{class t{constructor(t,e,n){this._elementRef=t,this._dir=e,this._dirChangeSubscription=Vt.a.EMPTY,this._translateTabComplete=new It.a,this._onCentering=new i.l,this._beforeCentering=new i.l,this._afterLeavingCenter=new i.l,this._onCentered=new i.l(!0),this.animationDuration="500ms",e&&(this._dirChangeSubscription=e.change.subscribe(t=>{this._computePositionAnimationState(t),n.markForCheck()})),this._translateTabComplete.pipe(De((t,e)=>t.fromState===e.fromState&&t.toState===e.toState)).subscribe(t=>{this._isCenterPosition(t.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(t.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(t){this._positionIndex=t,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(t){const e=this._isCenterPosition(t.toState);this._beforeCentering.emit(e),e&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(t){return"center"==t||"left-origin-center"==t||"right-origin-center"==t}_computePositionAnimationState(t=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==t?"left":"right":this._positionIndex>0?"ltr"==t?"right":"left":"center"}_computePositionFromOrigin(t){const e=this._getLayoutDirection();return"ltr"==e&&t<=0||"rtl"==e&&t>0?"left-origin-center":"right-origin-center"}}return t.\u0275fac=function(e){return new(e||t)(i.Gb(i.i),i.Gb(rb,8),i.Gb(i.f))},t.\u0275dir=i.Bb({type:t,inputs:{animationDuration:"animationDuration",position:"position",_content:["content","_content"],origin:"origin"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),t})(),rO=(()=>{class t extends iO{constructor(t,e,n){super(t,e,n)}}return t.\u0275fac=function(e){return new(e||t)(i.Gb(i.i),i.Gb(rb,8),i.Gb(i.f))},t.\u0275cmp=i.Ab({type:t,selectors:[["mat-tab-body"]],viewQuery:function(t,e){var n;1&t&&i.wc(sE,!0),2&t&&i.gc(n=i.Ub())&&(e._portalHost=n.first)},hostAttrs:[1,"mat-tab-body"],features:[i.sb],decls:3,vars:6,consts:[[1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(t,e){1&t&&(i.Mb(0,"div",0,1),i.Tb("@translateTab.start",(function(t){return e._onTranslateTabStarted(t)}))("@translateTab.done",(function(t){return e._translateTabComplete.next(t)})),i.rc(2,jS,0,0,"ng-template",2),i.Lb()),2&t&&i.cc("@translateTab",i.fc(3,RS,e._position,i.ec(1,NS,e.animationDuration)))},directives:[nO],styles:[".mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}\n"],encapsulation:2,data:{animation:[eO.translateTab]}}),t})();const sO=new i.o("MAT_TABS_CONFIG");let oO=0;class aO{}class cO{constructor(t){this._elementRef=t}}const uO=K_($_(cO),"primary");let lO=(()=>{class t extends uO{constructor(t,e,n,r){super(t),this._changeDetectorRef=e,this._animationMode=r,this._tabs=new i.z,this._indexToSelect=0,this._tabBodyWrapperHeight=0,this._tabsSubscription=Vt.a.EMPTY,this._tabLabelSubscription=Vt.a.EMPTY,this._dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this.selectedIndexChange=new i.l,this.focusChange=new i.l,this.animationDone=new i.l,this.selectedTabChange=new i.l(!0),this._groupId=oO++,this.animationDuration=n&&n.animationDuration?n.animationDuration:"500ms",this.disablePagination=!(!n||null==n.disablePagination)&&n.disablePagination}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(t){this._dynamicHeight=Dg(t)}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){this._indexToSelect=Pg(t,null)}get animationDuration(){return this._animationDuration}set animationDuration(t){this._animationDuration=/^\d+$/.test(t)?t+"ms":t}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){const e=this._elementRef.nativeElement;e.classList.remove("mat-background-"+this.backgroundColor),t&&e.classList.add("mat-background-"+t),this._backgroundColor=t}ngAfterContentChecked(){const t=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=t){const e=null==this._selectedIndex;e||this.selectedTabChange.emit(this._createChangeEvent(t)),Promise.resolve().then(()=>{this._tabs.forEach((e,n)=>e.isActive=n===t),e||this.selectedIndexChange.emit(t)})}this._tabs.forEach((e,n)=>{e.position=n-t,null==this._selectedIndex||0!=e.position||e.origin||(e.origin=t-this._selectedIndex)}),this._selectedIndex!==t&&(this._selectedIndex=t,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{if(this._clampTabIndex(this._indexToSelect)===this._selectedIndex){const t=this._tabs.toArray();for(let e=0;e<t.length;e++)if(t[e].isActive){this._indexToSelect=this._selectedIndex=e;break}}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(xe(this._allTabs)).subscribe(t=>{this._tabs.reset(t.filter(t=>!t._closestTabGroup||t._closestTabGroup===this)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}_focusChanged(t){this.focusChange.emit(this._createChangeEvent(t))}_createChangeEvent(t){const e=new aO;return e.index=t,this._tabs&&this._tabs.length&&(e.tab=this._tabs.toArray()[t]),e}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=Object(Dt.a)(...this._tabs.map(t=>t._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(t){return Math.min(this._tabs.length-1,Math.max(t||0,0))}_getTabLabelId(t){return`mat-tab-label-${this._groupId}-${t}`}_getTabContentId(t){return`mat-tab-content-${this._groupId}-${t}`}_setTabBodyWrapperHeight(t){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const e=this._tabBodyWrapper.nativeElement;e.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(e.style.height=t+"px")}_removeTabBodyWrapperHeight(){const t=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=t.clientHeight,t.style.height="",this.animationDone.emit()}_handleClick(t,e,n){t.disabled||(this.selectedIndex=e.focusIndex=n)}_getTabIndex(t,e){return t.disabled?null:this.selectedIndex===e?0:-1}}return t.\u0275fac=function(e){return new(e||t)(i.Gb(i.i),i.Gb(i.f),i.Gb(sO,8),i.Gb(H_,8))},t.\u0275dir=i.Bb({type:t,inputs:{headerPosition:"headerPosition",animationDuration:"animationDuration",disablePagination:"disablePagination",dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[i.sb]}),t})(),hO=(()=>{class t extends lO{constructor(t,e,n,i){super(t,e,n,i)}}return t.\u0275fac=function(e){return new(e||t)(i.Gb(i.i),i.Gb(i.f),i.Gb(sO,8),i.Gb(H_,8))},t.\u0275cmp=i.Ab({type:t,selectors:[["mat-tab-group"]],contentQueries:function(t,e,n){var r;1&t&&i.zb(n,tO,!0),2&t&&i.gc(r=i.Ub())&&(e._allTabs=r)},viewQuery:function(t,e){var n;1&t&&(i.wc(LS,!0),i.wc(MS,!0)),2&t&&(i.gc(n=i.Ub())&&(e._tabBodyWrapper=n.first),i.gc(n=i.Ub())&&(e._tabHeader=n.first))},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(t,e){2&t&&i.yb("mat-tab-group-dynamic-height",e.dynamicHeight)("mat-tab-group-inverted-header","below"===e.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[i.ub([{provide:JS,useExisting:t}]),i.sb],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","disabled","matRippleDisabled","click",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","content","position","origin","animationDuration","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","disabled","matRippleDisabled","click"],[1,"mat-tab-label-content"],[3,"ngIf"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","content","position","origin","animationDuration","_onCentered","_onCentering"]],template:function(t,e){1&t&&(i.Mb(0,"mat-tab-header",0,1),i.Tb("indexFocused",(function(t){return e._focusChanged(t)}))("selectFocusedIndex",(function(t){return e.selectedIndex=t})),i.rc(2,HS,4,14,"div",2),i.Lb(),i.Mb(3,"div",3,4),i.rc(5,zS,1,8,"mat-tab-body",5),i.Lb()),2&t&&(i.cc("selectedIndex",e.selectedIndex||0)("disableRipple",e.disableRipple)("disablePagination",e.disablePagination),i.vb(2),i.cc("ngForOf",e._tabs),i.vb(1),i.yb("_mat-animation-noopable","NoopAnimations"===e._animationMode),i.vb(2),i.cc("ngForOf",e._tabs))},directives:function(){return[yO,M,pO,_v,Yg,V,rE,rO]},styles:[".mat-tab-group{display:flex;flex-direction:column}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],encapsulation:2}),t})();class dO{}const fO=W_(dO);let pO=(()=>{class t extends fO{constructor(t){super(),this.elementRef=t}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return t.\u0275fac=function(e){return new(e||t)(i.Gb(i.i))},t.\u0275dir=i.Bb({type:t,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(t,e){2&t&&(i.wb("aria-disabled",!!e.disabled),i.yb("mat-tab-disabled",e.disabled))},inputs:{disabled:"disabled"},features:[i.sb]}),t})();const mO=Cg({passive:!0});let gO=(()=>{class t{constructor(t,e,n,r,s,o,a){this._elementRef=t,this._changeDetectorRef=e,this._viewportRuler=n,this._dir=r,this._ngZone=s,this._platform=o,this._animationMode=a,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new It.a,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new It.a,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new i.l,this.indexFocused=new i.l,s.runOutsideAngular(()=>{jw(t.nativeElement,"mouseleave").pipe(Gw(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){t=Pg(t),this._selectedIndex!=t&&(this._selectedIndexChanged=!0,this._selectedIndex=t,this._keyManager&&this._keyManager.updateActiveItem(t))}ngAfterViewInit(){jw(this._previousPaginator.nativeElement,"touchstart",mO).pipe(Gw(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),jw(this._nextPaginator.nativeElement,"touchstart",mO).pipe(Gw(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const t=this._dir?this._dir.change:Object(Tt.a)(null),e=this._viewportRuler.change(150),n=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new Bg(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(n):n(),Object(Dt.a)(t,e,this._items.changes).pipe(Gw(this._destroyed)).subscribe(()=>{Promise.resolve().then(n),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(Gw(this._destroyed)).subscribe(t=>{this.indexFocused.emit(t),this._setTabFocus(t)})}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(t){if(!Sg(t))switch(t.keyCode){case 13:case 32:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(t));break;default:this._keyManager.onKeydown(t)}}_onContentChanges(){const t=this._elementRef.nativeElement.textContent;t!==this._currentTextContent&&(this._currentTextContent=t||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(t){this._isValidIndex(t)&&this.focusIndex!==t&&this._keyManager&&this._keyManager.setActiveItem(t)}_isValidIndex(t){if(!this._items)return!0;const e=this._items?this._items.toArray()[t]:null;return!!e&&!e.disabled}_setTabFocus(t){if(this._showPaginationControls&&this._scrollToLabel(t),this._items&&this._items.length){this._items.toArray()[t].focus();const e=this._tabListContainer.nativeElement,n=this._getLayoutDirection();e.scrollLeft="ltr"==n?0:e.scrollWidth-e.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const t=this.scrollDistance,e=this._platform,n="ltr"===this._getLayoutDirection()?-t:t;this._tabList.nativeElement.style.transform=`translateX(${Math.round(n)}px)`,e&&(e.TRIDENT||e.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(t){this._scrollTo(t)}_scrollHeader(t){return this._scrollTo(this._scrollDistance+("before"==t?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(t){this._stopInterval(),this._scrollHeader(t)}_scrollToLabel(t){if(this.disablePagination)return;const e=this._items?this._items.toArray()[t]:null;if(!e)return;const n=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:i,offsetWidth:r}=e.elementRef.nativeElement;let s,o;"ltr"==this._getLayoutDirection()?(s=i,o=s+r):(o=this._tabList.nativeElement.offsetWidth-i,s=o-r);const a=this.scrollDistance,c=this.scrollDistance+n;s<a?this.scrollDistance-=a-s+60:o>c&&(this.scrollDistance+=o-c+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const t=this._tabList.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;t||(this.scrollDistance=0),t!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=t}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabList.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const t=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,e=t?t.elementRef.nativeElement:null;e?this._inkBar.alignToElement(e):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(t,e){e&&null!=e.button&&0!==e.button||(this._stopInterval(),zw(650,100).pipe(Gw(Object(Dt.a)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:e,distance:n}=this._scrollHeader(t);(0===n||n>=e)&&this._stopInterval()}))}_scrollTo(t){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const e=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(e,t)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:e,distance:this._scrollDistance}}}return t.\u0275fac=function(e){return new(e||t)(i.Gb(i.i),i.Gb(i.f),i.Gb($w),i.Gb(rb,8),i.Gb(i.v),i.Gb(bg),i.Gb(H_,8))},t.\u0275dir=i.Bb({type:t,inputs:{disablePagination:"disablePagination"}}),t})(),bO=(()=>{class t extends gO{constructor(t,e,n,i,r,s,o){super(t,e,n,i,r,s,o),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Dg(t)}_itemSelected(t){t.preventDefault()}}return t.\u0275fac=function(e){return new(e||t)(i.Gb(i.i),i.Gb(i.f),i.Gb($w),i.Gb(rb,8),i.Gb(i.v),i.Gb(bg),i.Gb(H_,8))},t.\u0275dir=i.Bb({type:t,inputs:{disableRipple:"disableRipple"},features:[i.sb]}),t})(),yO=(()=>{class t extends bO{constructor(t,e,n,i,r,s,o){super(t,e,n,i,r,s,o)}}return t.\u0275fac=function(e){return new(e||t)(i.Gb(i.i),i.Gb(i.f),i.Gb($w),i.Gb(rb,8),i.Gb(i.v),i.Gb(bg),i.Gb(H_,8))},t.\u0275cmp=i.Ab({type:t,selectors:[["mat-tab-header"]],contentQueries:function(t,e,n){var r;1&t&&i.zb(n,pO,!1),2&t&&i.gc(r=i.Ub())&&(e._items=r)},viewQuery:function(t,e){var n;1&t&&(i.nc(KS,!0),i.nc(US,!0),i.nc(qS,!0),i.wc(GS,!0),i.wc(QS,!0)),2&t&&(i.gc(n=i.Ub())&&(e._inkBar=n.first),i.gc(n=i.Ub())&&(e._tabListContainer=n.first),i.gc(n=i.Ub())&&(e._tabList=n.first),i.gc(n=i.Ub())&&(e._nextPaginator=n.first),i.gc(n=i.Ub())&&(e._previousPaginator=n.first))},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(t,e){2&t&&i.yb("mat-tab-header-pagination-controls-enabled",e._showPaginationControls)("mat-tab-header-rtl","rtl"==e._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[i.sb],ngContentSelectors:PS,decls:13,vars:8,consts:[["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(t,e){1&t&&(i.bc(),i.Mb(0,"div",0,1),i.Tb("click",(function(){return e._handlePaginatorClick("before")}))("mousedown",(function(t){return e._handlePaginatorPress("before",t)}))("touchend",(function(){return e._stopInterval()})),i.Hb(2,"div",2),i.Lb(),i.Mb(3,"div",3,4),i.Tb("keydown",(function(t){return e._handleKeydown(t)})),i.Mb(5,"div",5,6),i.Tb("cdkObserveContent",(function(){return e._onContentChanges()})),i.Mb(7,"div",7),i.ac(8),i.Lb(),i.Hb(9,"mat-ink-bar"),i.Lb(),i.Lb(),i.Mb(10,"div",8,9),i.Tb("mousedown",(function(t){return e._handlePaginatorPress("after",t)}))("click",(function(){return e._handlePaginatorClick("after")}))("touchend",(function(){return e._stopInterval()})),i.Hb(12,"div",2),i.Lb()),2&t&&(i.yb("mat-tab-header-pagination-disabled",e._disableScrollBefore),i.cc("matRippleDisabled",e._disableScrollBefore||e.disableRipple),i.vb(5),i.yb("_mat-animation-noopable","NoopAnimations"===e._animationMode),i.vb(5),i.yb("mat-tab-header-pagination-disabled",e._disableScrollAfter),i.cc("matRippleDisabled",e._disableScrollAfter||e.disableRipple))},directives:[_v,Fg,KS],styles:['.mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:"";height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n'],encapsulation:2}),t})(),_O=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},imports:[[W,Q_,aE,vv,Vg,nb],Q_]}),t})();const vO=["*",[["mat-card-footer"]]],wO=["*","mat-card-footer"],EO=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],CO=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let xO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Bb({type:t,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),t})(),SO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Bb({type:t,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),t})(),OO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Bb({type:t,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),t})(),IO=(()=>{class t{constructor(){this.align="start"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Bb({type:t,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(t,e){2&t&&i.yb("mat-card-actions-align-end","end"===e.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),t})(),TO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Bb({type:t,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-card-footer"]}),t})(),kO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Bb({type:t,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),t})(),AO=(()=>{class t{constructor(t){this._animationMode=t}}return t.\u0275fac=function(e){return new(e||t)(i.Gb(H_,8))},t.\u0275cmp=i.Ab({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,e){2&t&&i.yb("_mat-animation-noopable","NoopAnimations"===e._animationMode)},exportAs:["matCard"],ngContentSelectors:wO,decls:2,vars:0,template:function(t,e){1&t&&(i.bc(vO),i.ac(0),i.ac(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions .mat-button:first-child,.mat-card-actions .mat-raised-button:first-child,.mat-card-actions .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),t})(),DO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Ab({type:t,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:CO,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(t,e){1&t&&(i.bc(EO),i.ac(0),i.Mb(1,"div",0),i.ac(2,1),i.Lb(),i.ac(3,2))},encapsulation:2,changeDetection:0}),t})(),PO=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},imports:[[Q_],Q_]}),t})();function jO(t,e){1&t&&i.Hb(0,"div",11)}function NO(t,e){if(1&t){const t=i.Nb();i.Mb(0,"button",14),i.Tb("click",(function(){i.jc(t);const n=e.$implicit;return i.Xb(3).scrollTo(n.actutal)})),i.sc(1),i.Lb()}if(2&t){const t=e.$implicit;i.vb(1),i.tc(t.name)}}function RO(t,e){if(1&t&&(i.Mb(0,"div",12),i.rc(1,NO,2,1,"button",13),i.Lb()),2&t){const t=i.Xb(2);i.vb(1),i.cc("ngForOf",t.categories)}}function LO(t,e){if(1&t&&(i.Mb(0,"h1",17),i.sc(1),i.Lb()),2&t){const t=i.Xb(3);i.vb(1),i.tc(t.dataCheck.name)}}function MO(t,e){if(1&t&&(i.Mb(0,"li",23),i.sc(1),i.Lb()),2&t){const t=e.$implicit;i.vb(1),i.tc(t)}}function FO(t,e){if(1&t&&i.Hb(0,"img",26),2&t){const t=i.Xb().$implicit;i.cc("src",t,i.kc)}}function VO(t,e){if(1&t&&(i.Mb(0,"div",24),i.rc(1,FO,1,1,"img",25),i.Lb()),2&t){const t=i.Xb(6);i.vb(1),i.cc("ngIf",!t.mobileCheck())}}function BO(t,e){if(1&t&&(i.Mb(0,"div"),i.Mb(1,"h1",18),i.sc(2),i.Lb(),i.Mb(3,"mat-card",19),i.Mb(4,"ol",20),i.rc(5,MO,2,1,"li",21),i.Lb(),i.Mb(6,"mat-card-content"),i.rc(7,VO,2,1,"div",22),i.Lb(),i.Mb(8,"mat-card-footer"),i.sc(9),i.Lb(),i.Lb(),i.Hb(10,"br"),i.Lb()),2&t){const t=i.Xb(2).$implicit,e=i.Xb(3);i.vb(2),i.uc("Facts About ",e.dataCheck.name,""),i.vb(3),i.cc("ngForOf",t.facts),i.vb(2),i.cc("ngForOf",t.images),i.vb(2),i.uc("Information By: ",t.owner,"")}}function HO(t,e){if(1&t&&i.Hb(0,"img",30),2&t){const t=i.Xb(3).$implicit;i.cc("src",t.image,i.kc)}}function zO(t,e){if(1&t&&(i.Mb(0,"div",20),i.sc(1),i.Lb()),2&t){const t=e.$implicit;i.vb(1),i.uc(" ",t," ")}}function UO(t,e){if(1&t&&(i.Mb(0,"div"),i.Mb(1,"h2"),i.sc(2),i.Lb(),i.rc(3,zO,2,1,"div",31),i.Lb()),2&t){const t=e.$implicit;i.vb(2),i.tc(t.label),i.vb(1),i.cc("ngForOf",t.ingredients)}}function qO(t,e){if(1&t&&(i.Mb(0,"li",23),i.sc(1),i.Lb()),2&t){const t=e.$implicit;i.vb(1),i.tc(t)}}function GO(t,e){if(1&t&&(i.Mb(0,"div"),i.Mb(1,"h2"),i.sc(2),i.Lb(),i.Mb(3,"ol",20),i.rc(4,qO,2,1,"li",21),i.Lb(),i.Lb()),2&t){const t=e.$implicit;i.vb(2),i.tc(t.label),i.vb(2),i.cc("ngForOf",t.steps)}}function QO(t,e){if(1&t){const t=i.Nb();i.Mb(0,"button",32),i.Tb("click",(function(){i.jc(t);const e=i.Xb(3).$implicit;return i.Xb(3).printDiv(e.name)})),i.Mb(1,"mat-icon"),i.sc(2,"print"),i.Lb(),i.Lb()}}function WO(t,e){if(1&t&&(i.Mb(0,"div"),i.Mb(1,"mat-card",27),i.Mb(2,"mat-card-header"),i.Mb(3,"mat-card-title"),i.sc(4),i.Lb(),i.Mb(5,"mat-card-subtitle"),i.sc(6),i.Lb(),i.Lb(),i.rc(7,HO,1,1,"img",28),i.Mb(8,"mat-card-content"),i.Mb(9,"h1"),i.sc(10,"Ingredients:"),i.Lb(),i.rc(11,UO,4,2,"div",16),i.Hb(12,"br"),i.Mb(13,"h1"),i.sc(14,"Steps:"),i.Lb(),i.rc(15,GO,5,2,"div",16),i.Lb(),i.Mb(16,"mat-card-actions"),i.rc(17,QO,3,0,"button",29),i.Lb(),i.Mb(18,"mat-card-footer"),i.sc(19),i.Lb(),i.Lb(),i.Hb(20,"br"),i.Lb()),2&t){const t=i.Xb(2).$implicit,e=i.Xb(3);i.vb(1),i.cc("id",t.name),i.vb(3),i.tc(t.name),i.vb(2),i.uc("Traditional ",e.dataCheck.name," dish"),i.vb(1),i.cc("ngIf",e.showImage),i.vb(4),i.cc("ngForOf",t.ingredients),i.vb(4),i.cc("ngForOf",t.method),i.vb(2),i.cc("ngIf",!e.mobileCheck()),i.vb(2),i.uc("Information By: ",t.owner,"")}}function KO(t,e){if(1&t&&i.Hb(0,"img",30),2&t){const t=i.Xb().$implicit;i.cc("src",t,i.kc)}}function $O(t,e){if(1&t&&(i.Mb(0,"div",36),i.rc(1,KO,1,1,"img",28),i.Lb()),2&t){const t=i.Xb(7);i.vb(1),i.cc("ngIf",t.showImage)}}function XO(t,e){if(1&t&&(i.Mb(0,"div"),i.Mb(1,"mat-card",34),i.Mb(2,"mat-card-title"),i.sc(3),i.Lb(),i.Mb(4,"mat-card-subtitle"),i.sc(5),i.Lb(),i.Hb(6,"br"),i.Mb(7,"mat-card-content"),i.rc(8,$O,2,1,"div",35),i.Mb(9,"p"),i.sc(10),i.Lb(),i.Lb(),i.Mb(11,"mat-card-footer"),i.sc(12),i.Lb(),i.Lb(),i.Hb(13,"br"),i.Lb()),2&t){const t=e.$implicit,n=i.Xb(3).$implicit,r=i.Xb(3);i.vb(3),i.tc(t.name),i.vb(2),i.uc("",r.dataCheck.name," Landmark"),i.vb(3),i.cc("ngForOf",t.images),i.vb(2),i.tc(t.info),i.vb(2),i.uc("Information By: ",n.owner,"")}}function YO(t,e){if(1&t&&(i.Mb(0,"div"),i.Mb(1,"h1",33),i.sc(2),i.Lb(),i.rc(3,XO,14,5,"div",16),i.Lb()),2&t){const t=i.Xb(2).$implicit,e=i.Xb(3);i.vb(2),i.uc("",e.dataCheck.name," Landmarks"),i.vb(1),i.cc("ngForOf",t.landmarks)}}function ZO(t,e){if(1&t&&i.Hb(0,"img",30),2&t){const t=i.Xb().$implicit;i.cc("src",t,i.kc)}}function JO(t,e){if(1&t&&(i.Mb(0,"div",36),i.rc(1,ZO,1,1,"img",28),i.Lb()),2&t){const t=i.Xb(7);i.vb(1),i.cc("ngIf",t.showImage)}}function tI(t,e){if(1&t&&(i.Mb(0,"div"),i.Mb(1,"mat-card",34),i.Mb(2,"mat-card-title"),i.sc(3),i.Lb(),i.Mb(4,"mat-card-subtitle"),i.sc(5),i.Lb(),i.Hb(6,"br"),i.Mb(7,"mat-card-content"),i.rc(8,JO,2,1,"div",35),i.Mb(9,"p"),i.sc(10),i.Lb(),i.Lb(),i.Mb(11,"mat-card-footer"),i.sc(12),i.Lb(),i.Lb(),i.Hb(13,"br"),i.Lb()),2&t){const t=e.$implicit,n=i.Xb(3).$implicit,r=i.Xb(3);i.vb(3),i.tc(t.name),i.vb(2),i.uc("Traditional ",r.dataCheck.name," Clothing"),i.vb(3),i.cc("ngForOf",t.images),i.vb(2),i.tc(t.info),i.vb(2),i.uc("Information By: ",n.owner,"")}}function eI(t,e){if(1&t&&(i.Mb(0,"div"),i.Mb(1,"h1",37),i.sc(2),i.Lb(),i.rc(3,tI,14,5,"div",16),i.Lb()),2&t){const t=i.Xb(2).$implicit,e=i.Xb(3);i.vb(2),i.uc("",e.dataCheck.name," Traditional Clothing "),i.vb(1),i.cc("ngForOf",t.landmarks)}}function nI(t,e){if(1&t&&(i.Mb(0,"div"),i.rc(1,BO,11,4,"div",10),i.rc(2,WO,21,8,"div",10),i.rc(3,YO,4,2,"div",10),i.rc(4,eI,4,2,"div",10),i.Lb()),2&t){const t=i.Xb().$implicit;i.vb(1),i.cc("ngIf","facts"==t.type),i.vb(1),i.cc("ngIf","recipe"==t.type),i.vb(1),i.cc("ngIf","landmarks"==t.type),i.vb(1),i.cc("ngIf","clothes"==t.type)}}const iI=function(){return{}};function rI(t,e){if(1&t&&(i.Mb(0,"div"),i.rc(1,nI,5,4,"div",10),i.Lb()),2&t){const t=i.Xb(3);i.vb(1),i.cc("ngIf",t.dataCheck!=i.dc(1,iI))}}function sI(t,e){if(1&t&&(i.Mb(0,"div"),i.rc(1,LO,2,1,"h1",15),i.rc(2,rI,2,2,"div",16),i.Lb()),2&t){const t=i.Xb(2);i.vb(1),i.cc("ngIf","Start"!=t.dataCheck.name),i.vb(1),i.cc("ngForOf",t.dataCheck.info)}}function oI(t,e){if(1&t&&(i.Mb(0,"mat-tab",7),i.rc(1,jO,1,0,"div",8),i.rc(2,RO,2,1,"div",9),i.rc(3,sI,3,2,"div",10),i.Lb()),2&t){const t=e.$implicit,n=i.Xb();i.cc("label",t.name)("disabled",t.disabled),i.vb(1),i.cc("ngIf",!n.mobileCheck()&&"Map"!=t.name),i.vb(1),i.cc("ngIf","Map"!=t.name&&n.showCat),i.vb(1),i.cc("ngIf","Map"!=t.name)}}const aI=r;let cI=(()=>{class t{constructor(t,e,n,i,r,s,o){this.afAuth=t,this.afs=e,this.cookie=n,this._formBuilder=i,this.http=r,this.matDialog=s,this.distanceService=o,this.disableButton=!1,this.categories=[],this.checkpoints=[],this.knomiUnlock=!1,this.showCat=!0,this.showImage=!0,this.submitDisabled=!0,this.buttonText="Sign In With Google (tcstadmin)",this.user$=this.afAuth.authState.pipe(Rt(t=>t?this.afs.doc("users/"+t.uid).valueChanges():Object(Tt.a)(null)))}ngOnInit(){const t=function(t){let e=[];return n=>{e.push(n.keyCode),e.toString().indexOf("38,38,40,40,37,39,37,39,66,65")>=0&&(t(),e=[])}}(()=>{for(let t in this.checkpoints)this.checkpoints[t].disabled=!1;console.log("konami 1")});window.addEventListener("keydown",t),console.log("WARNING: DO NOT PASTE ANYTHING HERE UNLESS YOU UNDERSTAND IT COMPLETELY!"),this.http.get(aI+"wtj/allcheckpoints/4w5q7wedbh236").subscribe(t=>{this.checkpoints=t.checkpoints}),this.distanceSub=this.distanceService.getDistanceListener().subscribe(t=>{this.total=t.total,this.percent=t.percent}),this.checkpointSub=this.distanceService.getCheckpointListener().subscribe(t=>{this.current=t.current,this.next=t.next,this.at=t.at;for(let e in this.checkpoints)e>this.at&&"Map"!=this.checkpoints[e].name&&(this.checkpoints[e].disabled=!0),e==this.at&&this.checkpoints.splice(Number(e)+1,0,{name:"Map",disabled:!1});this.realDistance=this.next.distance-this.current.takeoff,this.getCheckpoint(this.checkpoints[this.at].name)}),this.distanceService.getCheckpoint(),this.distanceService.getDistance(),this.form=this._formBuilder.group({distance:["",vC.required]});let e=this.cookie.get("name");""!=e&&(this.disableButton=!0,this.buttonText=e),this.breakpoint=this.mobileCheck()||this.tabletCheck()?1:3}onResize(t){}changeCheck(t){this.getCheckpoint(this.checkpoints[t.index].name)}getCheckpoint(t){var e=!1,n=null;for(let i in this.checkpoints)if(this.checkpoints[i].name==t){if(0!=this.checkpoints[i].cache.filled)return this.dataCheck=this.checkpoints[i].cache.main,this.categories=this.checkpoints[i].cache.cat,void(this.showCat=1!=this.categories.length);n=i,e=!0}this.http.get(aI+"wtj/getcheckpoint/"+t+"/4w5q7wedbh236").subscribe(t=>{this.dataCheck=t.data,this.categories=new Array;for(let e in this.dataCheck.info){var i={type:this.dataCheck.info[e].type,name:this.dataCheck.info[e].name,actutal:this.dataCheck.info[e].name};"facts"==this.dataCheck.info[e].type?(i.name="Fun Facts",i.actutal="facts"):"landmarks"==this.dataCheck.info[e].type?(i.name="Landmarks",i.actutal="landmark"):"recipe"==this.dataCheck.info[e].type?i.name="Recipe: "+i.name:"clothes"==this.dataCheck.info[e].type&&(i.name="Traditional Clothing",i.actutal="clothes"),this.categories.push(i)}e&&(this.checkpoints[n].cache={main:this.dataCheck,cat:this.categories,filled:!0}),1==this.categories.length?(console.log("match"),this.showCat=!1):this.showCat=!0})}mobileCheck(){let t=!1;return function(e){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0)}(navigator.userAgent||navigator.vendor),t&&(this.showImage=!1),t}printDiv(t){var e=document.getElementById(t).innerHTML,n=document.body.innerHTML;document.body.innerHTML=e,window.print(),document.body.innerHTML=n,window.location.reload()}scrollTo(t){document.getElementById(t).scrollIntoView()}submit(){let t={distance:this.form.value.distance,init:this.cookie.get("init")};this.http.post(aI+"wtj/submitwalk/4w5q7wedbh236",t).subscribe(t=>{this.form.reset(),this.submitDisabled=!0})}tabletCheck(){let t=!1;const e=navigator.userAgent.toLowerCase();return t=/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(e),t}changed(t){this.submitDisabled=null==this.form.value.distance||!this.disableButton}updateUserData(t){return this.afs.doc("users/"+t.uid).set({uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL},{merge:!0})}google(){return Dw(this,void 0,void 0,(function*(){const t=new Ne.a.auth.GoogleAuthProvider;t.setCustomParameters({prompt:"select_account"});const e=yield this.afAuth.signInWithPopup(t);let n=e.user.email;if(n.includes("tcstadmin")){let t=e.user.displayName.split(" "),n="";for(let e in t)n+=t[e][0];return this.cookie.set("init",n,{expires:999}),this.cookie.set("name",e.user.displayName,{expires:999}),this.disableButton=!0,this.buttonText=e.user.displayName,this.updateUserData(e.user)}n.includes("gmail")&&this.logout()}))}logout(){this.afAuth.signOut()}}return t.\u0275fac=function(e){return new(e||t)(i.Gb(ye),i.Gb(pg),i.Gb(bx),i.Gb(px),i.Gb(Yv),i.Gb(YE),i.Gb(Aw))},t.\u0275cmp=i.Ab({type:t,selectors:[["app-main"]],decls:17,vars:10,consts:[[1,"content"],[2,"text-align","center","margin-top","10px"],["mode","determinate",3,"value"],[2,"text-align","center","margin-top","3%"],[3,"selectedIndex","selectedTabChange"],[3,"label","disabled",4,"ngFor","ngForOf"],["id","map","src","https://www.google.com/maps/embed?pb=!1m28!1m12!1m3!1d12230405.619269082!2d9.242728072603802!3d41.548920769024804!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!4m13!3e2!4m5!1s0x47d88e16091dfbd1%3A0xefac2e15e8e14064!2sThe%20Christian%20School%2C%20Takeley%2C%20Takeley%2C%20Bishop's%20Stortford%20CM22%206QH%2C%20UK!3m2!1d51.868205599999996!2d0.2615419!4m5!1s0x1502d7d634c1fc4b%3A0xd96f623e456ee1cb!2sJerusalem%2C%20Israel!3m2!1d31.768318999999998!2d35.21371!5e0!3m2!1sen!2suk!4v1611312304041!5m2!1sen!2suk&ll=51.931283209140915, 2.684018866000651","width","80%","height","600","frameborder","0","allowfullscreen","","aria-hidden","false","tabindex","0",2,"border","0","margin-left","10%","margin-right","10%"],[3,"label","disabled"],["style","margin-left:25%; margin-right:25%",4,"ngIf"],["style","\n      width: 98%;\n\n      padding: 10px; text-align: center; ",4,"ngIf"],[4,"ngIf"],[2,"margin-left","25%","margin-right","25%"],[2,"width","98%","padding","10px","text-align","center"],["mat-stroked-button","","color","primary","style","margin-right: 2px;",3,"click",4,"ngFor","ngForOf"],["mat-stroked-button","","color","primary",2,"margin-right","2px",3,"click"],["style","text-align: center;",4,"ngIf"],[4,"ngFor","ngForOf"],[2,"text-align","center"],["id","facts",2,"text-align","center"],[2,"margin-bottom","3px","margin-left","10%","margin-right","10%"],[2,"font-size","large"],["style","padding-bottom: 8px;",4,"ngFor","ngForOf"],["style","display: inline-block;",4,"ngFor","ngForOf"],[2,"padding-bottom","8px"],[2,"display","inline-block"],["mat-card-image","","alt","image","style"," margin-left: 2%; margin-right: 5px; max-height:400px!important;max-width:750px!important; height: auto;width: auto;",3,"src",4,"ngIf"],["mat-card-image","","alt","image",2,"margin-left","2%","margin-right","5px","max-height","400px!important","max-width","750px!important","height","auto","width","auto",3,"src"],[2,"margin-left","10%","margin-right","10%",3,"id"],["mat-card-image","","alt","I'm Broken","style"," margin-left: 1%; max-height:375px!important;max-width:750px!important; height: auto; width: auto;",3,"src",4,"ngIf"],["mat-icon-button","",3,"click",4,"ngIf"],["mat-card-image","","alt","I'm Broken",2,"margin-left","1%","max-height","375px!important","max-width","750px!important","height","auto","width","auto",3,"src"],["style","font-size: large;",4,"ngFor","ngForOf"],["mat-icon-button","",3,"click"],["id","landmark",2,"text-align","center"],[2,"margin-left","10%","margin-right","10%","width","auto","height","auto"],["style","width: 50%; height: 50%; padding: unset;",4,"ngFor","ngForOf"],[2,"width","50%","height","50%","padding","unset"],["id","clothes",2,"text-align","center"]],template:function(t,e){1&t&&(i.Mb(0,"div",0),i.Mb(1,"h1",1),i.sc(2),i.Yb(3,"number"),i.Lb(),i.Mb(4,"div"),i.Mb(5,"mat-progress-bar",2),i.sc(6,"Test"),i.Lb(),i.Mb(7,"h1",3),i.sc(8),i.Lb(),i.Mb(9,"mat-progress-bar",2),i.sc(10,"Test"),i.Lb(),i.Hb(11,"br"),i.Mb(12,"mat-tab-group",4),i.Tb("selectedTabChange",(function(t){return e.changeCheck(t)})),i.rc(13,oI,4,5,"mat-tab",5),i.Lb(),i.Hb(14,"br"),i.Hb(15,"br"),i.Hb(16,"iframe",6),i.Lb(),i.Lb()),2&t&&(i.vb(2),i.vc("We have walked ",e.total,"km out of 4,439km. Only ",i.Zb(3,8,4439-e.total),"km to go!"),i.vb(3),i.cc("value",e.percent),i.vb(3),i.vc("Our next checkpoint is ",e.next.name," in ",e.next.distance-e.current.distance-(e.total-e.current.distance)," km "),i.vb(1),i.cc("value",e.next.percent),i.vb(3),i.cc("selectedIndex",e.at),i.vb(1),i.cc("ngForOf",e.checkpoints))},directives:[TS,hO,M,tO,V,Cx,AO,xO,TO,kO,DO,SO,OO,IO,Iw],pipes:[Q],styles:['.mat-tab-labels[_ngcontent-%COMP%]{justify-content:center}mat-progress-bar[_ngcontent-%COMP%]{border-radius:25px}mat-progress-bar[_ngcontent-%COMP%], progress[_ngcontent-%COMP%]{height:50px;margin-left:10%;margin-right:10%;width:80%}progress[_ngcontent-%COMP%]{text-align:center}.example-section[_ngcontent-%COMP%]{display:flex;align-content:center;align-items:center;height:60px}progress[_ngcontent-%COMP%]:after{content:attr(value)"%"}.position-fixed[_ngcontent-%COMP%]{position:fixed}']}),t})(),uI=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Ab({type:t,selectors:[["app-maintenance"]],decls:8,vars:0,template:function(t,e){1&t&&(i.Mb(0,"article"),i.Mb(1,"h1"),i.sc(2,"I\u2019ll be back soon!"),i.Lb(),i.Mb(3,"div"),i.Mb(4,"p"),i.sc(5,"Sorry for the inconvenience but I am performing some maintenance at the moment. We\u2019ll be back online shortly!"),i.Lb(),i.Mb(6,"p"),i.sc(7,"\u2014 Jack"),i.Lb(),i.Lb(),i.Lb())},styles:["","body[_ngcontent-%COMP%] { text-align: center; padding: 150px; }\n  h1[_ngcontent-%COMP%] { font-size: 50px; }\n  body[_ngcontent-%COMP%] { font: 20px Helvetica, sans-serif; color: #333; }\n  article[_ngcontent-%COMP%] { display: block; text-align: left; width: 650px; margin: 0 auto; }\n  a[_ngcontent-%COMP%] { color: #dc8100; text-decoration: none; }\n  a[_ngcontent-%COMP%]:hover { color: #333; text-decoration: none; }"]}),t})(),lI=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Ab({type:t,selectors:[["app-apioffline"]],decls:8,vars:0,template:function(t,e){1&t&&(i.Mb(0,"article"),i.Mb(1,"h1"),i.sc(2,"I\u2019ll be back soon!"),i.Lb(),i.Mb(3,"div"),i.Mb(4,"p"),i.sc(5,"Sorry for the inconvenience but I cannot connect to the API. We\u2019ll be back online shortly! In the meantime please submit an issue below"),i.Lb(),i.Mb(6,"p"),i.sc(7,"\u2014 Jack"),i.Lb(),i.Lb(),i.Lb())},styles:["","body[_ngcontent-%COMP%] { text-align: center; padding: 150px; }\n  h1[_ngcontent-%COMP%] { font-size: 50px; }\n  body[_ngcontent-%COMP%] { font: 20px Helvetica, sans-serif; color: #333; }\n  article[_ngcontent-%COMP%] { display: block; text-align: left; width: 650px; margin: 0 auto; }\n  a[_ngcontent-%COMP%] { color: #dc8100; text-decoration: none; }\n  a[_ngcontent-%COMP%]:hover { color: #333; text-decoration: none; }"]}),t})();function hI(t,e){1&t&&i.Hb(0,"app-main",6)}function dI(t,e){1&t&&i.Hb(0,"app-maintenance",7)}function fI(t,e){1&t&&i.Hb(0,"app-apioffline",7)}function pI(t,e){if(1&t){const t=i.Nb();i.Mb(0,"button",12),i.Tb("click",(function(){return i.jc(t),i.Xb(2).openIssue()})),i.sc(1," Submit Issue "),i.Lb()}}function mI(t,e){if(1&t){const t=i.Nb();i.Mb(0,"div"),i.rc(1,pI,2,0,"button",8),i.Mb(2,"button",9),i.Tb("click",(function(){return i.jc(t),i.Xb().openTrello()})),i.Hb(3,"mat-icon",10),i.Lb(),i.Mb(4,"button",9),i.Tb("click",(function(){return i.jc(t),i.Xb().openGithub()})),i.Hb(5,"mat-icon",11),i.Lb(),i.Lb()}if(2&t){const t=i.Xb();i.vb(1),i.cc("ngIf",!t.maintenance)}}let gI=(()=>{class t{constructor(t,e,n,i){this.matIconRegistry=t,this.domSanitizer=e,this.http=n,this.distanceService=i,this.apioffline=!1,this.title="walktojerusalem",this.maintenance=!1,this.matIconRegistry.addSvgIcon("git",this.domSanitizer.bypassSecurityTrustResourceUrl("assets/github.svg")),this.matIconRegistry.addSvgIcon("trello",this.domSanitizer.bypassSecurityTrustResourceUrl("assets/trello.svg"))}ngOnInit(){this.statusSub=this.distanceService.getStatusListener().subscribe(t=>{console.log(t),this.apioffline=t.apiOffline,this.maintenance=t.maintenanceMode}),this.distanceService.getStatus()}openGithub(){window.open("https://github.com/jackcooper04/walktojerusalem")}openTrello(){window.open("https://trello.com/b/naqye7PE/walk-to-jerusalem")}openIssue(){window.open("https://forms.gle/QxCrVVfjed6szuNy7")}mobileCheck(){let t=!1;return function(e){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0)}(navigator.userAgent||navigator.vendor),t}}return t.\u0275fac=function(e){return new(e||t)(i.Gb(yw),i.Gb(wt),i.Gb(Yv),i.Gb(Aw))},t.\u0275cmp=i.Ab({type:t,selectors:[["app-root"]],decls:12,vars:4,consts:[[1,"parent"],["class","",4,"ngIf"],["style","margin: auto;\n  width: 50%;\n  border: 3px;\n  padding: 10px;",4,"ngIf"],[1,"child"],[1,"example-spacer"],[4,"ngIf"],[1,""],[2,"margin","auto","width","50%","border","3px","padding","10px"],["mat-raised-button","","class","example-icon","aria-label","Example icon-button with share icon","color","primary",3,"click",4,"ngIf"],["mat-icon-button","","aria-label","Example icon-button with share icon",1,"example-icon",3,"click"],["svgIcon","trello"],["svgIcon","git"],["mat-raised-button","","aria-label","Example icon-button with share icon","color","primary",1,"example-icon",3,"click"]],template:function(t,e){1&t&&(i.Mb(0,"div",0),i.Hb(1,"app-header"),i.rc(2,hI,1,0,"app-main",1),i.rc(3,dI,1,0,"app-maintenance",2),i.rc(4,fI,1,0,"app-apioffline",2),i.Mb(5,"div",3),i.Hb(6,"hr"),i.Mb(7,"mat-toolbar-row"),i.Mb(8,"span"),i.sc(9,"A Jack Cooper Project: Powered By AutomateNowAPI Beta V0.3"),i.Lb(),i.Hb(10,"span",4),i.rc(11,mI,6,1,"div",5),i.Lb(),i.Lb(),i.Lb()),2&t&&(i.vb(2),i.cc("ngIf",!e.maintenance&&!e.apioffline),i.vb(1),i.cc("ngIf",e.maintenance),i.vb(1),i.cc("ngIf",e.apioffline),i.vb(7),i.cc("ngIf",!e.mobileCheck()))},directives:[ES,V,yS,cI,uI,lI,Cx,Iw],styles:[".content[_ngcontent-%COMP%]{margin-top:58px}"]}),t})(),bI=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)}}),t})();function yI(t){const{subscriber:e,counter:n,period:i}=t;e.next(n),this.schedule({subscriber:e,counter:n+1,period:i},i)}function _I(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function vI(t,e){const n=e?"":"none";_I(t.style,{touchAction:e?"":"none",webkitUserDrag:e?"":"none",webkitTapHighlightColor:e?"":"transparent",userSelect:n,msUserSelect:n,webkitUserSelect:n,MozUserSelect:n})}function wI(t,e){const n=t.style;n.position=e?"":"fixed",n.top=n.opacity=e?"":"0",n.left=e?"":"-999em"}function EI(t){const e=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*e}function CI(t,e){return t.getPropertyValue(e).split(",").map(t=>t.trim())}function xI(t){const e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}function SI(t,e,n){const{top:i,bottom:r,left:s,right:o}=t;return n>=i&&n<=r&&e>=s&&e<=o}function OI(t,e,n){t.top+=e,t.bottom=t.top+t.height,t.left+=n,t.right=t.left+t.width}function II(t,e,n,i){const{top:r,right:s,bottom:o,left:a,width:c,height:u}=t,l=c*e,h=u*e;return i>r-h&&i<o+h&&n>a-l&&n<s+l}class TI{constructor(t,e){this._document=t,this._viewportRuler=e,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),t.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:xI(t)})})}handleScroll(t){const e=t.target,n=this.positions.get(e);if(!n)return null;const i=e===this._document?e.documentElement:e,r=n.scrollPosition;let s,o;if(e===this._document){const t=this._viewportRuler.getViewportScrollPosition();s=t.top,o=t.left}else s=e.scrollTop,o=e.scrollLeft;const a=r.top-s,c=r.left-o;return this.positions.forEach((t,n)=>{t.clientRect&&e!==n&&i.contains(n)&&OI(t.clientRect,a,c)}),r.top=s,r.left=o,{top:a,left:c}}}function kI(t){const e=t.cloneNode(!0),n=e.querySelectorAll("[id]"),i=t.nodeName.toLowerCase();e.removeAttribute("id");for(let r=0;r<n.length;r++)n[r].removeAttribute("id");return"canvas"===i?jI(t,e):"input"!==i&&"select"!==i&&"textarea"!==i||PI(t,e),AI("canvas",t,e,jI),AI("input, textarea, select",t,e,PI),e}function AI(t,e,n,i){const r=e.querySelectorAll(t);if(r.length){const e=n.querySelectorAll(t);for(let t=0;t<r.length;t++)i(r[t],e[t])}}let DI=0;function PI(t,e){"file"!==e.type&&(e.value=t.value),"radio"===e.type&&e.name&&(e.name=`mat-clone-${e.name}-${DI++}`)}function jI(t,e){const n=e.getContext("2d");if(n)try{n.drawImage(t,0,0)}catch($T){}}const NI=Cg({passive:!0}),RI=Cg({passive:!1});class LI{constructor(t,e,n,i,r,s){this._config=e,this._document=n,this._ngZone=i,this._viewportRuler=r,this._dragDropRegistry=s,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new It.a,this._pointerMoveSubscription=Vt.a.EMPTY,this._pointerUpSubscription=Vt.a.EMPTY,this._scrollSubscription=Vt.a.EMPTY,this._resizeSubscription=Vt.a.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new It.a,this.started=new It.a,this.released=new It.a,this.ended=new It.a,this.entered=new It.a,this.exited=new It.a,this.dropped=new It.a,this.moved=this._moveEvents,this._pointerDown=t=>{if(this.beforeStarted.next(),this._handles.length){const e=this._handles.find(e=>{const n=t.target;return!!n&&(n===e||e.contains(n))});!e||this._disabledHandles.has(e)||this.disabled||this._initializeDragSequence(e,t)}else this.disabled||this._initializeDragSequence(this._rootElement,t)},this._pointerMove=t=>{t.preventDefault();const e=this._getPointerPositionOnPage(t);if(!this._hasStartedDragging){if(Math.abs(e.x-this._pickupPositionOnPage.x)+Math.abs(e.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const e=Date.now()>=this._dragStartTime+this._getDragStartDelay(t),n=this._dropContainer;if(!e)return void this._endDragSequence(t);n&&(n.isDragging()||n.isReceiving())||(this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(t)))}return}this._boundaryElement&&(this._previewRect&&(this._previewRect.width||this._previewRect.height)||(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()));const n=this._getConstrainedPointerPosition(e);if(this._hasMoved=!0,this._lastKnownPointerPosition=e,this._updatePointerDirectionDelta(n),this._dropContainer)this._updateActiveDropContainer(n,e);else{const t=this._activeTransform;t.x=n.x-this._pickupPositionOnPage.x+this._passiveTransform.x,t.y=n.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(t.x,t.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${t.x} ${t.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:n,event:t,distance:this._getDragDistance(n),delta:this._pointerDirectionDelta})})},this._pointerUp=t=>{this._endDragSequence(t)},this.withRootElement(t),this._parentPositions=new TI(n,r),s.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=Dg(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions())}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){return this._handles=t.map(t=>Rg(t)),this._handles.forEach(t=>vI(t,!1)),this._toggleNativeDragInteractions(),this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=Rg(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,RI),e.addEventListener("touchstart",this._pointerDown,NI)}),this._initialTransform=void 0,this._rootElement=e),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?Rg(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&VI(this._rootElement),VI(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){this._handles.indexOf(t)>-1&&this._disabledHandles.add(t)}enableHandle(t){this._disabledHandles.delete(t)}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&VI(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&VI(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging&&(this.released.next({source:this}),this._dropContainer?(this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)})):(this._passiveTransform.x=this._activeTransform.x,this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(this._getPointerPositionOnPage(t))})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this))))}_startDragSequence(t){BI(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const t=this._rootElement,i=t.parentNode,r=this._preview=this._createPreviewElement(),s=this._placeholder=this._createPlaceholderElement(),o=this._anchor=this._anchor||this._document.createComment("");i.insertBefore(o,t),wI(t,!1),this._document.body.appendChild(i.replaceChild(s,t)),(n=this._document,n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement||n.body).appendChild(r),this.started.next({source:this}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;var n;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){e.stopPropagation();const n=this.isDragging(),i=BI(e),r=!i&&0!==e.button,s=this._rootElement,o=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(e.target&&e.target.draggable&&"mousedown"===e.type&&e.preventDefault(),n||r||o)return;this._handles.length&&(this._rootElementTapHighlight=s.style.webkitTapHighlightColor||"",s.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scroll.subscribe(t=>{this._updateOnScroll(t)}),this._boundaryElement&&(this._boundaryRect=xI(this._boundaryElement));const a=this._previewTemplate;this._pickupPositionInElement=a&&a.template&&!a.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);const c=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:c.x,y:c.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){wI(this._rootElement,!0),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run(()=>{const e=this._dropContainer,n=e.getItemIndex(this),i=this._getPointerPositionOnPage(t),r=this._getDragDistance(this._getPointerPositionOnPage(t)),s=e._isOverContainer(i.x,i.y);this.ended.next({source:this,distance:r}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:r}),e.drop(this,n,this._initialContainer,s,r,this._initialIndex),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:n,y:i}){let r=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!r&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(r=this._initialContainer),r&&r!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=r,this._dropContainer.enter(this,t,e,r===this._initialContainer&&r.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:r,currentIndex:r.getItemIndex(this)})}),this._dropContainer._startScrollingIfNecessary(n,i),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this._preview.style.transform=MI(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y)}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,n=t?t.template:null;let i;if(n&&t){const e=t.matchSize?this._rootElement.getBoundingClientRect():null,r=t.viewContainer.createEmbeddedView(n,t.context);r.detectChanges(),i=HI(r,this._document),this._previewRef=r,t.matchSize?zI(i,e):i.style.transform=MI(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const t=this._rootElement;i=kI(t),zI(i,t.getBoundingClientRect())}return _I(i.style,{pointerEvents:"none",margin:"0",position:"fixed",top:"0",left:"0",zIndex:""+(this._config.zIndex||1e3)}),vI(i,!1),i.classList.add("cdk-drag-preview"),i.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(t=>i.classList.add(t)):i.classList.add(e)),i}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=MI(t.left,t.top);const e=function(t){const e=getComputedStyle(t),n=CI(e,"transition-property"),i=n.find(t=>"transform"===t||"all"===t);if(!i)return 0;const r=n.indexOf(i),s=CI(e,"transition-duration"),o=CI(e,"transition-delay");return EI(s[r])+EI(o[r])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(t=>{const n=e=>{(!e||e.target===this._preview&&"transform"===e.propertyName)&&(this._preview.removeEventListener("transitionend",n),t(),clearTimeout(i))},i=setTimeout(n,1.5*e);this._preview.addEventListener("transitionend",n)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let n;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),n=HI(this._placeholderRef,this._document)):n=kI(this._rootElement),n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(t,e){const n=this._rootElement.getBoundingClientRect(),i=t===this._rootElement?null:t,r=i?i.getBoundingClientRect():n,s=BI(e)?e.targetTouches[0]:e,o=this._getViewportScrollPosition();return{x:r.left-n.left+(s.pageX-r.left-o.left),y:r.top-n.top+(s.pageY-r.top-o.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),n=BI(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,i=n.pageX-e.left,r=n.pageY-e.top;if(this._ownerSVGElement){const t=this._ownerSVGElement.getScreenCTM();if(t){const e=this._ownerSVGElement.createSVGPoint();return e.x=i,e.y=r,e.matrixTransform(t.inverse())}}return{x:i,y:r}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:n,y:i}=this.constrainPosition?this.constrainPosition(t,this):t;if("x"===this.lockAxis||"x"===e?i=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==e||(n=this._pickupPositionOnPage.x),this._boundaryRect){const{x:t,y:e}=this._pickupPositionInElement,r=this._boundaryRect,s=this._previewRect,o=r.top+e,a=r.bottom-(s.height-e);n=FI(n,r.left+t,r.right-(s.width-t)),i=FI(i,o,a)}return{x:n,y:i}}_updatePointerDirectionDelta(t){const{x:e,y:n}=t,i=this._pointerDirectionDelta,r=this._pointerPositionAtLastDirectionChange,s=Math.abs(e-r.x),o=Math.abs(n-r.y);return s>this._config.pointerDirectionChangeThreshold&&(i.x=e>r.x?1:-1,r.x=e),o>this._config.pointerDirectionChangeThreshold&&(i.y=n>r.y?1:-1,r.y=n),i}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,vI(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,RI),t.removeEventListener("touchstart",this._pointerDown,NI)}_applyRootElementTransform(t,e){const n=MI(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._rootElement.style.transform=this._initialTransform?n+" "+this._initialTransform:n}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const n=this._boundaryElement.getBoundingClientRect(),i=this._rootElement.getBoundingClientRect();if(0===n.width&&0===n.height||0===i.width&&0===i.height)return;const r=n.left-i.left,s=i.right-n.right,o=n.top-i.top,a=i.bottom-n.bottom;n.width>i.width?(r>0&&(t+=r),s>0&&(t-=s)):t=0,n.height>i.height?(o>0&&(e+=o),a>0&&(e-=a)):e=0,t===this._passiveTransform.x&&e===this._passiveTransform.y||this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:BI(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const n=t.target;this._boundaryRect&&(n===this._document||n!==this._boundaryElement&&n.contains(this._boundaryElement))&&OI(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const t=this._parentPositions.positions.get(this._document);return t?t.scrollPosition:this._viewportRuler.getViewportScrollPosition()}}function MI(t,e){return`translate3d(${Math.round(t)}px, ${Math.round(e)}px, 0)`}function FI(t,e,n){return Math.max(e,Math.min(n,t))}function VI(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function BI(t){return"t"===t.type[0]}function HI(t,e){const n=t.rootNodes;if(1===n.length&&n[0].nodeType===e.ELEMENT_NODE)return n[0];const i=e.createElement("div");return n.forEach(t=>i.appendChild(t)),i}function zI(t,e){t.style.width=e.width+"px",t.style.height=e.height+"px",t.style.transform=MI(e.left,e.top)}function UI(t,e){return Math.max(0,Math.min(e,t))}class qI{constructor(t,e,n,i,r){this._dragDropRegistry=e,this._ngZone=i,this._viewportRuler=r,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.enterPredicate=()=>!0,this.beforeStarted=new It.a,this.entered=new It.a,this.exited=new It.a,this.dropped=new It.a,this.sorted=new It.a,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=Vt.a.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new It.a,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(t=0,e=ve.a){return(!Object(Hw.a)(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=ve.a),new kt.a(n=>(n.add(e.schedule(yI,t,{subscriber:n,counter:0,period:t})),n))}(0,Fw).pipe(Gw(this._stopScrollTimers)).subscribe(()=>{const t=this._scrollNode;1===this._verticalScrollDirection?QI(t,-2):2===this._verticalScrollDirection&&QI(t,2),1===this._horizontalScrollDirection?WI(t,-2):2===this._horizontalScrollDirection&&WI(t,2)})},this.element=Rg(t),this._document=n,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new TI(n,r)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){const t=Rg(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._cacheItems(),this._siblings.forEach(t=>t._startReceiving(this)),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}enter(t,e,n,i){let r;this.start(),null==i?(r=this.sortingDisabled?this._draggables.indexOf(t):-1,-1===r&&(r=this._getItemIndexFromPointerPosition(t,e,n))):r=i;const s=this._activeDraggables,o=s.indexOf(t),a=t.getPlaceholderElement();let c=s[r];if(c===t&&(c=s[r+1]),o>-1&&s.splice(o,1),c&&!this._dragDropRegistry.isDragging(c)){const e=c.getRootElement();e.parentElement.insertBefore(a,e),s.splice(r,0,t)}else if(this._shouldEnterAsFirstChild(e,n)){const e=s[0].getRootElement();e.parentNode.insertBefore(a,e),s.unshift(t)}else Rg(this.element).appendChild(a),s.push(t);a.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,n,i,r,s){this._reset(),null==s&&(s=n.getItemIndex(t)),this.dropped.next({item:t,currentIndex:e,previousIndex:s,container:this,previousContainer:n,isPointerOverContainer:i,distance:r})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(t=>t._withDropContainer(this)),this.isDragging()&&(e.filter(t=>t.isDragging()).every(e=>-1===t.indexOf(e))?this._reset():this._cacheItems()),this}withDirection(t){return this._direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._orientation=t,this}withScrollableParents(t){const e=Rg(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?GI("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,e=>e.drag===t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,n,i){if(this.sortingDisabled||!II(this._clientRect,.05,e,n))return;const r=this._itemPositions,s=this._getItemIndexFromPointerPosition(t,e,n,i);if(-1===s&&r.length>0)return;const o="horizontal"===this._orientation,a=GI(r,e=>e.drag===t),c=r[s],u=c.clientRect,l=a>s?1:-1,h=this._getItemOffsetPx(r[a].clientRect,u,l),d=this._getSiblingOffsetPx(a,r,l),f=r.slice();!function(t,e,n){const i=UI(e,t.length-1),r=UI(n,t.length-1);if(i===r)return;const s=t[i],o=r<i?-1:1;for(let a=i;a!==r;a+=o)t[a]=t[a+o];t[r]=s}(r,a,s),this.sorted.next({previousIndex:a,currentIndex:s,container:this,item:t}),r.forEach((e,n)=>{if(f[n]===e)return;const i=e.drag===t,r=i?h:d,s=i?t.getPlaceholderElement():e.drag.getRootElement();e.offset+=r,o?(s.style.transform=`translate3d(${Math.round(e.offset)}px, 0, 0)`,OI(e.clientRect,0,r)):(s.style.transform=`translate3d(0, ${Math.round(e.offset)}px, 0)`,OI(e.clientRect,r,0))}),this._previousSwap.overlaps=SI(u,e,n),this._previousSwap.drag=c.drag,this._previousSwap.delta=o?i.x:i.y}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let n,i=0,r=0;if(this._parentPositions.positions.forEach((s,o)=>{o!==this._document&&s.clientRect&&!n&&II(s.clientRect,.05,t,e)&&([i,r]=function(t,e,n,i){const r=KI(e,i),s=$I(e,n);let o=0,a=0;if(r){const e=t.scrollTop;1===r?e>0&&(o=1):t.scrollHeight-e>t.clientHeight&&(o=2)}if(s){const e=t.scrollLeft;1===s?e>0&&(a=1):t.scrollWidth-e>t.clientWidth&&(a=2)}return[o,a]}(o,s.clientRect,t,e),(i||r)&&(n=o))}),!i&&!r){const{width:s,height:o}=this._viewportRuler.getViewportSize(),a={width:s,height:o,top:0,right:s,bottom:o,left:0};i=KI(a,e),r=$I(a,t),n=window}!n||i===this._verticalScrollDirection&&r===this._horizontalScrollDirection&&n===this._scrollNode||(this._verticalScrollDirection=i,this._horizontalScrollDirection=r,this._scrollNode=n,(i||r)&&n?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_cacheParentPositions(){const t=Rg(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_cacheItemPositions(){const t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(t=>{const e=t.getVisibleElement();return{drag:t,offset:0,clientRect:xI(e)}}).sort((e,n)=>t?e.clientRect.left-n.clientRect.left:e.clientRect.top-n.clientRect.top)}_reset(){this._isDragging=!1;const t=Rg(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(t=>{const e=t.getRootElement();e&&(e.style.transform="")}),this._siblings.forEach(t=>t._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(t,e,n){const i="horizontal"===this._orientation,r=e[t].clientRect,s=e[t+-1*n];let o=r[i?"width":"height"]*n;if(s){const t=i?"left":"top",e=i?"right":"bottom";-1===n?o-=s.clientRect[t]-r[e]:o+=r[t]-s.clientRect[e]}return o}_getItemOffsetPx(t,e,n){const i="horizontal"===this._orientation;let r=i?e.left-t.left:e.top-t.top;return-1===n&&(r+=i?e.width-t.width:e.height-t.height),r}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const n=this._itemPositions,i="horizontal"===this._orientation;if(n[0].drag!==this._activeDraggables[0]){const r=n[n.length-1].clientRect;return i?t>=r.right:e>=r.bottom}{const r=n[0].clientRect;return i?t<=r.left:e<=r.top}}_getItemIndexFromPointerPosition(t,e,n,i){const r="horizontal"===this._orientation;return GI(this._itemPositions,({drag:s,clientRect:o},a,c)=>{if(s===t)return c.length<2;if(i){const t=r?i.x:i.y;if(s===this._previousSwap.drag&&this._previousSwap.overlaps&&t===this._previousSwap.delta)return!1}return r?e>=Math.floor(o.left)&&e<Math.floor(o.right):n>=Math.floor(o.top)&&n<Math.floor(o.bottom)})}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(t,e){return SI(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,n){return this._siblings.find(i=>i._canReceive(t,e,n))}_canReceive(t,e,n){if(!SI(this._clientRect,e,n)||!this.enterPredicate(t,this))return!1;const i=this._getShadowRoot().elementFromPoint(e,n);if(!i)return!1;const r=Rg(this.element);return i===r||r.contains(i)}_startReceiving(t){const e=this._activeSiblings;e.has(t)||(e.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scroll.subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&(this._itemPositions.forEach(({clientRect:t})=>{OI(t,e.top,e.left)}),this._itemPositions.forEach(({drag:t})=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=xg(Rg(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}}function GI(t,e){for(let n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1}function QI(t,e){t===window?t.scrollBy(0,e):t.scrollTop+=e}function WI(t,e){t===window?t.scrollBy(e,0):t.scrollLeft+=e}function KI(t,e){const{top:n,bottom:i,height:r}=t,s=.05*r;return e>=n-s&&e<=n+s?1:e>=i-s&&e<=i+s?2:0}function $I(t,e){const{left:n,right:i,width:r}=t,s=.05*r;return e>=n-s&&e<=n+s?1:e>=i-s&&e<=i+s?2:0}const XI=Cg({passive:!1,capture:!0});let YI=(()=>{class t{constructor(t,e){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=new Set,this._globalListeners=new Map,this.pointerMove=new It.a,this.pointerUp=new It.a,this.scroll=new It.a,this._preventDefaultWhileDragging=t=>{this._activeDragInstances.size&&t.preventDefault()},this._persistentTouchmoveListener=t=>{this._activeDragInstances.size&&(t.preventDefault(),this.pointerMove.next(t))},this._document=e}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,XI)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,XI)}startDragging(t,e){if(!this._activeDragInstances.has(t)&&(this._activeDragInstances.add(t),1===this._activeDragInstances.size)){const t=e.type.startsWith("touch");this._globalListeners.set(t?"touchend":"mouseup",{handler:t=>this.pointerUp.next(t),options:!0}).set("scroll",{handler:t=>this.scroll.next(t),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:XI}),t||this._globalListeners.set("mousemove",{handler:t=>this.pointerMove.next(t),options:XI}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((t,e)=>{this._document.addEventListener(e,t.handler,t.options)})})}}stopDragging(t){this._activeDragInstances.delete(t),0===this._activeDragInstances.size&&this._clearGlobalListeners()}isDragging(t){return this._activeDragInstances.has(t)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,e)=>{this._document.removeEventListener(e,t.handler,t.options)}),this._globalListeners.clear()}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.v),i.Qb(c))},t.\u0275prov=Object(i.Cb)({factory:function(){return new t(Object(i.Qb)(i.v),Object(i.Qb)(c))},token:t,providedIn:"root"}),t})();const ZI={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let JI=(()=>{class t{constructor(t,e,n,i){this._document=t,this._ngZone=e,this._viewportRuler=n,this._dragDropRegistry=i}createDrag(t,e=ZI){return new LI(t,e,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new qI(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(c),i.Qb(i.v),i.Qb($w),i.Qb(YI))},t.\u0275prov=Object(i.Cb)({factory:function(){return new t(Object(i.Qb)(c),Object(i.Qb)(i.v),Object(i.Qb)($w),Object(i.Qb)(YI))},token:t,providedIn:"root"}),t})(),tT=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},providers:[JI],imports:[Xw]}),t})(),eT=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},imports:[[sb]]}),t})(),nT=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},imports:[[Yw]]}),t})(),iT=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)}}),t})();n("WMd4");const rT={provide:new i.o("mat-autocomplete-scroll-strategy"),deps:[NE],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let sT=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},providers:[rT],imports:[[LE,Ev,Q_,W],Xw,Ev,Q_]}),t})(),oT=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},imports:[[nb,Q_],Q_]}),t})();n("SeVD"),n("yCtX");let aT=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},imports:[[LE,Q_,aE],Q_]}),t})(),cT=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},imports:[[Q_,vv],Q_]}),t})(),uT=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)}}),t})(),lT=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},imports:[[vv,Q_,Vg,uT],Q_,uT]}),t})();const hT=new i.o("mat-chips-default-options"),dT={separatorKeyCodes:[13]};let fT=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},providers:[lv,{provide:hT,useValue:dT}]}),t})(),pT=(()=>{class t{constructor(){this.changes=new It.a,this.optionalLabel="Optional"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Cb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const mT={provide:pT,deps:[[new i.w,new i.F,pT]],useFactory:function(t){return t||new pT}};let gT=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},providers:[mT,lv],imports:[[Q_,W,aE,xx,eT,Tw,vv],Q_]}),t})(),bT=(()=>{class t{constructor(){this.changes=new It.a,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 20 years",this.nextMultiYearLabel="Next 20 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(t,e){return`${t} \u2013 ${e}`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Cb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const yT={provide:new i.o("mat-datepicker-scroll-strategy"),deps:[NE],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let _T=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},providers:[bT,yT],imports:[[W,xx,eC,LE,nb,aE],Xw]}),t})(),vT=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},imports:[[Q_],Q_]}),t})(),wT=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)}}),t})(),ET=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},imports:[[W,wT,aE]]}),t})(),CT=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},imports:[[hv,Q_],hv,Q_]}),t})(),xT=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},imports:[[hv,vv,Q_,wv,W],hv,Q_,wv,vT]}),t})();const ST={provide:new i.o("mat-menu-scroll-strategy"),deps:[NE],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let OT=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},providers:[ST],imports:[Q_]}),t})(),IT=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},providers:[ST],imports:[[W,Q_,vv,LE,OT],Xw,Q_,OT]}),t})();const TT={provide:new i.o("mat-select-scroll-strategy"),deps:[NE],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let kT=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},providers:[TT],imports:[[W,LE,Ev,Q_],Xw,nS,Ev,Q_]}),t})();const AT={provide:new i.o("mat-tooltip-scroll-strategy"),deps:[NE],useFactory:function(t){return()=>t.scrollStrategies.reposition({scrollThrottle:20})}};let DT=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},providers:[AT],imports:[[nb,W,LE,Q_],Q_,Xw]}),t})(),PT=(()=>{class t{constructor(){this.changes=new It.a,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(t,e,n)=>{if(0==n||0==e)return"0 of "+n;const i=t*e;return`${i+1} \u2013 ${i<(n=Math.max(n,0))?Math.min(i+e,n):i+e} of ${n}`}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Cb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const jT={provide:PT,deps:[[new i.w,new i.F,PT]],useFactory:function(t){return t||new PT}};let NT=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},providers:[jT],imports:[[W,xx,kT,DT]]}),t})(),RT=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},imports:[[Q_,W],Q_]}),t})(),LT=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},imports:[[vv,Q_],Q_]}),t})(),MT=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},imports:[[W,Q_,yg,Xw],Xw,Q_]}),t})(),FT=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},imports:[[W,Q_],Q_]}),t})(),VT=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)}}),t})(),BT=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},imports:[[VT,vv,Q_,Vg],VT,Q_]}),t})(),HT=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},imports:[[LE,aE,W,xx,Q_],Q_]}),t})(),zT=(()=>{class t{constructor(){this.changes=new It.a,this.sortButtonLabel=t=>"Change sorting for "+t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Cb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const UT={provide:zT,deps:[[new i.w,new i.F,zT]],useFactory:function(t){return t||new zT}};let qT=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},providers:[UT],imports:[[W]]}),t})(),GT=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},imports:[[nT,Q_],Q_]}),t})(),QT=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},imports:[[iT,Q_],Q_]}),t})(),WT=(()=>{class t{}return t.\u0275mod=i.Eb({type:t}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},imports:[nb,bI,eT,nT,iT,tT,sT,oT,aT,xx,cT,PO,lT,fT,gT,_T,eC,vT,ET,CT,Tw,dS,xT,IT,uv,NT,AS,RT,LT,vv,kT,MT,FT,BT,HT,qT,GT,_O,vS,DT,QT,LE,aE,Yw]}),t})(),KT=(()=>{class t{}return t.\u0275mod=i.Eb({type:t,bootstrap:[gI]}),t.\u0275inj=i.Db({factory:function(e){return new(e||t)},providers:[pg,bx],imports:[[Ot,gx,mx,dw,_e,mg,U_,he.a.initializeApp(s),_e,WT]]}),t})();Object(i.O)(),xt().bootstrapModule(KT).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return c}));var i=n("7o/Q"),r=n("HDdC"),s=n("SeVD");class o extends i.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends i.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function c(t,e){if(!e.closed)return t instanceof r.a?t.subscribe(e):Object(s.a)(t)(e)}}},[[0,0]]]);